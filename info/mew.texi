\input texinfo  @c -*-texinfo-*-
@c %**start of header
@setfilename mew.ja.info
@settitle Mew (Messaging in the Emacs World)
@c %**end of header

@clear en
@clear ja
@set ja

@ifset ja
@c Mew の texinfo
@c Copyright (C) 1996-2011 山本和彦
@c M-x texinfo-format-buffer で info にしてね。
@end ifset
@ifset en
@c Texinfo for Mew
@c Copyright (C) 1996-2011 Kazuhiko Yamamoto
@c Try "M-x texinfo-format-buffer" or makeinfo to get the Info.
@end ifset

@set version 6.4
@set modified 2011/06/29
@set X-Mailer Mew version 6.4 on Emacs 22.3

@titlepage
@sp 10
@center
@title Mew
@ifset ja
@author Copyright @copyright{}1996-2011 山本和彦
@end ifset
@ifset en
@author Copyright @copyright{}1996-2011 Kazuhiko Yamamoto
@end ifset
@end titlepage

@dircategory Message User Agent
@direntry
@ifset ja
* Mew-J: (mew.ja.info).      Messaging in the Emacs World.
@end ifset
@ifset en
* Mew: (mew.info).           Messaging in the Emacs World.
@end ifset
@end direntry

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Top
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@ifinfo

@node Top, Overview, (dir), (dir)
@ifset ja
@top Mew @value{version} マニュアル
@end ifset
@ifset en
@top Mew @value{version} Manual
@end ifset

@flushright
@ifset ja
山本和彦
作成 1996/02/19
更新 @value{modified}
@end ifset
@ifset en
Kazu YAMAMOTO
Created 1996/02/18
Modified @value{modified}
@end ifset
@end flushright

@ifset ja
このマニュアルでは、Mew バージョン @value{version} について解説します。
このマニュアルの他に、Mew に関する有益な情報は Mew の公式ホームページ
(http://www.Mew.org/)から得られるかもしれません。
@end ifset
@ifset en
This manual documents Mew version @value{version}. In addition to this
manual, you may find useful information about Mew from Mew's official
home page (http://www.Mew.org/).
@end ifset

@end ifinfo

@menu
@ifset ja
* Overview::                    はじめに読んでね
* Viewing::                     メッセージを表示する
* Composing::                   メッセージを作成する
* Marks::                       愉快なマークたち
* Refile::                      楽々整理整頓
* Virtual::                     仮想フォルダ
* Quit::                        一休み
* Customize::                   カスタマイズ
* Tips::                        さらなる一歩
* Convention::                  メッセージの作法
* Implementation::              実装について
* Avail::                       入手方法とメーリングリスト
* Copyright::                   著作権について
* Variable Index::              変数索引
* Key Index::                   キー索引
@end ifset
@ifset en
* Overview::                    Read me first
* Viewing::                     Viewing messages
* Composing::                   Composing messages
* Marks::                       Funny marks
* Refile::                      Happy refiling
* Virtual::                     Virtual folder
* Quit::                        Give me a break
* Customize::                   Customizing Mew
* Tips::                        Advanced usage
* Convention::                  E-mail convention
* Implementation::              Implementation Issues
* Avail::                       Availability and mailing-list
* Copyright::                   Copyright
* Variable Index::              Variable Index
* Key Index::                   Key Index
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Overview
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Overview, characteristic, Top, Top
@ifset ja
@chapter はじめに読んでね
@end ifset
@ifset en
@chapter Read me first
@end ifset

@ifset ja
Mew とは、テキスト・メールやマルチメディア・メール(MIME)、ニュース、セ
キュリティ機能(PGP、S/MIME、SSH、SSL)を便利に利用するためのユーザインター
フェイスです。最新の検索サービスとも連動します。
@end ifset
@ifset en
Mew is a user interface for text messages, multimedia messages (MIME),
news articles and security functionality including PGP, S/MIME, SSH,
and SSL. Also, Mew can work with the recent search services.
@end ifset

@ifset ja
Mew は 「Messaging in the Emacs World」 の略です。先頭の M は大文字で表
記し、「みゅう」と読みます。M で始まるかわいらしい単語を選んだ結果 Mew
になりました。決して漫画の題名や某アイドルの歌、あるいは、関西の会社に
因んでいるわけではありません。:p
@end ifset
@ifset en
Mew is an acronym for "Messaging in the Emacs World". You should spell
it with the first letter capitalized and pronounce it as it is
(i.e. the meow of cats). When the author started programming it, he
chose a cute word from his English dictionary. Thus, Mew.
@end ifset

@menu
@ifset ja
* characteristic::             Mew の特長
* Emacsen::                    Emacs のバージョン
* modes::                      モード
* folder convention::          フォルダの種類
* configuration::              初期設定
* password::                   パスワード
* start::                      起動
@end ifset
@ifset en
* characteristic::             Mew's features
* Emacsen::                    Supported Emacs versions
* modes::                      Modes
* folder convention::          Folder convention
* configuration::              Configuration
* password::                   Password
* start::                      Starting
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%

@node characteristic, Emacsen, Overview, Overview
@ifset ja
@section Mew の特長
@end ifset
@ifset en
@section Mew's features
@end ifset

@ifset ja
Mew バージョン @value{version} の特長を以下に示します。
@end ifset
@ifset en
The features of Mew @value{version} are as follows:
@end ifset

@itemize @minus
@ifset ja
@item
複雑な構造を持つメッセージを簡単に表示できます。メッセージを表示する作
業は、@samp{SPC} を押すだけです。
@item
コピー程度のファイルの操作を知っている人ならだれでも簡単に複雑なメッセー
ジを作成できます。
@item
メッセージの一覧表示が終了するまで待たなくても、メッセージを読み始めら
れます。
@item
Summary モードのメッセージの一覧を保存しているので、フォルダを移動した
場合は、更新された部分だけを一覧表示します。
@item
メッセージの整頓先を賢く推測します。たくさんメッセージを受け取る人は、
これがないと生きていけません。
@item
Draft モードでは、フィールド名、メールアドレス、氏名、ドメイン名、フォ
ルダ名を補完できます。
@item
キーワードなどによって、探したいメッセージを簡単に検索できます。
@item
PGP や S/MIME で暗号化されたメッセージを自動的に復号化します。また、電
子署名を自動的に検証します。
@item
MIME の構造を解析したり、PGP や S/MIME の署名を検証したりするのには少し
時間がかかります。そこで、ユーザがあるメッセージを読んでいる間に、次の
メッセージをあらかじめ処理しておくことで高速性を実現しています。解析さ
れたメッセージは、しばらくの間保存されます。
@item
PGP や S/MIME を使って、メッセージを簡単に暗号化したり、署名したりでき
ます。
@item
複数のフォルダを 1 つのフォルダに見せかけられます。
@item
メッセージのやり取りの流れを可視化するセレクションやスレッドの機能を備
えています。特定のキーワードに合致したメッセージでセレクションを作り、
さらにそのスレッドを作成できます。
@item
フォルダ名を入力する場合、フォルダ名の一部をキーとして検索できます。
@end ifset
@ifset en
@item
You can easily display a very complicated structured message. What you
should do to view messages is just type @samp{SPC}.
@item
If you know how to do file operations such as copy, you can compose a
very complicated message without any difficulty.
@item
You can start to read messages before they are all fully listed.
@item
Since Mew preserves lists of messages in Summary mode, when you move
messages to a new folder, they will automatically be listed
incrementally.
@item
Mew neatly suggests default folders for refiling. Those who receive
many messages cannot live without this feature.
@item
In Draft mode, you can complete field names, e-mail addresses,
receiver's names, domain names, and folder names.
@item
You can easily search messages with keywords etc.
@item
Mew automatically decodes messages encrypted with PGP or S/MIME. It
also automatically verifies signed messages.
@item
You can easily encrypt or sign a message with PGP or S/MIME.
@item
It takes a bit of time to analyze MIME syntax or to verify a PGP or
S/MIME signature. While the user is reading a message, Mew processes
the next message so that the next message can be displayed
faster. Analyzed messages are cached briefly.
@item
You can view multiple folders simultaneously.
@item
Selection/Thread, a mechanism to display the flow of messages, is
supported. You can make Selection from messages matched to a keyword
and make Thread from the Selection.
@item
When you input a folder name, you can search it with a substring of
the name.
@end ifset
@end itemize

@c %%%%%%%%%%%%%%%%%

@node Emacsen, modes, characteristic, Overview
@ifset ja
@section Emacs のバージョン
@end ifset
@ifset en
@section Supported Emacs versions
@end ifset

@ifset ja
Emacs 22.3 以降を使って下さい。これらより前のバージョンや XEmacs は、サ
ポートしていません。
@end ifset
@ifset en
Please use Emacs 22.3 or later. Mew doesn't support earlier versions
nor XEmacs.
@end ifset

@c %%%%%%%%%%%%%%%%%

@node modes, folder convention, Emacsen, Overview
@ifset ja
@section モード
@end ifset
@ifset en
@section Modes
@end ifset

@ifset ja
Mew には次の 7 つのモードがあります。
@end ifset
@ifset en
Mew has the following seven modes:
@end ifset

@table @samp
@ifset ja
@item Summary モード
メッセージの一覧を表示し選択するモード。
@item Virtual モード
単数あるいは複数のフォルダからある条件に合致したメッセージを取り出し、
仮想的に 1 つのフォルダにしたモード。Summary モードに似ている。
セレクションやスレッドと呼ばれる。
@item Message モード
メッセージの内容を表示するモード。
@item Draft モード
メッセージの送信、返答、転送を準備するためのモード。
@item Header モード 
既存のメッセージのヘッダのみを編集し送信するためのモード。
@item Edit モード
既存のメッセージを編集し、新しいメッセージを作成するためのモード。
@item Addrbook モード
アドレス帳にエントリを登録するためのモード。
@end ifset
@ifset en
@item Summary mode
A mode to list and select messages.
@item Virtual mode
A mode to list messages selected with a specific condition from one or
more folders. This is similar to Summary mode. This mode is
categorized to Selection or Thread.
@item Message mode
A mode to display the content of a message.
@item Draft mode
A mode to prepare a message to be sent, answered, and forwarded.
@item Header mode
A mode to edit the header of a message and to send it.
@item Edit mode
A mode to edit a message to generate another new message.
@item Addrbook mode
A mode to register an entry to the address book (Addrbook).
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%

@node folder convention, configuration, modes, Overview
@ifset ja
@section フォルダの種類
@end ifset
@ifset en
@section Folder convention
@end ifset

@ifset ja
Mew の用語では、メッセージが届く場所を「メールボックス」と呼びます。メー
ルボックスの種類としては、ローカルのメールボックス、POP サーバ、IMAP サー
バ、および NNTP サーバがあります。
@end ifset
@ifset en
With Mew's terminology, a place where messages are deliver is called
'mailbox'. There are three kinds of mailbox: local, POP server, IMAP
server, and NNTP server.
@end ifset

@ifset ja
また、Mew 自身がメッセージを格納する箱のことを「フォルダ」と呼びます。
フォルダ名は、一文字の記号からなる修飾子と文字列が連結された形式になっ
ています。たとえば、「+inbox」というフォルダの修飾子は「+」です。
@end ifset
@ifset en
A box which contains messages used by Mew is called "folder". The name
of a folder is in the format that "proto" is followed by a string,
where "proto" is one sign letter. For example, the proto of "+inbox"
is "+".
@end ifset

@ifset ja
Mew のフォルダには、「ローカル・フォルダ」と「リモート・フォルダ」の 2 種
類があります。
@end ifset
@ifset en
Mew's folders are categorized to two types: "local folder" and "remote
folder".
@end ifset

@ifset ja
ローカル・フォルダとは、Mew が動いているコンピュータに「本物」が作られ
るフォルダです。そのフォルダに格納されるメッセージも本物です。(ですから、
もしそのフォルダのメッセージを消してしまうと復元できません。)
@end ifset
@ifset en
A local folder is a folder which is *original* and is created the
computer on which Mew is running. Also, messages stored in the folder
are *original*. (So, if you remove them, you cannot revive them.)
@end ifset

@ifset ja
ローカル・フォルダの修飾子は "+" です。以下に特殊なローカル・フォルダを
挙げます。
@end ifset
@ifset en
The proto of a local folder is "+". We summarize special local folders
as follows:
@end ifset

@table @samp
@ifset ja
@item +inbox
ローカルのメールボックスや POP サーバに届いたメッセージを、ローカルに移
動させて最初に保存するためのローカル・フォルダ。メッセージを整理する場
合は、"+inbox" から他のローカル・フォルダに移動させることになる。
@item +draft
書きかけのメッセージを保存しておくローカル・フォルダ。
@item +queue
書き終ってメールの配送に適した書式に変換されたメッセージが溜るローカル・
フォルダ。"+queue" のメッセージは、いずれ SMTP によって送信さる。
@item +postq
書き終ってニュースに投稿するのに適した書式に変換されたメッセージが溜る
ローカル・フォルダ。"+postq" のメッセージは、いずれ NNTP によって送信さ
れる。
@end ifset
@ifset en
@item +inbox
The first local folder to store messages which you fetch from your
local mailbox or your POP server. To refile messages, what you do is
to move the messages from "+inbox" to other folders.
@item +draft
A local folder where messages, which you have not completed yet, are
stored.
@item +queue
A local folder where e-mail messages to be sent are stored. The
messages in "+queue" will be eventually sent by SMTP.
@item +postq
A local folder where NetNews message to be sent are stored. The
messages in "+postq" will be eventually sent by NNTP.
@end ifset
@end table

@ifset ja
リモート・フォルダとは、サーバ側にあるフォルダをローカルにコピーしたも
のです。本物のメッセージはあくまでサーバ側にあり、ローカルにはメッセー
ジのコピーがキャッシュされます。
@end ifset
@ifset en
A remote folder is a COPY whose original is on a server side. A
message in a remote folder is a cache which is copied from the server.
@end ifset

@ifset ja
利用できるリモート・フォルダの修飾子を以下に示します。
@end ifset
@ifset en
Here are a list of available proto of remote folders:
@end ifset

@table @samp
@ifset ja
@item %
IMAP のフォルダ。例："%inbox"
@item $
POP サーバのサーバ側のフォルダ。例："$inbox" (POP サーバのフォルダは 1
つしかないので、"$" で始まるリモート・フォルダは "$inbox" のみ。)
@item -
ニュースのニュースグループ。例："-fj.mail.reader.mew"
@end ifset
@ifset en
@item %
Folders on an IMAP servers. Example: "%inbox"
@item $
The folder on a POP server. Example: "$inbox" (Since there is only one
folder in a POP server, "$inbox" is the only folder whose name starts
with "$".)
@item -
Newsgroups of NetNews. Example: "-fj.mail.reader.mew"
@end ifset
@end table

@ifset ja
サーバが異なれば、リモート・フォルダの実体も異なります。複数のサーバは、
ケースという機能を使って指定します。詳しくは、@xref{config} を参照して
下さい。あるケースに対するリモート・フォルダは、"case:folder" のように、
フォルダ名の前にケース名を付けて指定します。ケースが "default" である場
合は、"case:" の部分を省略可能です。
@end ifset
@ifset en
If you use several servers, there are multiple sets of remote folders.
You can specify several servers by using "case". For more information
about the "case", see @ref{config}. To specify a remote folder
corresponding to a "case", you should write "case:folder". You can
omit "case:" if a case is "default".
@end ifset

@ifset ja
ケースと修飾子の組は、あるメッセージが属す世界を構成しています。メッセー
ジは、それが属す世界の中を移動できます。受け取ったメッセージは、後で探
しやすいように、適切なフォルダに移動させて保存します。この整頓の方法に
ついて、@xref{Refile} を参照して下さい。
@end ifset
@ifset en
A combination of "case" and proto organized a world to which a message
belongs. A message can move within its world. To make it easy to
search received messages afterward, they should be moved to proper
folders. To know how to refile received messages, see @ref{Refile}.
@end ifset

@ifset ja
なお、POP サーバには "$inbox" というフォルダしかありませんから、"$" の
世界でメッセージを移動させることはできません。また、ニュースの記事は自
分のものではありませんから、"-" の世界でもメッセージの移動は不可能です。
@end ifset
@ifset en
You cannot move a message in the "$" world because there is only one
folder, "$inbox". You cannot move a message in the "-" world either
since messages in the "-" world are not yours.
@end ifset

@ifset ja
世界を超えてメッセージを移動させたい場合は、コピーします。ただし、コピー
先はローカル・フォルダに限定されます。この方法は、@xref{retrieving} で説
明されています。
@end ifset
@ifset en
If you want to move a message from one world to another, you should
COPY it. Its destination is restricted to a local folder. This method
is described in @ref{retrieving}.
@end ifset

@ifset ja
フォルダのリストを作成しておくと、フォルダ名に対し補完が利用できて便利
です。フォルダのリストを作成する方法は、@xref{status-update} を参照して
下さい。
@end ifset
@ifset en
If you make a list of folders, you can use the completion
functionality for folders. To know how to make a list of folders,
please refer to @ref{status-update}.
@end ifset

@c %%%%%%%%%%%%%%%%%

@node configuration, password, folder convention, Overview
@ifset ja
@section 初期設定
@end ifset
@ifset en
@section Configuration
@end ifset
@vindex read-mail-command
@vindex mail-user-agent
@vindex mew-name
@vindex mew-user
@vindex mew-smtp-server
@vindex mew-pop-user
@vindex mew-mailbox-type
@vindex mew-mbox-command
@vindex mew-mbox-command-arg
@vindex mew-proto
@vindex mew-imap-server
@vindex mew-nntp-server

@ifset ja
Mew を起動するには、組織の設定ファイルか自分の "~/.emacs" に以下の設定
が必要です。
@end ifset
@ifset en
To execute Mew, the followings are necessary either in the site
configuration file or in your "~/.emacs".
@end ifset

@lisp
(autoload 'mew "mew" nil t)
(autoload 'mew-send "mew" nil t)

;; Optional setup (Read Mail menu):
(setq read-mail-command 'mew)

;; Optional setup (e.g. C-xm for sending a message):
(autoload 'mew-user-agent-compose "mew" nil t)
(if (boundp 'mail-user-agent)
    (setq mail-user-agent 'mew-user-agent))
(if (fboundp 'define-mail-user-agent)
    (define-mail-user-agent
      'mew-user-agent
      'mew-user-agent-compose
      'mew-draft-send-message
      'mew-draft-kill
      'mew-send-hook))
@end lisp

@ifset ja
Latin-1 のために、Emacs を --unibyte オプション付で起動しているか、環境
変数 EMACS_UNIBYTE と共に起動している場合、以下の設定を "~/.emacs" に入
れて下さい。
@end ifset
@ifset en
If you are using Emacs with the --unibyte option or the EMACS_UNIBYTE
environment variable for Latin-1, put the following into your
@w{"}~/.emacs".
@end ifset

@lisp
(set-language-environment "Latin-1")
(set-input-method "latin-1-prefix") ;; or "latin-1-postfix"
@end lisp

@ifset ja
Latin-1 のために、以下のような設定をしているなら、削って下さい。これは
Latin-1 にカスタマイズするための方法としては推奨されていませんし、この
設定では Mew は正しく動きません。
@end ifset
@ifset en
If you use the following configuration for Latin-1, please remove it.
This is an obsolete handling of Latin-1 that can cause Mew to function
incorrectly.
@end ifset

@lisp
(standard-display-european 1)
@end lisp

@ifset ja
Mew は起動時に、"~/.mew.el" を読み込みます。Mew に関する設定は、このファ
イルに入れるとよいでしょう。
@end ifset
@ifset en
When booting, Mew reads the file "~/.mew.el". All Mew configurations
should be written in this file.
@end ifset

@ifset ja
メールアドレスを指定するために、以下の設定が必要です。
@end ifset
@ifset en
To configure your e-mail address, the followings are necessary.
@end ifset

@lisp
;; (setq mew-name "your name") ;; (user-full-name)
;; (setq mew-user "user name of e-mail address") ;; (user-login-name)
(setq mew-mail-domain "domain of e-mail address")
@end lisp

@ifset ja
SMTP を使ってメッセージを送信するためには、以下の設定が必要です。
@end ifset
@ifset en
To send e-mail messages by SMTP, the following is necessary.
@end ifset

@lisp
(setq mew-smtp-server "your SMTP server")  ;; if not localhost
@end lisp

@ifset ja
POP を使ってメッセージを受信する場合は、以下の設定が必要です。
@end ifset
@ifset en
If you want to use POP to receive e-mail messages, the followings are
necessary.
@end ifset

@lisp
;; (setq mew-pop-user "your POP account")  ;; (user-login-name)
(setq mew-pop-server "your POP server")    ;; if not localhost
@end lisp

@ifset ja
メッセージの受信にローカルのメールボックスを利用したい場合は、以下のよ
うな設定が必要です。
@end ifset
@ifset en
If you want to use a local mailbox to receive e-mail messages, the
followings are necessary.
@end ifset

@lisp
;; To use local mailbox "mbox" or "maildir" instead of POP
(setq mew-mailbox-type 'mbox)
(setq mew-mbox-command "incm")
(setq mew-mbox-command-arg "-u -d /path/to/mbox")
;; If /path/to/mbox is a file, it means "mbox".
;; If /path/to/mbox is a directory, it means "maildir".
@end lisp

@ifset ja
IMAP を使ってメッセージを受信する場合は、以下の設定が必要です。
@end ifset
@ifset en
If you want to use IMAP to receive e-mail messages, the followings are
necessary.
@end ifset

@lisp
(setq mew-proto "%")
;; (setq mew-imap-user "your IMAP account")  ;; (user-login-name)
(setq mew-imap-server "your IMAP server")    ;; if not localhost
@end lisp

@ifset ja
ニュースを読み書きする場合は、以下の設定が必要です。
@end ifset
@ifset en
To read and/or write articles of NetNews, the followings are necessary.
@end ifset

@lisp
;; (setq mew-nntp-user "your NNTP account")
(setq mew-nntp-server "your NNTP server")
@end lisp

@c %%%%%%%%%%%%%%%%%

@node password, start, configuration, Overview
@ifset ja
@section パスワード
@end ifset
@ifset en
@section Password
@end ifset
@vindex mew-use-cached-passwd
@vindex mew-use-master-passwd

@ifset ja
メッセージを送受信したり、PGP や S/MIME を使ったりする場合には、パスワー
ドを訊かれることがあります。パスワードを入力する前に以下の条件のどちら
かが満たされていることを確認しましょう。

@itemize @minus
@item
Emacs が目の前のコンピュータで動いている
@item
Emacs が遠隔のコンピュータで動いているが、なんらかの暗号手段を使って通信
している。
@end itemize

どちらの条件も満たされない場合は、パスワードを入力しないで下さい。入力す
ると盗聴される恐れがあります。
@end ifset
@ifset en
When fetching/sending messages or using PGP or S/MIME, you may be
required to input your password. Before you type your password, check
carefully to see if either the following conditions is satisfied:

@itemize @minus
@item
Emacs is running on a local computer
@item
Emacs is running on a remote computer, but an encryption mechanism is
being used for communication.
@end itemize

If neither of these conditions are satisfied, do not input a
password. Your password could be accessed without your knowledge.
@end ifset

@ifset ja
パスワードを何回も入力するのが面倒な人は、パスワードを保存する機能を利用
して下さい。2 つの方法があります。
@end ifset
@ifset en
If you get sick of inputting your password from time to time, please use
one of two password-cache mechanisms.
@end ifset

@enumerate
@ifset ja
@item
パスワードをメモリに一時的に蓄える。ファイルには書き出さない。
@item
パスワードをメモリに Mew が起動している間中蓄える。Mew/Emacs の終了時に、
パスワードを暗号化しファイルに書き出す。
@end ifset
@ifset en
@item
Storing passwords in memory temporarily. Not writing them to a file.
@item
Storing passwords in memory while Mew is running. When Mew/Emacs
quits, Mew encrypts the passwords and writes them to a file.
@end ifset
@end enumerate

@ifset ja
1. の機能を利用するには、以下のように設定します。
@end ifset
@ifset en
To use Feature 1., configure as follows:
@end ifset

@lisp
(setq mew-use-cached-passwd t)
@end lisp

@ifset ja
2. の機能を利用するには、GnuPG をインストールした後、以下のように設定し
ます。
@end ifset
@ifset en
To use Feature 2., after installing GnuPG, configure as follows:
@end ifset

@lisp
(setq mew-use-master-passwd t)
@end lisp

@ifset ja
両方の変数が @samp{t} の場合、2. の機能が利用されます。
@end ifset
@ifset en
If both variables are @samp{t}, the feature 2. is used.
@end ifset

@ifset ja
1. の機能：あらゆるパスワード(POP、PGP など)が一時的にメモリに保存され
ます。パスワードが保存されている間は、パスワードの入力を省略できます。
保存されているパスワードは一定時間(通常は 20 分)が過ぎると消去されます。
ただし、保存されているパスワードが内部で利用されると、保存期間が延長さ
れます(20 分に戻ります)。
@end ifset
@ifset en
Feature 1.: Any passwords including POP and PGP are cached in
memory. While a password is cached, you can omit to input the
password. The cached password will expire after a certain period (20
minutes by default). However, its timer is cleared (reset to 20
minutes) if the password is used internally.
@end ifset

@ifset ja
2. の機能：Mew の起動時に、マスターパスワードを訊かれます。Mew はそのマ
スターパスワードで、暗号化されているパスワードを復号化し、メモリに蓄え
ます。たとえば、以前 POP のパスワードを入力していれば、それがメモリに蓄
えられていますから、次に POP のパスワードが必要な際、POP のパスワードの
入力を省略できます。はじめてマスターパスワードを利用する際は、確認のた
めマスターパスワードを 2 回訊きます。また、たとえば POP のパスワードも
1 回だけ入力するように促されます。Mew の起動時に、間違ったマスターパスワー
ドを入力することもあるでしょう。その場合、1. の機能を有効にしているなら、
1. の機能が使われます。有効でなければ、パスワードの保存機能は利用されま
せん。
@end ifset
@ifset en
Feature 2: When Mew boots, Mew asks you to input a master password.
Mew decrypts encrypted passwords in a file and caches them in memory.
For instance, if you have already typed POP password, it is to be
stored in memory. Thus, when the POP password is required, you can
omit to input it. If you use a master password at the first time,
you are asked to input it twice. When Mew boots, you might type
a wrong master password. In this case, if you enabled Feature 1.,
it is used. Otherwise, no password-cache mechanisms is used.
@end ifset

@ifset ja
マスターパスワードを変更するには、Summary モードで @samp{C-cC-m} と入力
します。
@end ifset
@ifset en
If you want to change the master password, type @samp{C-cC-m} in
Summary mode.
@end ifset

@ifset ja
メモリに保存されているパスワードは、暗号化されていません。そこで、1. ま
たは 2. の方法を使う場合は、他の人に自分が起動した Emacs を触られないよ
うに気をつけて下さい。もし席を空け、Emacs をよく知っている他の人に
Emacs を操作された場合、パスワードを盗み取られる可能性があります。
@end ifset
@ifset en
Cached passwords in memory are not encrypted. So, if you use either
Feature 1. or Feature 2., you should take care so that nobody can
touch your Emacs. If you leave your PC and an Emacs expert happens to
check your configuration, your passwords could be stolen.
@end ifset

@c %%%%%%%%%%%%%%%%%

@node start, Viewing, password, Overview
@ifset ja
@section 起動
@end ifset
@ifset en
@section Starting
@end ifset
@vindex mew-auto-get
@vindex mew-proto
@vindex mew-mailbox-type
@vindex mail-user-agent
@kindex M-x mew
@kindex C-uM-x mew
@kindex M-x mew-send
@kindex C-xm

@ifset ja
Mew を起動するには、以下の方法があります。
@end ifset
@ifset en
To start Mew, you can choose one of the following:
@end ifset

@table @samp
@ifset ja
@item M-x mew
Mew が起動していなければ、まず Mew を起動する。そして、メッセージを取得
するか、あるいは単にデフォルトのフォルダへ移動する。

まず、「修飾子」は @samp{mew-proto} とケースから決定される。
(@xref{config} を参照)

「修飾子」が @samp{+}(ローカル・フォルダ)なら、@samp{mew-mailbox-type} 
からメールボックスが決定される。(@xref{retrieving} を参照) その他、すな
わちリモート・フォルダなら、メッセージを取得するためのプロトコルが修飾子
に応じて決る。

@samp{mew-auto-get} が @samp{t} なら、到着したメッセージが非同期に取得さ
れ、Summary モードへ一覧表示される。

@samp{mew-auto-get} が @samp{nil} なら、修飾子によって決定したデフォルト
のフォルダへ単に移動する。
@item C-uM-x mew
@samp{mew-auto-get} の値を逆だと考えて、@samp{M-x mew} を実行する。
@item C-xm
@samp{mail-user-agent} が設定されている場合、Draft モードへ移行する。
@end ifset
@ifset en
@item M-x mew
Execute Mew first unless Mew is running. And retrieve arrived
messages or just visit to the default folder.

@samp{proto} is determined by @samp{mew-proto} and the "case" (see
@ref{config}).

If @samp{proto} is @samp{+} (i.e. a local folder), a mailbox is determined
according to @samp{mew-mailbox-type} (see @ref{retrieving}). 
Otherwise (i.e. a remote folder), an appropriate protocol to retrieve
messages is chosen according to @samp{proto}.

If @samp{mew-auto-get} is @samp{t}, arrived messages are asynchronously fetched
and listed up in Summary mode.

@samp{mew-auto-get} is @samp{nil}, just visit to the folder determined by
@samp{proto}.
@item C-uM-x mew
Perform @samp{M-x mew} with @samp{mew-auto-get} reversed.
@item M-x mew-send
Enter Draft mode for message composing.
@item C-xm
Enter Draft mode for message composing if @samp{mail-user-agent} is
configured.
@end ifset
@end table

@ifset ja
Emacs で Mew を起動すると可愛い 2 匹の子が猫現れます。
@end ifset
@ifset en
When Mew is executed on Emacs, two cute cats appear on the cover page.
@end ifset

@ifset ja
なお、Mew を終了する方法は、@xref{Quit} を参照して下さい。
@end ifset
@ifset en
For the methods of quitting Mew, please refer to @ref{Quit}.
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Viewing
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Viewing, singlepart, start, Top
@ifset ja
@chapter メッセージを表示する
@end ifset
@ifset en
@chapter Viewing messages
@end ifset
@kindex M-x mew

@ifset ja
(Mew が起動中でも、起動中ではなくても) @samp{M-x mew} と入力すると、Mew 
はメッセージを以下のように一覧表示します。
@end ifset
@ifset en
If you input @samp{M-x mew} (regardless Mew is running or not), Mew
displays a list of message like this:
@end ifset

@example
@ifset ja
* 03/12 Hidenori Ohta  今週末                    |日曜にストーンマジック
 M03/14 ももちゃん     能登の写真                |この前撮った写真を添付
  03/15 Neat Sumikawa  Re: ワイン                |じゃぁ、水曜日に例の店
@end ifset
@ifset en
* 03/12 Hidenori Ohta  This weekend              |Let's go to StoneMagic
 M03/14 Momo-chan      The pictures of Noto      |Attached are the pictu
  03/15 Neat Sumikawa  Re: wine                  |OK. I vote for Wednesd
@end ifset
@end example

@ifset ja
これを Summary モードといいます。ここでは、主に Summary モードでのメッセー
ジの読み方について説明します。
@end ifset
@ifset en
This is called Summary mode. This section mainly explains how to read
messages in Summary mode.
@end ifset

@ifset ja
上記の例のように Summary モードは、マーク、データ型(Mew が付けるマーク)、
日付、差出人、Subject:、本文から構成されています。
@end ifset
@ifset en
As you can see the example above, the format of Summary mode consists of
a mark, data type (a mark by Mew), date, a sender, Subject:, and a body.
@end ifset

@ifset ja
Summary モードを消去する方法については、@xref{Quit} を参照して下さい。
@end ifset
@ifset en
For the method of terminating Summary mode, please see @ref{Quit}.
@end ifset

@menu
@ifset ja
* singlepart::                  読み方の基礎
* multipart::                   MIME を表示する
* analysis::                    MIME の解析を制御する
* cipher-viewing::              暗号メールや電子署名を表示する
* retrieving::                  メッセージの取得
* moving::                      フォルダの移動
* sum-write::                   送信、返答、転送
* features::                    便利な機能
* status-update::               状態の更新
* invalid::                     規格違反のメッセージ
@end ifset
@ifset en
* singlepart::                  Reading Basis
* multipart::                   Displaying MIME
* analysis::                    Controlling MIME analysis
* cipher-viewing::              Visualizing cipher or signature
* retrieving::                  Getting messages
* moving::                      Moving to another folder
* sum-write::                   Write, answer, and forward
* features::                    Useful features
* status-update::               Updating status
* invalid::                     Invalid messages
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node singlepart, multipart, Viewing, Viewing
@ifset ja
@section 読み方の基礎
@end ifset
@ifset en
@section Reading Basis
@end ifset
@kindex SPC (Summary)
@kindex C-uSPC (Summary)
@kindex DEL (Summary)
@kindex RET (Summary)
@kindex M-RET (Summary)
@kindex - (Summary)
@kindex C-n (Summary)
@kindex C-p (Summary)
@kindex n (Summary)
@kindex p (Summary)
@kindex C-un (Summary)
@kindex C-up (Summary)
@kindex j (Summary)
@kindex C-uj (Summary)

@ifset ja
メッセージを上から順に読んでいくのであれば、@samp{SPC} を適宜押すだけで
す。簡単でしょ？
@end ifset
@ifset en
To read messages in the order of their arrival, type @samp{SPC} to
display them. That's it. It's easy, isn't it?
@end ifset

@ifset ja
しかしそれだけではあんまりなので、以下にページを操作する基本的なコマンド
を示します。
@end ifset
@ifset en
Yet this might not be comprehensive, so the basic commands for page
processing are listed as follows:
@end ifset

@table @samp
@ifset ja
@item SPC
メッセージを読み進める。つまり、メッセージを表示し、スクロールさせ、他の
メッセージに移動して表示する。カーソルが移動する方向は、
@xref{summary-mode} を参照のこと。
@item C-uSPC
メッセージを先頭から再表示。
@item DEL
現在のメッセージを下にスクロールさせる。不必要なヘッダフィールドは、ウイ
ンドウの上に隠れている。よって、@samp{DEL} を入力すると、それらが現れる。
@item RET
現在のメッセージを 1 行上にスクロールする。
@item M-RET
@item -
現在のメッセージを 1 行下にスクロールする。
@end ifset
@ifset en
@item SPC
Read through messages. That is, display a message, scroll it, and
move-then-display another message. refer to @ref{summary-mode} to know
which direction the cursor moves.
@item C-uSPC
Redisplay the message from its header.
@item DEL
Back-scroll this message. Unnecessary header fields are hidden over the
window. Type @samp{DEL} to see them when a message is displayed.
@item RET
Make this message scroll up one line.
@item M-RET
@item -
Make this message scroll down one line.
@end ifset
@end table

@table @samp
@ifset ja
@item C-n
下の行へ移動。
@item C-p
上の行へ移動。
@item n
下方向に移動し表示。対象となるのは、パート、@samp{*} マークの付いたメッ
セージ、マークの付いていないメッセージ。
@item C-un
下方向に移動し表示。対象となるのは、@samp{*} マークの付いたメッセージ、
マークの付いていないメッセージ。
@item p
上方向に移動し表示。対象となるのは、パート、@samp{*} マークの付いたメッ
セージ、マークの付いていないメッセージ。
@item C-up
上方向に移動し表示。対象となるのは、@samp{*} マークの付いたメッセージ、
マークの付いていないメッセージ。
@item j
入力された行番号に従ってその行へ移動。
@item C-uj
入力されたメッセージの番号に従ってその行へ移動。
@end ifset
@ifset en
@item C-n
Go to the next line.
@item C-p
Go to the previous line.
@item n
Move down then display. Targets include parts, messages marked with
@samp{*}, and non-marked messages.
@item C-un
Move down then display. Targets include messages marked with @samp{*},
and non-marked messages.
@item p
Move up then display. Targets include parts, messages marked with
@samp{*}, and non-marked messages.
@item C-up
Move up then display. Targets include messages marked with @samp{*}, and
non-marked messages.
@item j
Jump to a line according to the line number which you input.
@item C-uj
Jump to a message according to the message number which you input.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node multipart, analysis, singlepart, Viewing
@ifset ja
@section MIME を表示する
@end ifset
@ifset en
@section Displaying MIME
@end ifset
@vindex mew-end-of-message-string
@vindex mew-end-of-part-string

@ifset ja
マルチパートを読むのは別に大変なことではありません。今まで通り、
@samp{SPC} を押していけばよいだけです。
@end ifset
@ifset en
It's not difficult to read a multipart message. As usual, just type
@samp{SPC}.
@end ifset

@ifset ja
マルチパートのメッセージは、以下のように日付の左に @samp{M} というマーク
が付いています。
@end ifset
@ifset en
A multipart message is marked with @samp{M} on the left side of date as
follows:
@end ifset

@example
@ifset ja
* 03/12 Hidenori Ohta  今週末                    |日曜にストーンマジック
 M03/14 ももちゃん     能登の写真                |この前撮った写真を添付
  03/15 Neat Sumikawa  Re: ワイン                |じゃぁ、水曜日に例の店
@end ifset
@ifset en
* 03/12 Hidenori Ohta  This weekend              |Let's go to StoneMagic
 M03/14 Momo-chan      The pictures of Noto      |Attached are the pictu
  03/15 Neat Sumikawa  Re: wine                  |OK. I vote for Wednesd
@end ifset
@end example

@ifset ja
@samp{M} マークの付いたメッセージで @samp{SPC} を押すと、ヘッダを 
Message モードに表示すると共に、以下のように Summary モードでマルチパー
トの構造を簡素に表示します。
@end ifset
@ifset en
When you type @samp{SPC} on the message marked with @samp{M}, its header
is displayed in Message mode. Then its multipart structure is displayed
in Summary mode as follows:
@end ifset

@example
@ifset ja
* 03/12 Hidenori Ohta  今週末                    |日曜にストーンマジック
 M03/14 ももちゃん     能登の写真                |この前撮った写真を添付
B    2  Image/Jpeg                   写真1                    noto1.jpg
Q    3  Application/Postscript       能登の地図               map.ps
  03/15 Neat Sumikawa  Re: ワイン                |じゃぁ、水曜日に例の店
@end ifset
@ifset en
* 03/12 Hidenori Ohta  This weekend              |Let's go to StoneMagic
 M03/14 Momo-chan      The pictures of Noto      |Attached are the pictu
B    2  Image/Jpeg                   picture 1                noto1.jpg
Q    3  Application/Postscript       Note map                 map.ps
  03/15 Neat Sumikawa  Re: wine                  |OK. I vote for Wednesd
@end ifset
@end example

@ifset ja
もし、パート 1 が Text/ なら、Summary モードにはパート 1 は可視化されず、
そのかわりパート 1 がヘッダと共に Message モードに表示されます。
@end ifset
@ifset en
If the first part is Text/, the first part is not displayed in Summary
mode but the first part is displayed with its header in Message mode.
@end ifset

@ifset ja
マルチパートの各行は

@itemize @minus
@item
マーク (Content-Transfer-Encoding:)
@item
パート番号
@item
データ型 (Content-Type:)
@item
説明 (Content-Description:)
@item
ファイル名 (Content-Disposition:)
@end itemize

から構成されています。Content-Description: はパートに対する Subject: と
考えていいでしょう。この表示は Draft モードの添付領域とほとんど同じです。
@end ifset
@ifset en
Each line of multipart consists of 

@itemize @minus
@item
marks (Content-Transfer-Encoding:)
@item
part number
@item
data type (Content-Type:)
@item
description (Content-Description:)
@item
file name (Content-Disposition:).
@end itemize

Content-Description can be considered Subject: for each part. This
format is very similar to that of the attachment region in Draft mode.
@end ifset

@ifset ja
@samp{SPC} や @samp{n} でパート 2 へ進めば、そのパートがデータ型に応じて
表示されます。たとえば、Text/Plain なら Message モードで、PostScript な
ら @w{"}ghostview" で表示されます。
@end ifset
@ifset en
If you type @samp{SPC} or @samp{n}, the cursor moves onto part 2 and the
content is displayed according to its data type. For instance,
Text/Plain is showed in Message mode and PostScript is visualized with
"ghostview".
@end ifset

@ifset ja
@samp{n} や @samp{p} は、パート部分まで含んだ行を移動することに注意して
下さい。パート部分を飛ばして下のメッセージを表示するには @samp{C-un} と
入力して下さい。また、パート部分を飛ばして 1 つ上のメッセージを表示する
には @samp{C-up} と入力して下さい。
@end ifset
@ifset en
Please note that @samp{n} and @samp{p} move lines including multipart.
To display the message below skipping multipart, type @samp{C-un}.
Likewise, to display the message above (not this message), input
@samp{C-up}.
@end ifset

@ifset ja
Mew は、MIME を再帰的に処理します。以下は転送されたマルチパートのメッセー
ジの例です。
@end ifset
@ifset en
Mew processes MIME recursively. The following example is a forwarded
multipart message.
@end ifset

@example
@ifset ja
 M03/15 かずくん       Fw: 能登の写真            |写真が送られてきたので
     2  Message/Rfc822               能登の写真
B    2.2  Image/Jpeg                   写真1                  noto1.jpg
Q    2.3  Application/Postscript       能登の地図             map.ps
@end ifset
@ifset en
 M03/15 Kazu yamamoto  Fw: The pictures of Noto  |Attached are the pictu
     2  Message/Rfc822               The pictures of Noto
B    2.2  Image/Jpeg                   picture 1              noto1.jpg
Q    2.3  Application/Postscript       Note map               map.ps
@end ifset
@end example

@ifset ja
(メモ) テキスト以外のデータを、シングルパートとしてメッセージに格納する
のは、書式としては間違いではありませんが、お勧めできません。マルチパート
を作成し、そのパート 1 に説明のテキストを、パート 2 にテキスト以外のデー
タを入れる作法をお勧めします。
@end ifset
@ifset en
Note: We strongly recommend that you not embed any object other than
text as a top level single part to a message directly. Instead, it is
better to make a multipart message whose part 1 is a textual description
of part 2 and part 2 is a non-text object.
@end ifset

@ifset ja
テキスト以外のデータが本文に直接格納されているメッセージに対し、Mew はこ
れをあたかもマルチパートのように表示します。
@end ifset
@ifset en
A message which contains a single part other than text is displayed as
multipart.
@end ifset

@ifset ja
このように MIME の構造は複雑になりうるので、解析するのには時間がかかる場
合があります。しかし、Mew は次に読まれるメッセージを予想し、ユーザが現在
のメッセージを読んでいる間に、次のメッセージをあらかじめ解析しておくこと
で高速性を実現しています。解析されたメッセージは、しばらくの間保存されま
す。
@end ifset
@ifset en
Since the syntax of MIME messages can be complex, it sometime takes a
bit of time to analyze the syntax. However, Mew guesses the message to
be read next and analyzes it beforehand while the user is reading the
current message. Analyzed messages are temporarily cached.
@end ifset

@ifset ja
メッセージの終りの部分がはっきりと分かるように、Mew はメッセージの最後に 
"[End of message]" という文字列を表示します。また、パートの終りでは、
"[Message is continued]" という文字列を表示します。これらの文字列はそれ
ぞれ、@samp{mew-end-of-message-string} と @samp{mew-end-of-part-string}
で指定できます。
@end ifset
@ifset en
To make it clear where the message ends, Mew displays the string "[End
of message]" in the end of the message. At the end of each part, Mew
displays the string "[Message is continued]". These strings are
customized by @samp{mew-end-of-message-string} and
@samp{mew-end-of-part-string}, respectively.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node analysis, cipher-viewing, multipart, Viewing
@ifset ja
@section MIME の解析を制御する
@end ifset
@ifset en
@section Controlling MIME analysis
@end ifset
@kindex . (Summary)
@kindex C-u. (Summary)
@kindex , (Summary)
@kindex C-cTAB (Summary)
@kindex : (Summary)
@kindex C-u: (Summary)

@ifset ja
メッセージの解析を制御するために、以下の変数が用意されています。
@end ifset
@ifset en
There are several variables for controlling message analysis.
@end ifset

@vtable @samp
@ifset ja
@item mew-file-max-size
解析するメッセージの大きさの上限。メッセージの大きさがこの値以下なら、解
析し表示する。越えているなら、解析せずに生のまま表示する。初期値は 
100000 バイト。
@item mew-header-max-length
解析するメッセージのヘッダ長の上限。ヘッダの行数がこの値以下なら、メッセー
ジを解析して表示する。越えているなら、解析を途中で止めてメッセージを壊れ
た形で表示する。初期値は 100 行。
@item mew-decode-broken
規格違反のメッセージを解析する際に、寛容になるか否か。@samp{t} なら寛容
に、@samp{nil} なら厳密に解析する。寛容に解析する際に規格違反があった場
合は、X-Mew: フィールドに表示する。初期値は @samp{t}。
@item mew-use-text-body
本文のテキストをヘッダと同時に表示するか否か。@samp{t} なら、本文がシン
グルのテキスト、および、本文がマルチパートで最初のパートがテキストの場合、
そのテキストをヘッダと同時に表示する。@samp{nil} の場合は、マルチパート内
のパートのように表示する。初期値は @samp{t}。
@item mew-use-alternative
Multipart/Alternative の取り扱い。Multipart/Alternative であるメッセー
ジには@samp{-} マークが付いている。@samp{t} なら、
@samp{mew-mime-multipart-alternative-list} の優先順位に従って、1 つのパー
トを表示する。@samp{nil} なら、通常のマルチパートとして表示する。初期値
は @samp{t}。
@item mew-use-text/html
Text/Html の取扱い。@samp{nil} の場合は HTML を解析せずに表示。それ以外
なら HTML を解析して表示。初期値は @samp{nil}。
@item mew-use-text/xml
Text/Xml の取扱い。@samp{nil} の場合は XML を解析せずに表示。それ以外
なら XML を解析して表示。初期値は @samp{nil}。
@end ifset
@ifset en
@item mew-file-max-size
The size limit of messages to be analyzed. If the size of a message is
less than or equal to this value, it is analyzed and displayed.
Otherwise, the raw message is displayed without analysis. The default
value is 10000 bytes.
@item mew-header-max-length
The length limit of header to be analyzed. If the length of a header is
less than or equal to this value, it is analyzed and displayed.
Otherwise, the message is displayed as fragmentarily since the analysis
is stopped. The default value is 100 lines.
@item mew-decode-broken
Whether Mew be liberal or conservative to invalid messages. If the value
is @samp{t}, the setting is liberal. If the value is @samp{nil}, the
setting is for conservative. If conservative and invalid portions are
found, they are reported in the X-Mew: field. The default value is
@samp{t}.
@item mew-use-text-body
Whether or not the text part of a body is displayed with its header. If
the value is @samp{t}, both the body which is a single part text and the
first text part in a multipart body are displayed with its header. If
the value is @samp{nil}, they are displayed as a single part in a
multipart. The default value is @samp{t}.
@item mew-use-alternative
How to treat Multipart/Alternative. Messages containing
Multipart/Alternative are marked with @samp{-}. If the value is
@samp{t}, one part is displayed according to the preference defined in
@samp{mew-mime-multipart-alternative-list}. If the value is
@samp{nil}, it is displayed as a multipart. The default value is
@samp{t}.
@item mew-use-text/html
How to treat Text/Html. If @samp{nil}, HTML is displayed as is
(without parsing). Otherwise, HTML is parsed and displayed. The
default value is @samp{nil}.
@item mew-use-text/xml
How to treat Text/Xml. If @samp{nil}, XML is displayed as is
(without parsing). Otherwise, XML is parsed and displayed. The
default value is @samp{t}.
@end ifset
@end vtable

@ifset ja
これらの変数に関する基本的なコマンドは、@samp{.} です。このコマンドは、
以下のように動きます。
@end ifset
@ifset en
The basic command relating to the variables above is @samp{.}. The
command acts as follows:
@end ifset

@ifset ja
1) このコマンドがメッセージ上で実行されると、そのメッセージのキャッシュ
が削除され、メッセージが解析されて再表示されます。
@end ifset
@ifset en
1) If this command executed on a message, the cache of the
message is removed and the message is analyzed then displayed.
@end ifset

@ifset ja
1a) もし現在のメッセージの大きさが @samp{mew-file-max-size} を越えてい
るなら、MIME は解析されず、そのまま表示されています。この場合、このコマ
ンドはこの上限に関わらずに現在のメッセージを解析し、再表示します。
@end ifset
@ifset en
1a) If the size of the current message exceeds
@samp{mew-file-max-size}, MIME analysis is skipped then the beginning
of the raw message is displayed. In this situation, this command
analyzes the current message without the limitation then displays it.
@end ifset

@ifset ja
1b) もし現在のメッセージのヘッダ長が @samp{mew-header-max-length} を越
えているなら、メッセージが壊れたように表示されています。この場合、この
コマンドはこの上限に関わらずに現在のメッセージを解析し、再表示します。
@end ifset
@ifset en
1b) If the length of a header exceeds @samp{mew-header-max-length}, a
broken message is displayed. In this situation, this command
analyzes the current message without the limitation then displays
it.
@end ifset

@ifset ja
1c) もし現在のメッセージが @samp{:} で表示されているなら、マルチパート
の構造は、通常とは違うように表示されています。この場合、このコマンドは
マルチパートの構造を通常と同じように再表示します。
@end ifset
@ifset en
1c) If the current message is displayed by @samp{:}, the multipart
structure is displayed different from the normal display. In this
situation, this command gets the multipart structure back to the
normal display.
@end ifset

@ifset ja
1d) もし @samp{mew-use-text/html} が @samp{nil} なら、HTML は解析されず、その
まま表示されています。この場合、このコマンドは HTML を解析し、再表示し
ます。
@end ifset
@ifset en
1d) If @samp{mew-use-text/html} is @samp{nil}, its HTML body is displayed as
is. In this situation, this command analyzes the HTML body and
displays it.
@end ifset

@ifset ja
2) もしこのコマンドがパート上で実行された場合、そのパートが再表示されま
す。
@end ifset
@ifset en
2) If this command is called on a part, the part is displayed again.
@end ifset

@ifset ja
2a) もし @samp{mew-use-text/html} が @samp{nil} なら、HTML は解析されず、その
まま表示されています。この場合、このコマンドは HTML を解析し、再表示し
ます。
@end ifset
@ifset en
2a) If 'mew-use-text/html' is @samp{nil}, its HTML part is displayed as
is. In this situation, this command analyzes the HTML part and
displays it.
@end ifset

@ifset ja
@samp{.} 以外にも、以下のような便利なコマンドがあります。
@end ifset
@ifset en
In addition to @samp{.}, the following commands are prepared:
@end ifset

@table @samp
@ifset ja
@item .
メッセージを解析し、再表示する。
@item C-u.
@samp{mew-decode-broken} を逆にしてメッセージを解析し直す。
@xref{invalid} を参照のこと。
@item :
@samp{mew-use-alternative} と @samp{mew-use-text-body} を反転させた
@samp{.}.
@item C-u:
@samp{mew-use-alternative} と @samp{mew-use-text-body} を反転させた
@samp{C-u.}.
@item ,
現在のメッセージやパートを生の書式で Message モードに表示する。
@item C-cTAB
メッセージ全体をファイルとして read only で開く。
@item C-uC-cTAB
メッセージ全体をファイルとして開く。
@end ifset
@ifset en
@item .
Analyze the message and re-display it.
@item C-u. 
Analyze the message with @samp{mew-decode-broken} reversed (see
@ref{invalid}).
@item :
The same as @samp{.} with @samp{mew-use-alternative} and
@samp{mew-use-text-body} reversed.
@item C-u:
The same as @samp{C-u.} with @samp{mew-use-alternative} and
@samp{mew-use-text-body} reversed.
@item ,
Insert a message or a part into Message mode in raw format.
@item C-cTAB
Open an entire message as a file in read-only mode.
@item C-uC-cTAB
Open an entire message as a file.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node cipher-viewing, retrieving, analysis, Viewing
@ifset ja
@section 暗号メールや電子署名を表示する
@end ifset
@ifset en
@section Visualizing cipher or signature
@end ifset
@vindex mew-x-pgp-key-list
@vindex mew-prog-pgp
@vindex mew-prog-pgp2
@vindex mew-prog-pgp5
@vindex mew-prog-gpg
@kindex C-cC-f (Summary)
@kindex C-uC-cC-f (Summary)
@kindex C-cC-v (Summary)
@kindex C-cC-z (Summary)

@ifset ja
今までと同様 @samp{SPC} などを利用することで、Mew では暗号化や電子署名
を施されたメッセージを簡単に表示できます。まず、簡単な例から紹介しましょ
う。
@end ifset
@ifset en
Basic commands such as @samp{SPC} visualize messages signed or
encrypted as well. Let's start with a simple example:
@end ifset

@example
@ifset ja
 S03/18 神田パソコン館 見積書                    |先日承りましたノートPC
 E03/21 匿名希望       秘密のメール              |
@end ifset
@ifset en
 S03/18 Kanda PC shop  A written estimate        |Here is a written esti
 E03/21 Anonymous      Secret message            |
@end ifset
@end example

@ifset ja
上記のメッセージには、それぞれ @samp{S} マークと @samp{E} マークが付いて
います。これはそれぞれ、本文全体が署名されている、および、暗号化されてい
ることを意味します。
@end ifset
@ifset en
Messages above are marked with @samp{S} and @samp{E}, respectively. This
means that the body of the first message is signed and that of the
second message is encrypted.
@end ifset

@ifset ja
PGP/MIME や S/MIME では、一部のパートに電子署名を施したり、暗号化したり
できます。この場合このようなマークは付きません。@samp{S} マークや
@samp{E} マークが付くのは、本文全体が対象になっている場合です。
@end ifset
@ifset en
PGP/MIME and/or S/MIME also allow to sign and/or encrypt some parts of
a message. In this case, these marks do not appear. The @samp{S} or
@samp{E} mark appears only when the entire body of the message is
signed or encrypted.
@end ifset

@ifset ja
また、単に署名や暗号化といいましたが、これは最終的な処理が署名や暗号化で
あったことを意味しています。やや複雑な話になりますが、もしかすると前者は
本文全体を暗号化した後、署名したのかもしれませんし、後者は一部のパートに
署名し、さらに全体を暗号化している可能性もあります。
@end ifset
@ifset en
The terms "sign" and "encrypt" used above mean the last procedure
applied the body is "sign" and "encryption", respectively. The above
examples may have been produced with more complex processes.  For
instance, in the case of the former message, the body may have been
signed after encrypting the body.  It is likely that some part of the
latter message was first signed then the body was encrypted.
@end ifset

@ifset ja
本文全体、あるいは、一部のパートが暗号化されている場合、Mew はパスフレー
ズを訊いてきます。パスフレーズを入力する際の注意事項については、
@xref{start} を参照して下さい。入力されたパスフレーズは、あなたの秘密鍵
を復号化するのに使われます。そして、復号化された秘密鍵によって、暗号化さ
れているメッセージを解くわけです。
@end ifset
@ifset en
If some parts or the entire body is encrypted, Mew asks you to input
your pass-phrase to get plain text. Please refer to @ref{start} to know
what you should pay attention when inputting pass-phrase. The pass-phrase
is used to decrypt your secret key. The secret key is then used to
decrypt cipher text.
@end ifset

@ifset ja
暗号メッセージを表示するには、暗号化された数だけパスフレーズを入力する
必要があります。これは Mew が安全を期して、通常パスフレーズを保存しない
からです。もしこれがわずらわしいなら、Mew にパスフレーズを保存させるこ
とも可能です。詳しくは、@xref{password} を参照して下さい。
@end ifset
@ifset en
To visualize a cipher message, you need to input your pass-phrase
every time you encounter cipher text. This is because Mew does not
cache pass-phrases anywhere for security reasons. If you feel this is
inconvenient, you can configure Mew to cache your pass-phrase. Please
refer to @ref{password} for more information.
@end ifset

@ifset ja
パスフレーズを保存しない通常の設定でも、一旦復号化されたメッセージはしば
らく保存されるので、2 回目の表示にはパスフレーズを訊かれないかもしれませ
ん。
@end ifset
@ifset en
Since decrypted messages are cached for a while, you may not be asked
for your pass-phrase at the next time you display the message, even if
you are not using the pass-phrase cache.
@end ifset

@ifset ja
一方、通信相手の署名を検証するためには相手の公開鍵が利用できればよいので、
パスフレーズを訊かれることはありません。
@end ifset
@ifset en
To verify signatures, senders' public keys are used. Hence you are not
asked to type your pass-phrase.
@end ifset

@ifset ja
Mew は自動的に電子署名を検証したり、入力されたパスフレーズを使って暗号メッ
セージを復号化したりして、元のメッセージを表示します。そこで、ユーザが署
名の存在に気づかないかもしれませんし、どの部分が暗号化されていたのか分か
らないかもしれません。
@end ifset
@ifset en
Since Mew automatically verifies signatures and/or decrypts cipher
text with a pass-phrase, it is likely that users do not notice that
the original message has signatures and/or which parts were encrypted.
@end ifset

@ifset ja
そこで、検証の結果やどの部分が暗号化されているかをユーザに通知するために、
Mew は以下のようにヘッダに X-Mew: フィールドを挿入します。
@end ifset
@ifset en
To inform users the results of verification of signatures or which parts
were decrypted, Mew inserts the X-Mew: field in the header as follows:
@end ifset

@example
X-Mew: <body> PGP decrypted.
       Good PGP sign "kazu@@example.org" COMPLETE
@end example

@ifset ja
"<>" 内の番号は、どのパートの結果であるかを示しています。"body" は、メッ
セージの本文全体が保護されていることを意味します。この例では、メッセージ
全体が kazu によって署名され、受信者のために暗号化されています。Mew はま
ずこれを復号化し、そして署名を検証しています。署名は正しいので、
kazu@@example.org という ID の付いた秘密鍵で署名されたときから、内容は変更さ
れていないと分かります。この署名の検証に使われた公開鍵の「有効性」は 
"complete" です。よって、受信者はこの公開鍵が ID が示すユーザに属してい
ると信頼していることになります。つまり、このメッセージは信頼をおいている
公開鍵によって検証され結果が正しいので、改竄されていないということになり
ます。
@end ifset
@ifset en
The number enclosed by "<>" indicates which part was protected with
PGP. "body" means the body was protected. This example tells us that the
body was singed by kazu then encrypted for the reader. Mew first
decrypted the message and then verified its signature of the decrypted
message. The fact that the signature is valid indicates that no one has
modified the content of the message since it was signed by the secret
key whose ID is kazu@@example.org. The validity of the public key used to
verify the signature is "complete". Thus, the receiver can be sure that
the public key actually belongs to the user indicated by the ID. That
is, this message was verified by a reliable public key AND its results
were correct, so no alternation was found.
@end ifset

@ifset ja
以下の例では、まずマルチパートである本文全体の電子署名が検証され、その後
パート 2 のメッセージ全体が復号化されています。つまり、作成時には、まず
パート 2 が暗号化され、そして本文全体が署名されたことが分かります。
@end ifset
@ifset en
In the following example, the signature of the body (multipart), is first
verified, then part 2 (a message), is decrypted. That is, the composing
process was that part 2 is first encrypted then the entire body is
signed.
@end ifset

@example
X-Mew: <body multi> Good PGP sign "kazu@@example.org" COMPLETE
X-Mew: <2 message> PGP decrypted.
@end example

@ifset ja
するどい人なら、悪い人があらかじめ X-Mew: フィールドを挿入しておき、あなた
をだますかもしれないと思うかもしれません。でも大丈夫です。Mew は、ヘッダに
ある X-Mew: をあらかじめ削り、本物の X-Mew: フィールドを挿入しますから。
@end ifset
@ifset en
Intelligent users may wonder what happens in the case where a devious
person sends a message that contains an invalid X-Mew: field. This is
not a problem. First Mew carefully removes the X-Mew: field, and then
inserts a valid X-Mew: field into the header.
@end ifset

@ifset ja
PGP/MIME について：
@end ifset
@ifset en
About PGP/MIME:
@end ifset

@ifset ja
X-Mew: フィールドは他にもさまざまな結果を伝えてくれます。たとえば、署名
を検証するための公開鍵がないとか、復号化に失敗したなどです。以下の例は、
鍵 ID が 0x1B8BF431 である公開鍵がないことを示しています。
@end ifset
@ifset en
X-Mew: informs the user of various other types of results. For example,
the lack of availability of a public key, decryption failures, etc. The
following example indicates the absence of a public key whose key ID is
0x1B8BF431.
@end ifset

@example
X-Mew: <body multi> No his/her public key. ID = 0x1B8BF431
@end example

@ifset ja
この場合、@samp{C-cC-f} と入力すると、Mew はこの公開鍵の入手を試みます。
その際、公開鍵サーバを選択できます。もし、X-Mew: フィールドがない場合は、
@samp{C-cC-f} は From: を ID と考えます。また、@samp{C-uC-cC-f} は、
X-Mew: フィールドに加えて @samp{mew-x-pgp-key-list} に指定されたフィー
ルドも鍵 ID を切り出す対象とし、公開鍵の入手を試みます。
@end ifset
@ifset en
In this case, if you type @samp{C-cC-f}, Mew tries fetching this
public key. You can interactively select a public key server. If the
X-Mew: field does not exist, @samp{C-c C-f} takes the From: field as
ID. Also, @samp{C-uC-cC-f} extracts key IDs from fields specified in
@samp{mew-x-pgp-key-list} in addition to the X-Mew: field, and then
tries to fetch them.
@end ifset

@ifset ja
Mew では PGPv2、PGPv5、GNUPG に対応しています。これらは Summary モードに
おいて、@samp{C-cC-v} で切替え可能です。これら複数の PGP を使いたい人は
@samp{mew-prog-pgp2}、@samp{mew-prog-pgp5}、@samp{mew-prog-gpg} に対し、
それぞれ PGPv2、PGPv5、GNUPG のコマンド名を設定して下さい。また、Mew の
起動直後に利用する PGP のコマンド名を @samp{mew-prog-pgp} に設定して下さ
い。なおパスフレーズは、それぞれの PGP に対し独立に保存されます。
@end ifset
@ifset en
Mew supports PGPv2, PGPv5, and GNUPG. You can select one of these by
typing @samp{C-cC-v} in Summary mode. If you want to use those PGPs, you
should set the command name of PGPv2, PGPv5, and GNUPG to
@samp{mew-prog-pgp2}, @samp{mew-prog-pgp5}, and @samp{mew-prog-gpg},
respectively. Also, set the default PGP name to
@samp{mew-prog-pgp}. Note that pass-phrases are cached independently for
each PGP.
@end ifset

@ifset ja
なお昔ながらの PGP メッセージは、自動的に処理できません。このような PGP
メッセージに対しては、@samp{C-cC-z} で復号化や署名の検証ができます。
@end ifset
@ifset en
Old fashioned PGP messages cannot be processed automatically. You can
decrypt and/or verify this kind messages with @samp{C-cC-z}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node retrieving, moving, cipher-viewing, Viewing
@ifset ja
@section メッセージの取得
@end ifset
@ifset en
@section Getting messages
@end ifset
@vindex mew-mailbox-type
@vindex mew-auto-flush-queue
@vindex mew-pop-delete
@vindex mew-imap-delete
@vindex mew-pop-header-only
@vindex mew-imap-header-only
@vindex mew-nntp-header-only
@kindex i (Summary)
@kindex I (Summary)
@kindex s (Summary)
@kindex C-us (Summary)

@ifset ja
メールボックスへ到着したメッセージを +inbox へコピーし一覧表示するには、
@samp{i} を使います。コピー元のメールボックスは @samp{mew-mailbox-type} 
によって決ります。(@samp{M-x mew} を実行した際に、@samp{mew-proto} が 
@samp{+} の場合も、@samp{mew-mailbox-type} に従ってメッセージがコピーさ
れます。) 以下に取りうる値を示します。
@end ifset
@ifset en
To copy arrived messages to your mailbox to +inbox and list up a list of
the messages, use @samp{i}. The mailbox is determined according to
@samp{mew-mailbox-type}. (When you type @samp{M-x mew} and if
@samp{mew-proto} is @samp{+}, messages are also copied according to
@samp{mew-mailbox-type}.) Here are summary of its values.
@end ifset

@table @samp
@ifset ja
@item 'mbox
ローカルのメールボックス。デフォルトでは "incm" という外部コマンドを使い、
メッセージを取得する。設定方法は、@xref{configuration} を参照のこと。
@item 'pop
POP サーバ。POP を POP らしく使う方法。(初期値)
@item 'imap
IMAP サーバ。IMAP らしくない利用方法なので、推奨されていない。
@end ifset
@ifset en
@item 'mbox
A local mailbox. "incm" is used to copy messages for the local mailbox
by default. To know how to configure it, see @ref{configuration}.
@item 'pop
A POP server. To use POP as it is. (This is a default value.)
@item 'imap
An IMAP server. This is not recommended.
@end ifset
@end table

@ifset ja
ローカル・フォルダでメッセージの一覧を再表示するには、@samp{s} を使いま
す。
@end ifset
@ifset en
To flush a list of messages in a local folder and display them again,
use @samp{s}.
@end ifset

@ifset ja
リモート・フォルダでメッセージを取得、あるいは再取得する場合にも 
@samp{s} を使います。IMAP やニュースでは、@samp{i} は利用せず、@samp{s} 
を使うのが一般的です。
@end ifset
@ifset en
To retrieve messages or flush-then-retrieve messages again in a remote
folder, type @samp{s}. It is recommended to use @samp{s}, not @samp{i},
for IMAP and NetNews.
@end ifset

@ifset ja
@samp{s} を使うと範囲を訊いてきます。Mew で重要な範囲の意味を以下に示し
ます。
@end ifset
@ifset en
If you use @samp{s}, it asks you a range. Here are a summary of
important ranges for Mew.
@end ifset

@table @samp
@ifset ja
@item update
「Summary モードの最後のメッセージの次」から「フォルダ内の最後のメッセー
ジ」まで。つまり、Summary モードと実際のフォルダ内のメッセージの差分。
@item all
フォルダ内のメッセージすべて。ローカル・フォルダでは、Summary モードの表
示がおかしくなったときに、内容を一新するために用いる。リモート・フォルダ
では、すべてのメッセージの再取得。
@item sync
あるリモート・フォルダに対し、サーバ側では消えたメッセージのキャッシュを
削除する。リモート・フォルダに対してのみ有効。
@end ifset
@ifset en
@item update
From "the last message in the Summary mode + 1" to "the last message in
the corresponding folder". That is, the gap between the Summary mode and
the existing folder
@item all
All messages in the folder. When Summary mode in a local folder becomes
inconsistent, use this range to flush the list. For a remote folder,
this range results in retrieval of all messages again.
@item sync
Deleting cache messages whose originals were removed in the server side.
Valid for remote folders only.
@end ifset
@end table

@ifset ja
+draft、+queue、+postq では、デフォルトの範囲は @samp{all} となっていま
す。それ以外のフォルダでは、デフォルトの範囲が @samp{update} となってい
ます。ですから、+draft、+queue、+postq 以外では、@samp{s} の後に 
@samp{RET} を押すだけで、現在のフォルダに対し最新の一覧を得られることに
なります。
@end ifset
@ifset en
The default range both for +draft, +queue, and +postq is @samp{all}. For
other folders, the default is @samp{update}. So, just type @samp{RET}
after @samp{s} to get the up-to-date list of the current folder except
+draft, +queue, and +postq.
@end ifset

@ifset ja
Mew ではあまり重要ではありませんが、以下の範囲も指定できます。
@end ifset
@ifset en
Although they are not especially important in Mew, you can specify the
following ranges:
@end ifset

@table @samp
@ifset ja
@item <num1>-<num2>
<num1> から <num2> まで。ローカル・フォルダに対してのみ有効。
@item <num1>-
<num1> から最後まで。ローカル・フォルダに対してのみ有効。
@item -<num2>
最初から <num2> まで。ローカル・フォルダに対してのみ有効。
@item last:<num>
最後の <num> 個。
@end ifset
@ifset en
@item <num1>-<num2>
From <num1> to <num2>. Valid for local folders only.
@item <num1>-
From <num1> to the last. Valid for local folders only.
@item -<num2>
From the first to <num2>. Valid for local folders only.
@item last:<num>
Last <num> messages.
@end ifset
@end table

@ifset ja
リモート・フォルダで @samp{s} を @samp{C-u} 付きで呼び出すと、「ヘッダの
みのコピー」と「ヘッダと本文の両方のコピー」を反転できます。これらの動作
は、POP、IMAP、NNTP に対し、それぞれ @samp{mew-pop-header-only}、
@samp{mew-imap-header-only}、@samp{mew-nntp-header-only} で定義でき、初
期値はすべて @samp{nil} です。つまり、初期値は「ヘッダと本文の両方のコ
ピー」になっています。
@end ifset
@ifset en
If you execute @samp{s} with @samp{C-u} on a remote folder, you can
toggle "copying a header only" and "copying both a header and a body".
This action can be defined by @samp{mew-pop-header-only},
@samp{mew-imap-header-only}, and @samp{mew-nntp-header-only} for POP,
IMAP, and NNTP, respectively. The default values of these are
@samp{nil}, that is, "copying both a header and a body".
@end ifset

@ifset ja
サイズが大きなメッセージは、全体ではなく一部が取得されているかもしれませ
ん。このようなメッセージには、@samp{T} マークがついています。このメッセー
ジの全体を取得するには、そのメッセージ上で @samp{I} と入力します。
@end ifset
@ifset en
Messages that are of large size may be truncated. This kind of message
is marked with @samp{T}. To retrieve the rest of this kind of message,
type @samp{I} on the message.
@end ifset

@ifset ja
たとえば、$inbox に @samp{T} マークのついたメッセージがあるとしましょう。
このメッセージの上で @samp{I} を押すと、メッセージの全体が取得できます。
@end ifset
@ifset en
Suppose that there is a message marked with @samp{T} in $inbox. If you
type @samp{I} on it, you can retrieve the entire message. 
@end ifset

@ifset ja
メッセージの取得に関するコマンドを以下にまとめます。
@end ifset
@ifset en
Here is a summary of the commands concerned with message retrieval:
@end ifset

@table @samp
@ifset ja
@item i
ローカル・フォルダでは、+inbox フォルダに移動し、到着したメッセージを取
得して一覧を表示する。@samp{mew-auto-flush-queue} が @samp{t} なら、
+queue にあるメッセージを送信する。詳しくは、@xref{send} を参照のこと。
リモート・フォルダでは、そのデフォルトのフォルダに移動し、@samp{s} +
@samp{update} を実行する。
@item C-ui
@samp{mew-auto-flush-queue} の値を逆だと思って、@samp{i} を実行する。
@item I
@samp{T} マークの付いている一部だけが取得されたメッセージの全体を取得す
る。

ローカル・フォルダで実行した場合、ケースと @samp{mew-mailbox-type} によ
り取得方法が決る。@samp{mew-pop-delete} または @samp{mew-imap-delete}
の値が @samp{t} なら、メールボックスのメッセージを削除する。

リモート・フォルダで実行した場合、ケースと取得方法はそのフォルダから決る。
サーバ側のメッセージは常に保存される。
@item C-uI
@samp{mew-pop-delete} または @samp{mew-imap-delete} を逆転させて @samp{I} 
を実行する。
@item s
フォルダの一覧を取る。
@item C-us
リモート・フォルダにおいて、「ヘッダのみのコピー」と「ヘッダと本文の両方
のコピー」を反転させて、一覧を取る。
@item lc
リモート・フォルダのメッセージをローカル・フォルダへコピーする。
@end ifset
@ifset en
@item i
In a local folder, fetch arrived messages, store them to the +inbox
folder and create a list. If @samp{mew-auto-flush-queue} is @samp{t},
send messages in +queue. Please refer to @ref{send} for more
information. In a remote folder, visit to its inbox folder and execute
@samp{s} + @samp{update}.
@item C-ui
Perform @samp{i} with @samp{mew-auto-flush-queue} reversed.
@item I
Retrieve the rest of a truncated(@samp{T}) message. 

If you use this command in a local folder, a method to retrieve the
message is determined by the "case" and @samp{mew-mailbox-type}. If
@samp{mew-pop-delete}/@samp{mew-imap-delete} is @samp{t}, delete the
message from the mailbox.

If you use this command in a remote folder, a "case" and protocol is
determined by the folder. The message in the server side is always
retained.
@item C-uI
Perform @samp{I} with @samp{mew-pop-delete} or @samp{mew-imap-delete}
reversed.
@item s
List up messages in Summary mode or flush them.
@item C-us
On a remote folder, list up messages in Summary mode by toggling
"copying a header only" and "copying both a header and a body".
@item lc
Copy a cached message in a remote folder to a local folder.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node moving, sum-write, retrieving, Viewing
@ifset ja
@section フォルダの移動
@end ifset
@ifset en
@section Moving to another folder
@end ifset
@kindex g (Summary)

@ifset ja
フォルダの移動には @samp{g} を入力して下さい。以下のようにフォルダ名を訊
かれます。
@end ifset
@ifset en
To go to another folder, type @samp{g}. Mew asks you to input a folder
name as follows:
@end ifset

@example
Folder name (+inbox): +
@end example

@ifset ja
":" の右側を編集可能領域と呼ぶことにしましょう。この例では、編集可能領域
に修飾子 "+" が表示されています。修飾子に続けて任意の文字列を入力し、
@samp{RET} を押せば、フォルダ名が決定されたことになり、そのフォルダへ移
動します。
@end ifset
@ifset en
Let's call the right side of ":" 'writable area'. In this example, proto
"+" is displayed in the writable area. Typing an appropriate string
following proto and typing @samp{RET} decides a folder name, then Mew
moves to the folder.
@end ifset

@ifset ja
フォルダを移動した際に Summary モードの一覧が古いと判断した場合は、自動
的に差分が追加表示されます。
@end ifset
@ifset en
When you move to a folder and if Mew finds its list of messages old, Mew
automatically displays the differences.
@end ifset

@ifset ja
"()" 内がデフォルトのフォルダです。単に @samp{RET} を押し "+" を入力する
と、デフォルトのフォルダを入力したものとして扱われます。
@end ifset
@ifset en
The string in "()" is a default. If you specifies "+" by simply typing
@samp{RET}, Mew considers that the default folder name is specified.
@end ifset

@ifset ja
補完を利用するには、@samp{TAB} や @samp{SPC} を押して下さい。
@end ifset
@ifset en
To make use of completion, type @samp{TAB} or @samp{SPC}.
@end ifset

@ifset ja
さて、話を @samp{g} を押した直後に戻しましょう。
@end ifset
@ifset en
Now, lets get back to the state just after typing @samp{g}.
@end ifset

@example
Folder name (+inbox): +
@end example

@ifset ja
たとえば、"+" を "%" に変更するには、通常なら "+" を削り、"%" を入力する
必要があります。これでは面倒なので、"+" の後で "%" を入力すると、"+" が 
"%" に置き換わるようになっています。このように、修飾子の直後で他の修飾子
を入力すれば、削る作業をせずに置き換え可能です。
@end ifset
@ifset en
If you want to change, for example, "+" to "%", you have to delete "+"
first then type "%" in normal situation. But this is inconvenient. So,
typing "%" just after "+" removes "+" automatically. Like this, typing
another proto just after a proto replaces the previous one without
deletion.
@end ifset

@ifset ja
リモート・フォルダを入力する場合、@xref{config} で説明するケースを指定し
たい場合もあるでしょう。ケースは、フォルダ名の前に ":" で区切って入力し
ます。たとえば、"home" というケースの "%inbox" に移動したいとしましょう。
このとき、"home:%inbox" と入力する必要があります。しかしこれは面倒なので、
任意の場所で @samp{C-cTAB} を押すと利用可能なケースが、フォルダ名の前に
循環的に補完されます。次の例を考えて下さい。
@end ifset
@ifset en
When you type a remote folder, you may want to specify the "case"
(described in @ref{config}). The "case" must be specified before a
folder, separated by ":". Consider moving "%inbox" for a "case"
@w{"}home". In this case, you should type "home:%inbox". Yes, this is
inconvenient. So, typing @samp{C-cTAB} in any position does circular
completion for available "cases". Let's look at the following example.
@end ifset

@example
Folder name (+inbox): %inbox
@end example

@ifset ja
ここで @samp{C-cTAB} を入力すると、以下のようになります。
@end ifset
@ifset en
Typing @samp{C-cTAB} here results in the following:
@end ifset

@example
Folder name (+inbox): home:%inbox
@end example

@ifset ja
フォルダ名の一部を指定して、フォルダを検索したいこともあるでしょう。この
場合には、前方検索の @samp{C-s} か後方検索の @samp{C-r} が利用できます。
以下は、@samp{C-s} を押したときのミニバッファの状態です。
@end ifset
@ifset en
You may want to search a folder by specifying a substring of the folder.
For this purpose, @samp{C-s} and @samp{C-r} are available. The following
is the state of the minibuffer after typing @samp{C-s}.
@end ifset

@example
Folder name (+inbox): ()
@end example

@ifset ja
編集領域に現れた "()" が、検索モードに移行したことを表わしています。ここ
で文字を入力していくと、マッチした候補が "()" の中に表示されます。以下は 
"mew" で検索したときの例です。
@end ifset
@ifset en
"()" appeared in the writable area indicates you have switched to search
mode. While you are typing here, a matched candidate is shown in "()".
The following is the case where a search key is "mew".
@end ifset

@example
Folder name (+inbox): (+work/mew-release) mew
@end example

@ifset ja
候補を確定する際には、@samp{RET} を入力して下さい。そうすると検索モード
を抜けて、編集領域にこの候補が表示されます。
@end ifset
@ifset en
To select the matched candidate, type @samp{RET}. Then the search mode
is finished and the matched candidate is displayed in the writable area.
@end ifset

@example
Folder name (+inbox): +work/mew-release
@end example

@ifset ja
さらに @samp{RET} を押せば、このフォルダが入力されたことになります。
@end ifset
@ifset en
Typing @samp{RET} again means that you decide the folder.
@end ifset

@ifset ja
検索対象となるフォルダの一覧は、ケースと修飾子の組で決定されます。
@samp{C-s} や @samp{C-r} で検索モードに移るときに編集領域にある文字列か
ら、ケースと修飾子が切り出され、フォルダの一覧が決定される訳です。
@end ifset
@ifset en
A list of folders to be searched is decided by a combination of "case"
and proto. When you enter the search mode by typing @samp{C-s} or
@samp{C-r}, a pair of "case" and proto is extracted from the writable
area, and a list of folders is selected according to the pair.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node sum-write, features, moving, Viewing
@ifset ja
@section 送信、返答、転送
@end ifset
@ifset en
@section Write, answer, and forward
@end ifset
@kindex w (Summary)
@kindex C-uw (Summary)
@kindex W (Summary)
@kindex a (Summary)
@kindex A (Summary)
@kindex f (Summary)
@kindex F (Summary)
@kindex E (Summary)

@ifset ja
メッセージの送信、返答、転送には、以下のコマンドを使います。
@end ifset
@ifset en
Please use the following commands for writing, replying, and forwarding
messages.
@end ifset

@table @samp
@ifset ja
@item w
メッセージを書く。新しい草稿が Draft モードに用意される。
@xref{Composing} を参照のこと。
@item C-uw
メッセージを書く。新しい草稿が Draft モードに用意される。現在のメッセー
ジの From: にあるアドレスが、草稿の To: へコピーされる。
@item W
あるメッセージのヘッダの一部だけを編集しメッセージを送信するために 
Header モードに入る。@xref{resend} を参照のこと。
@item a
現在のメッセージに返答する。Draft モードに草稿が用意され、To: や Cc: が
自動的に決定される。@xref{reply} を参照のこと。
@item C-ua
現在のメッセージに対し送信者宛に返答する。
@item A
現在のメッセージに返答する。Draft モードに草稿が用意され、To: や Cc: が
自動的に決定された後、本文が引用される。@xref{reply} を参照のこと。
@item C-uA
現在のメッセージに対し、引用付きで送信者宛に返答する。
@item f
現在のメッセージを第 3 者に転送する。Draft モードに草稿が用意され、現在の
メッセージが自動的に添付される。@xref{forward} を参照のこと。
@item F
@samp{*} マークの付いたメッセージを第 3 者に転送する。Draft モードに草稿
が用意され、@samp{*} マークの付いたメッセージが自動的に添付される。詳し
くは @xref{target mark} を参照のこと。@xref{forward} を参照のこと。
@end ifset
@ifset en
@item w
Write a message. A new draft is prepared in Draft mode. Please refer to
@ref{Composing}.
@item C-uw
Write a message. A new draft is prepared in Draft mode. The From:
address of the current message is copied to the To: field in the
draft.
@item W
Send a message by modifying a part of the header of another message.
Please refer to @ref{resend}.
@item a
Answer to this message. A new draft is prepared in Draft mode. Mew
automatically inserts the content of the fields To: and Cc:. Please
refer to @ref{reply}.
@item C-ua
Answer to this message only to the sender.
@item A
Answer to this message. A new draft is prepared in Draft mode. Mew
automatically inserts the content of the fields To: and Cc: and cites
the body. Please refer to @ref{reply}.
@item C-uA
Answer to this message only to the sender with citation.
@item f
Forward this message to a third person. A new draft is prepared in Draft
mode and this message is automatically attached. Please refer to
@ref{forward}.
@item F
Forward messages marked with @samp{*} to a third person. A new draft is
prepared in Draft mode and this message is automatically attached. For
more information, refer to @ref{target mark}. Please refer to
@ref{forward}.
@end ifset
@end table

@ifset ja
エラーメッセージが返ってきたら、以下のコマンドで修正し再挑戦しましょう。
@end ifset
@ifset en
If an error message returns, please try again with the following
commands.
@end ifset

@table @samp
@ifset ja
@item E
メッセージの再編集。または、MIME 形式でカプセル化されて戻ってきたメッセー
ジの再編集。

@enumerate
@item
+draft では、メッセージが単に編集される。
@item
+queue と +postq では、メッセージが +draft に移動されて、編集される。
@item
それ以外では、メッセージが +draft にコピーされて、編集される。
@end enumerate

+draft、+queue、+postq では、ケースが復活する。

他のフォルダでは、@samp{mew-case-guess-when-prepared} が @samp{t} なら、
ヘッダのそれぞれのフィールドがケースに従って置き換えられる。詳しくは
@xref{config} を参照のこと。
@item C-uE
@samp{E} と同じ。ただし、+draft、+queue、+postq 以外のフォルダで利用され
た場合は、@samp{mew-case-guess-when-prepared} が @samp{t} でも、オリジナ
ルのヘッダが保存される。
@end ifset
@ifset en
@item E
Edit this message again to retry sending. Or edit this RFC822 part
typically included in a MIME-encapsulated error message.

@enumerate
@item
In +draft, the message is just edited.
@item
In +queue or +postq, the message is moved to +draft and is edited.
@item
Otherwise, the message is copied to +draft and is edited. 
@end enumerate

For +draft, +queue, and +postq, the "case" revives.

For the other folders, if @samp{mew-case-guess-when-prepared} is
@samp{t}, each field of the original header is replaced according to a
guessed "case". For more information, see @ref{config}.
@item C-uE
The same as @samp{E}. But, when used for other folders than +draft,
+queue, and +postq, the original header is retained even if
@samp{mew-case-guess-when-prepared} is @samp{t}.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node features, status-update, sum-write, Viewing
@ifset ja
@section 便利な機能
@end ifset
@ifset en
@section Useful features
@end ifset
@vindex mew-print-function
@vindex mew-use-header-veil
@vindex mew-header-veil-count
@kindex v (Summary)
@kindex zv (Summary)
@kindex _ (Summary)
@kindex M-l (Summary)
@kindex C-cC-s (Summary)
@kindex C-cC-r (Summary)
@kindex y (Summary)
@kindex b (Summary)
@kindex # (Summary)
@kindex | (Summary)
@kindex B (Summary)
@kindex D (Summary)
@kindex C-uD (Summary)
@kindex C-cC-a (Summary)
@kindex C-cC-v (Summary)
@kindex C-cC-z (Summary)
@kindex C (Summary)
@kindex = (Summary)
@kindex ; (Summary)

@ifset ja
Mew では、Summary モードに以下のような便利なコマンドが用意されています。
@end ifset
@ifset en
Mew provides you with the following useful commands in Summary mode:
@end ifset

@table @samp
@ifset ja
@item v
「Summary モードのみ」と「Summary & Message モード」の切り替え。
「Summary モードのみ」を選んでいる場合は、@samp{d} は次のメッセージを表
示しないので、連続してすばやく @samp{D} マークを付けられる。
@item zv
@samp{mew-use-header-veil} が @samp{nil} でないとき、To: と Cc: で
@samp{mew-header-veil-count} を越える行は「ベール」で隠されている。この
コマンドは、それらの行の見える／見えないを反転させる。
@samp{mew-use-header-veil} と @samp{mew-header-veil-count} の初期値は、
それぞれ @samp{t} と 4。
@item _
通常の行、折り返された行、長い行の順に行の表示を変える。
@item M-l
現在の行を Summary モードの中央に移動させる。
@item C-cC-s
Message モードで順方向段階的検索。
@item C-cC-r
Message モードで逆方向段階的検索。
@item y
メッセージ、あるいは、パートを入力したファイル名で保存する。
@item b
Message モードの内容そのものを入力したファイル名で保存する。
@item C-uy
保存するテキストの coding-system を指定して、メッセージ、あるいは、パー
トを入力したファイル名で保存する。
@item #
@samp{mew-print-function} を利用して Message モードの内容を印刷する。
@item C-u#
プリンタ名を指定して Message モードの内容を印刷する。
@item |
Message モードの内容をパイプで指定されたコマンドに出力する。
@item C-u|
Message モードの本文(ヘッダを除く)をパイプで指定されたコマンドに出力する。
@item \
このメッセージを引数にして、入力された外部コマンドを起動する。
@item B
格納されているメッセージを取り出す。
@item C-uB
格納されているファイルを取り出す。
@item C-cC-a
現在のメッセージの情報をアドレス帳に登録する(@xref{addrbook})。
@item C-cC-v
PGP のバージョンを切替える(@xref{cipher-viewing})。
@item C-cC-z
昔ながらの自動処理できない PGP メッセージを PGP に復号化、検証させる(@xref{cipher-viewing})。
@item C
ケースを変更する。詳しくは、@xref{config} を参照のこと。
@item =
フォルダ名とメッセージ番号を表示する。キャッシュ・メッセージの場合は、
加えて ID とサイズも表示する。メッセージへのフルパスが、ウインドウマネー
ジャのカットバッファに入る。
@item ;
Received: フィールドを解析し、分りやすく Message モードに表示する。
@end ifset
@ifset en
@item v
Toggle "Summary mode only" and "Summary & Message mode". If you choose
"Summary mode only", you can quickly put the @samp{D} mark since the
next message is not displayed.
@item _
Toggle normal lines, wrapped lines and long lines.
@item zv
If @samp{mew-use-header-veil} is non-nil, field lines of To: and Cc:
over @samp{mew-header-veil-count} are covered with invisible
veils. This commands toggles visibility of these lines.
@samp{mew-use-header-veil} and @samp{mew-header-veil-count} are
default to @samp{t} and 4, respectively.
@item M-l
Make the current line the center of the Summary mode.
@item C-cC-s
Incremental search forward in Message mode.
@item C-cC-r
Incremental search backward in Message mode.
@item y
Save this message or this part into the file whose name is specified by
you.
@item b
Save the buffer of Message mode as is into the file whose name is
specified by you.
@item C-uy
Save this message or this part into the file whose name is specified by
you, specifying coding-system for text.
@item #
Print the content of Message mode according to @samp{mew-print-function}.
@item C-u#
Print the content of Message mode with a specified printer name.
@item |
Send the content of Message buffer to a command via pipe.
@item C-u|
Send the body of Message buffer (excluding its header) to a command via
pipe.
@item \
Executing an external command specifying this message as an argument.
@item B
De-capsulate embedded messages in MIME format.
@item C-uB
Decompose embedded files in this message.
@item C-cC-a
Register the information on the current message to Addrbook
(@pxref{addrbook}).
@item C-cC-v
Select PGP version (@xref{cipher-viewing}).
@item C-cC-z
Let PGP decrypt and/or verify old fashioned PGP messages
(@pxref{cipher-viewing}).
@item C
Change the value of the "case". For more information, please refer to
@ref{config}.
@item =
Display the folder name of this message and the message number. If this
is a cache message, both the unique id and the size are also shown.
The full path to the message is set to the cut buffer of your 
window manager.
@item ;
Parse the Received: fields and display them in Message mode.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node status-update, invalid, features, Viewing
@ifset ja
@section 状態の更新
@end ifset
@ifset en
@section Updating status
@end ifset
@vindex mew-use-8bit
@vindex mew-debug
@vindex mew-decode-broken
@vindex mew-warning-field-level
@vindex mew-use-old-pgp
@vindex mew-use-header-veil
@kindex Z (Summary)
@kindex C-uZ (Summary)
@kindex z8 (Summary)
@kindex zc (Summary)
@kindex zd (Summary)
@kindex zo (Summary)
@kindex zp (Summary)
@kindex zv (Summary)
@kindex zw (Summary)

@ifset ja
いくつかの設定の変更には、その変更を反映するために、状態を更新しなければ
ならない場合があります。変更が反映されなかったり、変更のためにエラーが生
じるようになったりした場合は、以下のコマンドを利用して下さい。
@end ifset
@ifset en
In some cases of configuration modifications, you have to update status
to reflect them. When you think configuration modifications don't make
any effects or some errors occur, use one of the following commands:
@end ifset

@table @samp
@ifset ja
@item Z
アドレス帳(@xref{addrbook})などの情報を更新する。
@item C-uZ
現在の世界に対するフォルダのリストの情報を更新する。
@end ifset
@ifset en
@item Z
Update information including Addrbook (@pxref{addrbook}). 
@item C-uZ
Update information about folders of the current world.
@end ifset
@end table

@ifset ja
状態を反転させるコマンドを以下にまとめます。
@end ifset
@ifset en
Here is a summary of toggle commands.
@end ifset

@table @samp
@ifset ja
@item z8
8 ビット・モード(@samp{mew-use-8bit})を反転させる。
@item zc
解析したメッセージのキャッシュを消去する。
@item zd
@samp{mew-debug} を反転させる。
@item zo
PGP を省略方法で作成する場合、PGP/MIME なのか古い PGP の書式なのか
(@samp{mew-use-old-pgp})を反転させる。
@item zp
解析、復号化のポリシ(@samp{mew-decode-broken})を反転させる。
@item zv
Message モードでベールを使うか否か(@samp{mew-use-header-veil})を反転さ
せる。
@item zw
警告のレベル(@samp{mew-warning-field-level})が 2 なら 1 へ、1 なら 2 へ
設定する。
@end ifset
@ifset en
@item z8
Toggle 8bit mode (i.e. @samp{mew-use-8bit}).
@item zc
Clean-up caches of analyzed messages.
@item zd
Toggle @samp{mew-debug}.
@item zo
Toggle PGP/MIME or old-fashioned PGP (@samp{mew-use-old-pgp}) when
composing with shortcut methods.
@item zp
Toggle decode policy (i.e. @samp{mew-decode-broken}).
@item zv
Toggle whether or not veil is used in Message
mode(@samp{mew-use-header-veil}).
@item zw
Toggle warning level. If @samp{mew-warning-field-level} is 2, set it to
1. If @samp{mew-warning-field-level} is 1, set it to 2.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node invalid, Composing, status-update, Viewing
@ifset ja
@section 規格違反のメッセージ
@end ifset
@ifset en
@section Invalid messages
@end ifset
@vindex mew-decode-quoted
@kindex C-u. (Summary)
@kindex C-cC-l (Summary)
@kindex C-uC-cC-l (Summary)

@ifset ja
以下のようなメッセージは、Content-Type: で charset が指定されていないの
で、本来 US-ASCII と認識されてしまいます。
@end ifset
@ifset en
The following message contains Japanese text in its body. The charset
parameter is not specified in the Content-Type: field. So, the body
should be treated as US-ASCII.
@end ifset

@example
@ifset ja
To: piglet
Subject: 規格違反のメッセージ
From: pooh
MIME-Version: 1.0
Content-Type: Text/Plain

日本語の本文
@end ifset
@ifset en
To: piglet
Subject: an invalid message
From: pooh
MIME-Version: 1.0
Content-Type: Text/Plain

Japanese comes here.
@end ifset
@end example

@ifset ja
また以下のようなヘッダも規格違反です。
@end ifset
@ifset en
The following header is invalid as well.
@end ifset

@example
From: "=?iso-2022-jp?B?GyRCOzNLXE9CSScbKEI=?=" <kazu@@example.net>
@end example

@ifset ja
上の例では "=?" と "?=" で囲まれた部分はもともと日本語でした。メッセージ
の規格ではヘッダには ASCII のみが格納できると定められています。よって、
ASCII 以外の文字コードをヘッダに格納するには、ある規則に従って ASCII に
符号化する必要があります。しかし、この符号化された文字列を 「"」 で囲む
のは間違いです。「"」で囲まれた文字列は、そのままの形で取り扱われます。
よって、上の例の "=?" と "?=" で囲まれた部分が日本語に復号化されることは
本来ありません。
@end ifset
@ifset en
The string delimited by "=?" and "?=" in the above example was
originally Japanese. Since the spec of mail limits the content of
headers to ASCII characters, if a string whose character set is other
than ASCII, is to be stored in a header, the string must be encoded with
ASCII strings according to the defined rule. But it is certainly invalid
to embed the ASCII strings with @samp{"}. Strings surrounded by @samp{"}
are treated as is. Therefore, the string between "=?" and "?=" in the
example will not be decoded into Japanese.
@end ifset

@ifset ja
規格に無頓着な一部のメーラではこのような間違いを平気で犯します。正しい対
処方法は、このようなメーラの作者に頼んで、規格を正しく実装するように変更
してもらうことです。しかし、このようなメーラはあまりにも多いので、Mew で
はできる限り復号化するよう試みます。そして、以下のような警告をヘッダに出
します。
@end ifset
@ifset en
Several mailers are careless about the spec and regularly violate these
rules. The right way to do is ask the programmers of such mailers to
make the programs conformant to the spec. However, since there are so
many mailers of this kind around the world, Mew tries to decode as many
different formats as possible. In these cases Mew displays warnings such
as:
@end ifset

@example
X-Mew: Charset for body is not specified.
       To: has encoded-words in quoted text.
@end example

@ifset ja
もし、規格に厳密に復号化したいのなら、@samp{mew-decode-broken} を @samp{nil} に
設定して下さい。この値は @samp{C-u.} を使うと動的に反転できます
(@xref{singlepart} を参照)。
@end ifset
@ifset en
If you want to decode messages strictly, set @samp{mew-decode-broken} to
@samp{nil}. This value can be toggled dynamically by @samp{C-u.} (see
@ref{singlepart}).
@end ifset

@ifset ja
次のようなメッセージは、charset で指示されている文字コードと実際の文字が異
なるため、文字化けを起こします。
@end ifset
@ifset en
The following message is displayed as a mess since the character set
specified with the charset parameter and the actual character set
of its body are different.
@end ifset

@ifset ja
@example
Content-Type: Text/Plain; charset=ISO-2022-JP

Shift_JIS で書かれた日本語の本文
@end example
@end ifset
@ifset en
@example
Content-Type: Text/Plain; charset=ISO-2022-JP

Japanese text written in Shift_JIS
@end example
@end ifset

@ifset ja
@samp{C-cC-l} を使えば、charset で指定された文字コードを無視し、指定した
言語の推測規則に従って文字コードを推測し、再表示させることができます。ま
た、@samp{C-uC-cC-l} で明示的に文字コードを指定し、再表示させることも可
能です。
@end ifset
@ifset en
By using @samp{C-cC-l}, the text is re-displayed with charset guessed
according to a specified language, ignoring the character set specified
by the charset parameter. If you type @samp{C-uC-cC-l}, you can
re-display the text by specifying a character set explicitly.
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Composing
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Composing, header, invalid, Top
@ifset ja
@chapter メッセージを作成する
@end ifset
@ifset en
@chapter Composing messages
@end ifset
@vindex mail-user-agent
@kindex M-x mew-send
@kindex C-xm
@kindex w (Summary)
@kindex a (Summary)
@kindex A (Summary)
@kindex f (Summary)
@kindex F (Summary)

@ifset ja
ここではメッセージの作成方法について説明します。
@end ifset
@ifset en
This section explains how to compose a message.
@end ifset

@ifset ja
新しいメッセージを書くために、Draft モードに移行するには、次の手段があり
ます。
@end ifset
@ifset en
Methods to enter Draft mode to write a new message are given below.
@end ifset

@enumerate
@ifset ja
@item
@samp{M-x mew-send} と入力する。
@item
@samp{mail-user-agent} が設定されている場合、@samp{C-xm} と入力する。
@item
Summary モードで @samp{w} を押す。
@end ifset
@ifset en
@item
Type @samp{M-x mew-send}.
@item
Type @samp{C-xm} if @samp{mail-user-agent} is configured.
@item
Press @samp{w} in Summary mode.
@end ifset
@end enumerate

@ifset ja
すると、以下のようなバッファが用意されます。
@end ifset
@ifset en
Then a buffer like the following is prepared. 
@end ifset

@example
To: 
Subject:
From: Kazu Yamamoto <kazu@@example.org> 
X-Mailer: @value{X-Mailer}
----
@end example

@ifset ja
これを Draft モードといいます。Draft モードにおいて、"----" より上をヘッ
ダ、下を本文と呼びます。
@end ifset
@ifset en
We call this "Draft mode". In Draft mode, we call the region above
@w{"}----" the header, and the region below "----" the body.
@end ifset

@ifset ja
またメッセージへの返答(@samp{a} や @samp{A})や転送(@samp{f} や @samp{F})
でも Summary モードから Draft モードへ移行します。
@end ifset
@ifset en
Also, replying a message (@samp{a} or @samp{A}) and/or forwarding
messages (@samp{f} or @samp{F}) lead you to Draft mode from Summary
mode.
@end ifset

@ifset ja
草稿は、+draft フォルダの下に作成されます。同時に複数の草稿を持つことが
可能です。
@end ifset
@ifset en
Drafts are temporarily stored in the +draft folder. You can write
multiple messages simultaneously.
@end ifset

@ifset ja
一旦用意した草稿を削除する方法については、@xref{Quit} を参照して下さい。
@end ifset
@ifset en
For the method of deleting a prepared draft, please refer to
@ref{Quit}.
@end ifset

@ifset ja
以下、Draft モードの使い方を説明します。
@end ifset
@ifset en
Now let's see how to use Draft mode.
@end ifset

@menu
@ifset ja
* header::                      ヘッダの補完
* cheader::                     ヘッダの循環的な補完
* addr-comp::                   アドレスの補完
* addrbook::                    アドレス帳
* auto-alias::                  アドレスの自動学習
* addr-comp1::                  アドレスの補完(1)
* addr-comp2::                  アドレスの補完(2)
* send::                        メッセージの送信
* cite::                        シグニチャと引用
* mime-comp::                   マルチパートの作成
* charset-guess::               文字コードの決定
* longline::                    長い行の取り扱い
* reply::                       メッセージへの返答と宛先の決定
* forward::                     メッセージの転送
* resend::                      メッセージの再送
* shortcut::                    電子署名/暗号メールを作成する
* mark-b-comp::                 マークを使った電子署名/暗号メールの作成
* pgp-key::                     PGP の鍵の配布
* anonymous::                   宛先を匿名にしたメッセージの送信
@end ifset
@ifset en
* header::                      Completions in a header
* cheader::                     Circular completions in a header
* addr-comp::                   Address Completion
* addrbook::                    Address book
* auto-alias::                  Learning addresses
* addr-comp1::                  Address Completion(1)
* addr-comp2::                  Address Completion(2)
* send::                        Sending a message
* cite::                        Signature and citation
* mime-comp::                   Composing multipart
* charset-guess::               Defining charset
* longline::                    Handling long lines
* reply::                       Replying to a message and deciding recipients
* forward::                     Forwarding messages
* resend::                      Re-sending messages
* shortcut::                    Creating signature or cipher message
* mark-b-comp::                 Mark based composer
* pgp-key::                     PGP key distribution
* anonymous::                   Sending messages with anonymous receivers
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node header, cheader, Composing, Composing
@ifset ja
@section ヘッダの補完
@end ifset
@ifset en
@section Completions in a header
@end ifset
@vindex mew-fields
@kindex TAB (Draft)

@ifset ja
ヘッダでは @samp{TAB} に対し、以下のように各フィールド用の補完機能が割り当て
られています。
@end ifset
@ifset en
In the header, completions for each field are assigned to @samp{TAB} as
follows:
@end ifset

@itemize @minus
@ifset ja
@item フィールド名の補完
@item アドレスの補完 (To:、Cc: など) (@xref{addr-comp} を参照)
@item フォルダ名の補完 (Fcc:)
@end ifset
@ifset en
@item Field completion
@item Address completion (To:, Cc:, etc) (see @ref{addr-comp})
@item Folder completion (Fcc:)
@end ifset
@end itemize

@ifset ja
<フィールド名の補完>
@end ifset
@ifset en
<Field completion>
@end ifset

@ifset ja
行頭の単語中で、しかも、上の行の最後が "," で終る継続行でなければ、
@samp{TAB} で @samp{mew-fields} に定義されているフィールド名を補完できま
す。
@end ifset
@ifset en
If the cursor is at the beginning of a line and the previous line does
not end with ",", you can complete field defined in the
@samp{mew-fields} variable with @samp{TAB}.
@end ifset

@example
To: kazu@@example.org
R@samp{TAB}
@end example

@ifset ja
上記の場所で @samp{TAB} を押すと以下のようになります。
@end ifset
@ifset en
At the point above, if you type @samp{TAB}, you get:
@end ifset

@example
To: kazu@@example.org
Reply-To: 
@end example

@ifset ja
<フォルダ名の補完>
@end ifset
@ifset en
<Folder completion>
@end ifset

@ifset ja
Fcc: などのようにフォルダを補完すべきところでは、@samp{TAB} でフォルダを
補完できます。以下に例を挙げてみます。
@end ifset
@ifset en
At a point, such as Fcc:, you can complete folder name with
@samp{TAB}. For example:
@end ifset

@example
Fcc: @samp{TAB}
@end example

@ifset ja
"+" が補完されます。
@end ifset
@ifset en
Here, "+" is completed.
@end ifset

@example
Fcc: +@samp{TAB}
@end example

@ifset ja
@samp{TAB} をもう 1 度押すと候補が表示されるので、候補を見ながら適切な文字
を入力します。
@end ifset
@ifset en
One more type of @samp{TAB} shows candidates. Please type in the
appropriate characters then type @samp{TAB}.
@end ifset

@example
Fcc: +b@samp{TAB}
@end example

@ifset ja
候補が一意に定まれば補完されます。
@end ifset
@ifset en
If a single candidate can be determined, you get a completion.
@end ifset

@example
Fcc: +backup
@end example

@c %%%%%%%%%%%%%%%%%
@node cheader, addr-comp, header, Composing
@ifset ja
@section ヘッダの循環的な補完
@end ifset
@ifset en
@section Circular completions in a header
@end ifset
@vindex mew-mail-domain-list
@vindex mew-from-list
@kindex C-cTAB (Draft)

@ifset ja
ヘッダでは、@samp{C-cTAB} に循環的な補完機能が割り当てられています。循環
的な補完機能とは、あるリストのある値がそのリストの次の値に置き換えられる
ことです。リストの最後は、最初につながっていると考えます。ヘッダ中の循環
的な補完機能は、以下のようにフィールドごとに異なります。
@end ifset
@ifset en
In a header, circular completions are assigned to @samp{C-cTAB}.
Circular completion means that a value of a list is replaced by the next
value of the list. The end of the list is considered continuous to the
top of the list. Circular completions in a header are different for each
field as follows:
@end ifset

@itemize @minus
@ifset ja
@item ドメイン名の循環的な補完 (To:、Cc: など)
@item From: の循環的な補完 (From:)
@end ifset
@ifset en
@item Circular completion of domain name (To:, Cc:, etc)
@item Circular completion of From: (From:)
@end ifset
@end itemize

@ifset ja
<ドメイン名の循環的な補完>
@end ifset
@ifset en
<Circular completion of domain name>
@end ifset

@ifset ja
アドレスを書くべきフィールドでは、@samp{C-cTAB} でドメインを補完します。
補完の候補は @samp{mew-mail-domain-list} から選ばれます。
@end ifset
@ifset en
On a field where addresses are written, use @samp{C-cTAB} for domain
completion. Candidates are selected from @samp{mew-mail-domain-list}.
@end ifset

@example
To: kazu@@@samp{C-cTAB}
@end example

@ifset ja
上記の場所のように候補が一意に定まらない場合は、
@samp{mew-mail-domain-list} の最初のドメイン名が挿入されます。
@end ifset
@ifset en
If you try to complete just after "@@" as up above, the first domain of
@samp{mew-mail-domain-list} is inserted.
@end ifset

@example
To: kazu@@example.org@samp{C-cTAB}
@end example

@ifset ja
補完された後、さらに @samp{C-cTAB} を押すと @samp{mew-mail-domain-list} 
の次の候補に変換します。
@end ifset
@ifset en
After completion, pressing @samp{C-cTAB} one more times inserts the next
domain of @samp{mew-mail-domain-list}. This completion is looped.
@end ifset

@example
To: kazu@@example.jp
@end example

@ifset ja
また、以下の補完が一意に定まれば、その候補を挿入します。
@end ifset
@ifset en
If a single candidate can be determined, it is inserted.
@end ifset

@example
To: kazu@@w@samp{C-cTAB}
@end example

@ifset ja
上記の例は次のようになります。
@end ifset
@ifset en
The above example gives:
@end ifset

@example
To: kazu@@example.jp
@end example

@ifset ja
<From: の循環的な補完>
@end ifset
@ifset en
<Circular completion of From:>
@end ifset

@ifset ja
草稿には、あらかじめ "mew-name <mew-user@@mew-domain>" という形式で、
From: フィールドが挿入されています。
@end ifset
@ifset en
In Draft mode, the From: field is inserted with the format of 
"mew-name <mew-user@@mew-domain>".
@end ifset

@example
@ifset ja
From: Kazu Yamamoto (山本和彦) <kazu@@example.org>
@end ifset
@ifset en
From: Kazu Yamamoto <kazu@@example.org>
@end ifset
@end example

@ifset ja
From: フィールド上では、@samp{C-cTAB} は @samp{mew-from-list} の値を循環
的に補完します。@samp{mew-from-list} は自分で設定してもよいですし、自動
的に設定することも可能です。自動設定に関しては、@xref{config} を参照して
下さい。
@end ifset
@ifset en
On the From: field, @samp{C-cTAB} circularly completes its value from
@samp{mew-from-list}. You can set @samp{mew-from-list} by yourself.
Also, @samp{mew-from-list} can be set automatically. For automatic
setup, please refer to @ref{config}.
@end ifset

@ifset ja
値の場所ならどこでも構いませんが、@samp{C-cTAB} と入力すると、
この値を @samp{mew-from-list} の次の値と置き換えます。たとえば、
@end ifset
@ifset en
Typing @samp{C-cTAB} anywhere on the value replaces the value with the
next value of @samp{mew-from-list}. For example,
@end ifset

@example
@ifset ja
From: Kazu Yamamoto (山本和彦) <kazu@@example.org>@samp{C-cTAB}
@end ifset
@ifset en
From: Kazu Yamamoto <kazu@@example.org>@samp{C-cTAB}
@end ifset
@end example

@ifset ja
は以下のようになります。
@end ifset
@ifset en
becomes as follows:
@end ifset

@example
From: Kazuhiko Yamamoto <kazu@@example.jp>
@end example

@c %%%%%%%%%%%%%%%%%
@node addr-comp, addrbook, cheader, Composing
@ifset ja
@section アドレスの補完
@end ifset
@ifset en
@section Address Completion
@end ifset

@ifset ja
To: や Cc: では、アドレスを補完できます。補完には @samp{TAB} を用います。
@end ifset
@ifset en
You can complete addresses on To: or Cc:. This completion command is
bound to @samp{TAB}.
@end ifset

@example
To: kazu@samp{TAB}
@end example

@ifset ja
上記のように、アドレスの一部で @samp{TAB} を押すと、以下のようにアドレ
スが補完される訳です。
@end ifset
@ifset en
When you type @samp{TAB} after a part of an address as the example
above, the entire address is completed as follows:
@end ifset

@example
To: kazu@@example.org
@end example

@ifset ja
アドレスの補完に利用されるアドレスの種類には、以下の 3 つがあります。
@end ifset
@ifset en
There are three kinds of registered addresses to be used for
the completion.
@end ifset

@enumerate
@ifset ja
@item
アドレス帳の展開規則
@item
アドレス帳の個人情報
@item
送信時に学習されたアドレス
@end ifset
@ifset en
@item
The expansion rule in an address book
@item
The personal information in the address book
@item
Learned addresses when sending
@end ifset
@end enumerate

@ifset ja
アドレスの補完には 2 つの方法が提供されています。
@samp{mew-use-full-alias} によって選択します(初期値は @samp{nil})。
@end ifset
@ifset en
Mew provides two ways to complete addresses. You can select one of
them with @samp{mew-use-full-alias}, which is default to @samp{nil}.
@end ifset

@ifset ja
@samp{mew-use-full-alias} が @samp{nil} の場合、@samp{@@} の前、つまりユー
ザ名(短縮名)が補完の対象となります。@samp{TAB} を押すとユーザ名が補完さ
れ、補完しきったところでさらに @samp{TAB} を押すとアドレスに「展開」さ
れます。これをアドレスの補完(1)と呼びましょう。
@end ifset
@ifset en
If @samp{mew-use-full-alias} is @samp{nil}, the portion before
@samp{@@}, a user name or a short name, is a target of the
completion. When you type @samp{TAB}, the user name is completed. And
if the user name is uniquely completed and you type @samp{TAB} again,
it is expanded to its entire address. Let's call this Address
Completion(1).
@end ifset

@ifset ja
アドレスの補完(1)(@xref{addr-comp1})の利点は、上に書いた 3 種類のアドレス
に対し、補完・展開が矛盾なく実行できることです。後述のように、「強制展
開」も @samp{TAB} で実行できます。欠点は、ユーザ名の部分が一意でなけれ
ばならないので、あるユーザ名が登録されている場合、同じユーザ名を持つ別
のアドレスを学習できないことです。
@end ifset
@ifset en
An advantage of Address Completion(1) (@pxref{addr-comp1}) is that you
can use the completion/expansion against the three kinds of addresses
seamlessly. You can also explicitly expand the user name with
@samp{TAB} as described later. A disadvantage is that user names must
be unique. So, if a user name is already registered, other addresses
with the same user name cannot be learned.
@end ifset

@ifset ja
@samp{mew-use-full-alias} が @samp{t} の場合、学習されたアドレスに関して
は、アドレスの全体が補完の対象になります。これをアドレスの補完(2)と呼び
ましょう。
@end ifset
@ifset en
If @samp{mew-use-full-alias} is @samp{t}, for learned addresses when
sending, completion target is an entire address. Let's call this
Address Completion(2).
@end ifset

@ifset ja
アドレスの補完(2)(@xref{addr-comp2})の利点は、ユーザ名が一致している複
数のアドレスを学習できることです。欠点は、アドレス帳の個人情報に登録さ
れているアドレスの先頭以外は利用できないことです。また、「強制展開」は、
@samp{M-C-e} という (@samp{TAB} とは別の) キーを押さなければいけないこ
とです。
@end ifset
@ifset en
An advantage of Address Completion(2) (@pxref{addr-comp1}) is that Mew
can learn addresses whose user names are the same. One of
disadvantages is that only the first address of personal information
can be used (the other addresses are useless). And for the explicit
expansion, you have to type @samp{M-C-e}, a different key from
@samp{TAB}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node addrbook, auto-alias, addr-comp, Composing
@ifset ja
@section アドレス帳
@end ifset
@ifset en
@section Address Book
@end ifset
@kindex C-cC-a (Summary)
@kindex C-uC-cC-a (Summary)
@kindex C-cC-c (Addrbook)
@kindex C-cC-q (Addrbook)

@ifset ja
Mew ではアドレス帳("~/Mail/Addrbook")が利用できます。アドレス帳には 2 つ
の書式が用意されています。一方は「展開規則」を指定する書式、他方は「個人
情報」を記述するための書式です。
@end ifset
@ifset en
Mew provides an address book ("~/Mail/Addrbook). The address book has 2
formats. One specifies expansion rules, while the other defines personal
information.
@end ifset

@ifset ja
まず、「展開規則」を記述するための書式を示します。
@end ifset
@ifset en
First, let's look at the format that specifies expansion rules.
@end ifset

@example
<shortname>: <address1>[, <address2>, <address3>,...]
@end example

@ifset ja
このように短縮名と展開すべきアドレスを @samp{:} で区切って書きます。複数
のアドレスに展開する場合は、それらのアドレスを @samp{,} で区切ります。
(これは、To: などでアドレスが @samp{,} で区切られているのと同じです。)
@samp{,} の後ろに空白を入れても構いません。以下に例を示します。
@end ifset
@ifset en
In this way, you should specify a short name and a full address
separated by @samp{:}. If you want to expand the short name to multiple
addresses, you can delimit them with a comma @samp{,}. (This is exactly
same as addresses delimited by @samp{,} in the To: field, for instance.)
A space SPC is allowed after the comma @samp{,}. For example:
@end ifset

@example
pooh:           winnie-the-pooh@@example.net
piglet:         piglet@@example.org
friends:        pooh, piglet
@end example



@ifset ja
次に、「個人情報」を記述するための書式を示します。
@end ifset
@ifset en
Next, the format to define personal information is shown below:
@end ifset

@example
<shortname> <address1>[, <address2>, <address3>,...] <nickname> <fullname>
@end example

@ifset ja
このように 4 つの要素を空白で区切ります。<shortname> が短縮名です。
<nickname> と <fullname> はそれぞれニックネームと正式な氏名であり、日本
語でも構いません。(ニックネームの使い方は @xref{summary-mode} と 
@xref{draft-mode} を参照して下さい。)
@end ifset
@ifset en
In this way, four elements are separated by SPC. <shortname> is a short
name. <nickname> and <fullname> are the person's nickname and full name,
respectively. (For proper usage of the nickname, please refer to
@ref{summary-mode} and/or @ref{draft-mode}.)
@end ifset

@ifset ja
2 番目の要素はアドレスです。複数のアドレスをその人が持っている場合は、
@samp{,} で区切って書きます。@samp{,} の後に空白を入れても構いません。つ
まり、この空白は要素の区切りではありません。また、@samp{"} で囲まれた空
白も要素の区切りにはなりません。以下に例を示します。
@end ifset
@ifset en
The second element is the addresses. If the person has multiple
addresses, delimit them using @samp{,}. SPC is allowed after @samp{,},
which means that it does not function as the delimiter. SPC surrounded
by quotes @samp{"} also has no delimiting function here. For example:
@end ifset

@example
kazu    kazu@@example.org, kazu@@example.net    Kazu-kun  "Kazuhiko Yamamoto"
@end example

@ifset ja
「個人情報」の書式では、各要素を省略できます。中間の要素を省略する場合は、
@samp{*} と書いて下さい。以下に、アドレスに対してニックネームのみを定義
する例を示します。
@end ifset
@ifset en
In the personal information format, you can omit any element. When you
want to omit an intermediate element, specify @samp{*}. The following is
an example to define nicknames for addresses.
@end ifset

@example
*       kazu@@example.org, kazu@@example.net    Kazu-kun
@end example

@ifset ja
ニックネームは Summary モードでのアドレスの置き換えと、Draft モードでの
引用記号の置き換え(@xref{cite})に利用されます。
@end ifset
@ifset en
The nickname is used to replace addresses in Summary mode and to replace
the citation prefix (@pxref{cite}) in Draft mode.
@end ifset

@ifset ja
アドレス帳のコメント文字は @samp{;} と @samp{#} です。@samp{;} は行頭に
ある場合のみコメントとなり、その行が無視されます。@samp{#} は任意の場所
でコメントとなり、そこから行末までが無視されます。また、@samp{\} は継続
行を表わします。
@end ifset
@ifset en
The comment letters are @samp{;} and @samp{#}. @samp{;} is valid only
when it appears at the beginning of lines, resulting in the disregarding
of the entire line. The comment marker @samp{#} is valid everywhere. The
strings between @samp{#} and the end of the line are ignored. Also,
@samp{\} means a continuous line.
@end ifset



@ifset ja
Summary モードには、現在読んでいるメッセージの情報を Addrbook に登録す
る機能があります。展開規則を登録するには @samp{C-cC-a} と押して下さい。
以下に例を示します。
@end ifset
@ifset en
Summary mode includes the feature of directly registering the
information of the current message into Addrbook. To register a
expansion rule, type @samp{C-cC-a}.
@end ifset

@example
#If you want to register this entry, type 'C-c C-c'.
#If you want to NOT register this entry, type 'C-c C-q'.
Shortname: kazu
Addresses: kazu@@example.org
Comments: 
@end example

@ifset ja
個人情報を登録するには @samp{C-uC-cC-a} と押して下さい。以下に例を示します。
@end ifset
@ifset en
To register personal information, type @samp{C-uC-cC-a}.
@end ifset

@example
#If you want to register this entry, type C-c C-c.
#If you want to NOT register this entry, type C-c C-q.
Shortname: kazu
Addresses: kazu@@example.org
Nickname: 
Name: Kazuhiko Yamamoto
Comments: 
@end example

@ifset ja
必要であれば加筆訂正します。実際に登録するには @samp{C-cC-c}、登録を取り
止める場合は @samp{C-cC-q} と入力して下さい。@xref{Quit} も参照して下さい。
@end ifset
@ifset en
Add or modify the information if necessary. To register this
information, type @samp{C-cC-c}. To quit the registration, type
@samp{C-cC-q}. You should also refer to @ref{Quit}.
@end ifset

@ifset ja
なお、Addrbook に複数の言語の文字を使いたい場合は、以下の設定を Addrbook 
の先頭に記述して下さい。
@end ifset
@ifset en
If you want to use characters of multiple languages, put the following
onto the beginning of Addrbook.
@end ifset

@example
#-*-coding:ctext;-*-
@end example


@c %%%%%%%%%%%%%%%%%
@node auto-alias, addr-comp1, addrbook, Composing
@ifset ja
@section アドレスの自動学習
@end ifset
@ifset en
@section Learning addresses
@end ifset
@kindex Z (Summary)
@vindex mew-addrbook-override-by-newone
@vindex mew-lisp-max-length

@ifset ja
メッセージを送信した場合、To: と Cc: に書かれているアドレスは、自動的に
学習されます。以下の例を考えて下さい。
@end ifset
@ifset en
When you send a message, addresses on the To: and Cc: field are
automatically registered. Consider the following:
@end ifset

@example
To: kazu@@example.org
@end example

@ifset ja
アドレスの補完(1)(@xref{addr-comp1})の場合：このメッセージを送信すると、
アドレス "kazu@@example.org" に対し、短縮名 "kazu" が自動登録されます。ただ
し、すでに "kazu" という短縮名が自動登録されているなら、
@samp{mew-addrbook-override-by-newone} の値に応じて上書きするかを決定し
ます。@samp{nil} なら古い設定を残し、それ以外なら上書きします。展開の際
は、アドレス帳の方が優先されます。ですから、アドレス帳に無い短縮名のみ
が有効になります。
@end ifset
@ifset en
In the case of Address Completion(1) (@pxref{addr-comp1}): When this
message is sent, a short name "kazu" is automatically registered for
the address "kazu@@example.org". If there is already a short name of
@w{"}kazu", the next action is decided according to
@samp{mew-addrbook-override-by-newone}. If @samp{nil}, the old entry
remains. Otherwise, the new entry overrides the old one. When
expanded, the address book short name has priority over the automatic
short name. Only automatic short names which are not contained in the
address book are valid.
@end ifset

@ifset ja
アドレスの補完(2)(@xref{addr-comp2})の場合：このメッセージを送信すると、
アドレス "kazu@@example.org" が自動登録されます。
@end ifset
@ifset en
In the case of Address Completion(1) (@pxref{addr-comp2}): When this message
is sent, the address "kazu@@example.org" is automatically registered.
@end ifset

@ifset ja
自動登録されるのは通常 2000 個(@samp{mew-lisp-max-length})のアドレスま
でです。それを越えて登録するとアルファベット順で最後の方が消えます。こ
れらの情報は Mew を終了する際に、"~/Mail/.mew-alias" に保存されます。
@end ifset
@ifset en
The limit number of automatic short names is 2000
(@samp{mew-lisp-max-length}). Once the number exceeds 2000, the tail
entries in the alphabetical order are removed. This information is
automatically saved to the file "~/Mail/.mew-alias".
@end ifset

@ifset ja
自動登録ですから、不要な短縮名も登録されます。不要な短縮名を削除するに
は、以下のようにするといいでしょう。まず、@samp{M-a} を実行し、
@w{"}~/Mail/.mew-alias" を開きます。次に、テキストファイルを編集する要
領で、不要な短縮名を削除します。そして、@samp{C-xC-s} で保存して下さい。
保存と同時に、その内容が Mew に反映されます。
@end ifset
@ifset en
The automatic registration would register unnecessary short names. If
you want to remove these entry, take the following steps. First, type
@samp{M-a} to open "~/Mail/.mew-alias". Then edit it as you do against a
text file. Lastly, type @samp{C-xC-s} to save it. When saving it, the
modifications are automatically reflected to Mew.
@end ifset

@ifset ja
アドレスの補完(1)とアドレスの補完(2)では、"~/Mail/.mew-alias" の書式が
異なります。@samp{mew-use-full-alias} の値を変え、方法を切り替えたら、
Summary モードで一回 @samp{Z} を押して下さい。これで、書式が変換されま
す。
@end ifset
@ifset en
The formats of Address Completion (1) and (2) are different. When you
change the value of @samp{mew-use-full-alias} to switch one to the
other, type @samp{Z} once in Summary mode. This converts the format
properly.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node addr-comp1, addr-comp2, auto-alias, Composing
@ifset ja
@section アドレスの補完(1)
@end ifset
@ifset en
@section Address Completion(1)
@end ifset

@ifset ja
アドレスの補完(1)では、アドレス帳の展開規則、アドレス帳の個人情報、
および送信時に学習されたアドレスで登録されたアドレスは、
ユーザ名(短縮名)が一意であることが前提となっています。
@end ifset
@ifset en
As far as Address Completion (2) is concerned, there is an assumption:
user names or short names of expansion rules, personal information and
learned addresses are unique.
@end ifset

@ifset ja
たとえば、以下のように「展開規則」を設定したとします。
@end ifset
@ifset en
For example, consider the following configuration of expansion rules:
@end ifset

@example
pooh:           winnie-the-pooh@@example.net
@end example

@ifset ja
Draft モードのヘッダ内で、かつ、アドレスを書くべきフィールド上で、しかも、
1 文字以上の文字列が前にある場所で @samp{TAB} を打つと、アドレスの短縮名
が補完されます。
@end ifset
@ifset en
When you are in a header in Draft mode, working within an address field,
after typing one or more characters, you can complete a short name for
an address by pressing the @samp{TAB} key.
@end ifset

@example
To: piglet@@example.org, 
        po@samp{TAB}
@end example

@ifset ja
このように @samp{TAB} を押すと、(他に候補が無ければ) "pooh" まで補完され
ます。
@end ifset
@ifset en
If you press the @samp{TAB} key, "pooh" is completed (unless other
candidates exist).
@end ifset

@example
To: piglet@@example.org, 
        pooh@samp{TAB}
@end example

@ifset ja
もう一度 @samp{TAB} を押すと "winnie-the-pooh@@example.net" に展開され
ます。
@end ifset
@ifset en
One more press of the @samp{TAB} key expands the name to
@w{"}winnie-the-pooh@@example.net".
@end ifset

@example
To: piglet@@example.org, 
        winnie-the-pooh@@example.net
@end example

@ifset ja
"@@" で終る文字列は強制的に展開します。たとえば、以下のように似たような 
短縮名があった場合を考えて下さい。
@end ifset
@ifset en
A string ending with "@@" is explicitly expanded. Please pay attention
to the following case where similar short names are defined.
@end ifset

@example
pooh:           winnie-the-pooh@@example.net
pooh-pooh:      pooh-pooh@@example.org
@end example

@ifset ja
"pooh-" まで入力すれば、"pooh-pooh" まで補完できることは明らかです。し
かし、"pooh" までだと、"pooh" を「展開」するのか、"pooh-pooh" まで補完
するのか分りません。"pooh" を "winnie-the-pooh@@example.net" に強制的に
展開するには、以下のように @samp{@@} を挿入し、@samp{TAB} を押します。
@end ifset
@ifset en
It is obvious that "pooh-" is completed to "pooh-pooh". But if you
input "pooh", Mew cannot tell whether it should be expanded or
completed to "pooh-pooh". Thus, if you want to explicitly complete
"pooh" to "winnie-the-pooh@@example.net", insert @samp{@@} and type
@samp{TAB}.
@end ifset

@example
To: pooh@@@samp{TAB}
@end example

@ifset ja
強制展開は、@samp{@@} を挿入せず、@samp{M-C-e} を押しても実行できます。
@end ifset
@ifset en
Explicit expansion can be accomplished by @samp{M-C-e} instead of
insertion of @samp{@@}.
@end ifset

@ifset ja
上記の説明は、送信時に学習されたアドレスにもあてはまります。
@end ifset
@ifset en
The explanation above can be applied to learned addresses when
sending.
@end ifset

@ifset ja
「個人情報」の書式では、アドレスが順に置き換えられていきます。以下の例
を考えて下さい。
@end ifset
@ifset en
The format of personal information means that each subsequently
generated address will replace the former one. For example:
@end ifset

@example
kazu    kazu@@example.org, kazu@@example.net    Kazu-kun  "Kazuhiko Yamamoto"
@end example

@ifset ja
kazu がどう変化するのか見てみましょう。
@end ifset
@ifset en
Let's watch how it will be converted:
@end ifset

@example
To: kazu@samp{TAB}
@end example

@ifset ja
"kazu" の後で @samp{TAB} を打つと、"kazu@@example.org" に置き換わります。
@end ifset
@ifset en
Typing @samp{TAB} after "kazu" generates "kazu@@example.org".
@end ifset

@example
To: kazu@@example.org@samp{TAB}
@end example

@ifset ja
次に "kazu@@example.org" の後で @samp{TAB} を打つと、"kazu@@example.net" に
置き換わります。
@end ifset
@ifset en
Typing @samp{TAB} after "kazu@@example.org" brings about
"kazu@@example.net".
@end ifset

@example
To: kazu@@example.net@samp{TAB}
@end example

@ifset ja
さらに "kazu@@example.net" の後で @samp{TAB} を打つと、
"kazu@@example.org" に戻ります。このように @samp{TAB} を押すと、アドレ
スが循環的に置換されます。
@end ifset
@ifset en
Then "kazu@@example.org" will appear again if you type @samp{TAB}
after @w{"}kazu@@example.net". In this way, each address is replaced
one by one.
@end ifset

@ifset ja
アドレスを決定した後は、正式名称が付加できます。
@end ifset
@ifset en
After deciding an address, you can add its full name.
@end ifset

@example
To: kazu@@example.org@samp{M-TAB}
@end example

@ifset ja
このように @samp{M-TAB} を押すと、以下のように正式名称が付加されます。
@end ifset
@ifset en
Like this, typing @samp{M-TAB} replace the address with the following
format.
@end ifset

@example
To: Kazuhiko Yamamoto <kazu@@example.org>
@end example

@c %%%%%%%%%%%%%%%%%
@node addr-comp2, send, addr-comp1, Composing
@ifset ja
@section アドレスの補完(2)
@end ifset
@ifset en
@section Address Completion(2)
@end ifset

@ifset ja
アドレスの補完(2)では、学習されたアドレスに関しては、アドレス全体が補完
の対象になります。アドレス帳の展開規則は、短縮名が補完の対象になり、一
意に定まれば展開されます。アドレス帳の個人情報では、短縮名が補完の対象
になり、一意に定まれば、登録されている先頭のアドレスに展開されます。
@end ifset
@ifset en
As far as Address Completion(2) is concerned, for learned addresses
when sending, the entire addresses are completion targets. For
expansion rules in the address book, short names are completion
targets and unique short names are expanded to corresponding
addresses. For personal information in the address book, short names
are completion targets and unique short names are expanded to their
first addresses.
@end ifset

@ifset ja
Draft モードのヘッダ内で、かつ、アドレスを書くべきフィールド上で、しか
も、1 文字以上の文字列が前にある場所で @samp{TAB} を打つと、短縮名ある
いは学習されたアドレスが補完されます。
@end ifset
@ifset en
When you are in a header in Draft mode, working within an address
field, after typing one or more characters, you can complete a short
name or a learned address by pressing the @samp{TAB} key.
@end ifset

@ifset ja
kazu@@example.org を学習しているとしましょう。
@end ifset
@ifset en
Suppose that kazu@@example.org is already learned.
@end ifset

@example
To: ka@samp{TAB}
@end example

@ifset ja
曖昧でないところまで入力し、@samp{TAB} を押せば、アドレスが補完されます。
@end ifset
@ifset en
When you type some characters and press @samp{TAB}, its address is
completed:
@end ifset

@example
To: kazu@@example.org
@end example

@ifset ja
さらに kazunori@@example.jp を学習したとしましょう。kazu@@example.org へ補
完するには kazu@@ まで、kazunori@@example.jp へ補完するには kazun まで
入力する必要があります。
@end ifset
@ifset en
Also suppose that "kazunori@@example.jp" is learned. To expand a user
name to "kazu@@example.org", you should input "kazu@@". To convert it
to @w{"}kazunori@@example.jp", you need to input "kazun".
@end ifset

@ifset ja
展開規則と個人情報は、@samp{TAB} により、まず短縮名が補完されます。短縮
名が一意に定まれば、@samp{TAB} で展開できます。
@end ifset
@ifset en
For expansion rules and personal information, @samp{TAB} completes
short names first. You can expand a unique short name to corresponding
address with @samp{TAB}.
@end ifset

@ifset ja
たとえば、以下のように「展開規則」を設定したとします。
@end ifset
@ifset en
For example, consider the following configuration of expansion rules:
@end ifset

@example
pooh:           winnie-the-pooh@@example.net
@end example

@ifset ja
短縮名 "pooh" を補完してみましょう。
@end ifset
@ifset en
Let's complete "pooh":
@end ifset

@example
To: po@samp{TAB}
@end example

@ifset ja
このように @samp{TAB} を押すと、(他に候補が無ければ) "pooh" まで補完され
ます。
@end ifset
@ifset en
If you press the @samp{TAB} key, "pooh" is completed (unless other
candidates exist).
@end ifset

@example
To: pooh@samp{TAB}
@end example

@ifset ja
もう一度 @samp{TAB} を押すと "winnie-the-pooh@@example.net" に展開され
ます。
@end ifset
@ifset en
One more press of the @samp{TAB} key expands the name to
@w{"}winnie-the-pooh@@example.net".
@end ifset

@example
To: winnie-the-pooh@@example.net
@end example

@ifset ja
問題は、短縮名が一意に定まらない場合の展開です。以下の展開規則を考えて
下さい。
@end ifset
@ifset en
A problem occurs when a short name is not unique. Consider the
following example:
@end ifset

@example
pooh:           winnie-the-pooh@@example.net
pooh-pooh:      pooh-pooh@@example.org
@end example

@ifset ja
"pooh-" まで入力すれば、"pooh-pooh" まで補完できることは明らかです。し
かし、"pooh" までだと、"pooh" を「展開」するのか、"pooh-pooh" まで補完
するのか分りません。"pooh" を "winnie-the-pooh@@example.net" に強制的に
展開するには、@samp{M-C-e} を利用します。(@samp{TAB} で強制展開する方法
はありません。)
@end ifset
@ifset en
It is obvious that "pooh-" is completed to "pooh-pooh". But if you
input "pooh", Mew cannot tell whether it should be expanded or
completed to "pooh-pooh". Thus, if you want to explicitly complete
@w{"}pooh" to "winnie-the-pooh@@example.net", type
@samp{M-C-e}. (There is no way to accomplish this with @samp{TAB}.)
@end ifset

@example
To: pooh@samp{M-C-e}
@end example

@ifset ja
この例は、以下のように強制展開されます。
@end ifset
@ifset en
This example is explicitly expanded as follows:
@end ifset

@example
To: winnie-the-pooh@@example.net
@end example


@c %%%%%%%%%%%%%%%%%
@node send, cite, addr-comp2, Composing
@ifset ja
@section メッセージの送信
@end ifset
@ifset en
@section Sending a message
@end ifset
@vindex mew-ask-subject
@vindex mew-ask-fcc
@kindex C-cC-m (Draft)
@kindex C-cC-c (Draft)
@kindex i (Summary)
@kindex C-cC-c (Summary)

@ifset ja
メッセージを書き上げ、いよいよ送信するには、以下の 2 つのコマンドのどち
らかを選んで下さい。
@end ifset
@ifset en
When you are ready to send a message after completing composition,
choose one of the following two commands.
@end ifset

@table @samp
@ifset ja
@item C-cC-m
メッセージを作成し +queue または +postq に入れ、送信待ち状態にする。
@item C-cC-c
メッセージを作成し送信する。"Really send this message? (y or n) " と訊か
れる。@samp{y} を押せば、送信される。
@end ifset
@ifset en
@item C-cC-m
Compose a message, put it into +queue or +postq, and leave it for later
sending.
@item C-cC-c
Compose a message and send it. You receive the prompt: "Really send this
message? (y or n) ". Type @samp{y} to send it.
@end ifset
@end table

@ifset ja
メッセージが送信される際にどう加工されるか説明します。以下のようなメッセー
ジを考えて下さい。
@end ifset
@ifset en
Let's look at how a message is modified when sent. Please see the
following example:
@end ifset

@example
@ifset ja
To: pooh
Subject: 明日の日曜日
From: Piglet <piglet@@example.org>
X-Mailer: @value{X-Mailer}
----
明日の日曜日、遊びませんか？

// ピグレット
@end ifset
@ifset en
To: pooh
Subject: the next Sunday
From: Piglet <piglet@@example.org>
X-Mailer: @value{X-Mailer}
----
Would you like to play with me next Sunday?

// Piglet
@end ifset
@end example

@ifset ja
たとえば、@samp{C-cC-m} でこのメッセージを +queue あるいは +postq に入れ
ると、メッセージは以下のように加工されています。
@end ifset
@ifset en
This message is modified as follows, for example, if it is put into
+queue or +postq by @samp{C-cC-m}.
@end ifset

@example
@ifset ja
Date: Mon, 13 Mar 2000 19:49:50 +0900 (JST)
Message-Id: <20000313.194950.59499544.piglet@@example.org>
To: winnie-the-pooh@@example.net
Subject: =?iso-2022-jp?B?GyRCTEBGfCRORnxNS0Z8GyhC?=
From: Piglet <piglet@@example.org>
X-Mailer: @value{X-Mailer}
Mime-Version: 1.0
Content-Type: Text/Plain; charset=iso-2022-jp
Content-Transfer-Encoding: 7bit

明日の日曜日、遊びませんか？

// ピグレット
@end ifset
@ifset en
Date: Mon, 13 Mar 2000 19:49:50 +0900 (JST)
Message-Id: <20000313.194950.59499544.piglet@@example.org>
To: winnie-the-pooh@@example.net
Subject: the next Sunday
From: Piglet <piglet@@example.org>
X-Mailer: @value{X-Mailer}
Mime-Version: 1.0
Content-Type: Text/Plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Would you like to play with me in the next Sunday?

// Piglet
@end ifset
@end example

@ifset ja
Date: や Message-Id: が付加されたのはお分かりになるでしょう。Subject: に
あった日本語は、配送に安全となるよう ASCII コードに変換されています。ま
た、本文のデータ型や文字コードが推測され、正しく付加されていることは特筆
すべきでしょう。
@end ifset
@ifset en
As you can see, Data: and Message-Id: are added. You should note that
both its data type and its character set are guessed correctly and
added.
@end ifset

@ifset ja
@samp{C-cC-m} や @samp{C-cC-c} でメッセージを作成するとき、ヘッダに不備
があった場合に注意を促してくれる機能があります。
@end ifset
@ifset en
When composing a message using @samp{C-cC-m} and @samp{C-cC-c}, you can
make use of a feature that identifies errors in a header.
@end ifset

@ifset ja
@samp{mew-ask-subject} を @samp{t} にしておけば、Subject: が空のときに値
を尋ねてくれます。空のままにしたい場合は単純に @samp{RET} を押して下さい。
この変数の初期値は @samp{nil} です。
@end ifset
@ifset en
Suppose you set @samp{mew-ask-subject} to @samp{t}. If Subject: is
empty, Mew asks you its value. If you want to leave it empty, just type
@samp{RET}. The default value of this variable is @samp{nil}.
@end ifset

@ifset ja
@samp{mew-ask-fcc} を @samp{t} にしておけば、Fcc: に存在しないフォルダが
指定してある場合、そのフォルダを作成するか尋ねてくれます。作るなら 
@samp{y}、作らないなら @samp{n} を押して下さい。@samp{n} を押すと、送信
が中止され、カーソルは草稿に戻ります。この変数の初期値は @samp{nil} です。
@end ifset
@ifset en
Suppose you set @samp{mew-ask-fcc} to @samp{t}. If there is a folder
that doesn't exist, Mew asks you whether or not you want to create it.
If you want to create it, type @samp{y}. Otherwise, type @samp{n}. If
you type @samp{n}, sending is aborted and the cursor returns to the
draft. The default value of this variable is @samp{nil}.
@end ifset

@ifset ja
Mew は、サーバがユーザ認証を要求すると、送信のためのパスワードをユーザ
に訊きます。長い間、メールの送信にはパスワードが必要ありませんでした。
これが、メールアドレスを詐称できる原因の一つとなっています。これからは、
メールの送信の際は、受信のときと同じように、パスワードが必要な時代にな
ります。
@end ifset
@ifset en
Mew asks you to input your password for sending if the server requires
user authentication. Historically speaking, passwords are not
necessary to send e-mail messages. This is one reason why e-mail
addresses can be faked. In the near future, passwords are always
required for sending messages as are for receiving messages.
@end ifset

@ifset ja
+queue に溜っているメッセージを送信するには、以下の 2 つの方法があります。
どちらも Summary モードのコマンドであることに注意しましょう。
@end ifset
@ifset en
There are two ways to send messages waiting in +queue. Please note that
both of these are commands in Summary mode.
@end ifset

@table @samp
@ifset ja
@item i
@samp{mew-auto-flush-queue} が @samp{t} の場合は、メッセージを受信した後
に、+queue にあるメッセージを送信する。ダイアルアップ環境において、接続
料金を節約する意味でも、送信のための認証という意味でも、これはよい方法。
@samp{mew-auto-flush-queue} の初期値は @samp{t}。
@item C-cC-c
+queue にあるメッセージを送信する。+queue に行って、できあがったメッセー
ジを見た後に、このコマンドを使うと便利。@samp{mew-ask-flush-queue} が 
@samp{t} なら、"Flush queue? (y or n) " と訊かれる。
@samp{mew-ask-flush-queue} の初期値は @samp{nil}。
@end ifset
@ifset en
@item i
If @samp{mew-auto-flush-queue} is @samp{t}, the messages being held in
+queue will be sent after the incoming messages have been received.
This method is appropriate for dial-up environments, since one can save
on connection fees and repeated authentication for sending.
@samp{mew-auto-flush-queue} is default to @samp{t}.
@item C-cC-c
Send messages in +queue. Method is appropriate if you like to preview
composed messages first in +queue and then send them. If
@samp{mew-ask-flush-queue} is @samp{t}, you are asked, Flush queue? (y
or n) ". @samp{mew-ask-flush-queue} is default to @samp{nil}.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node cite, mime-comp, send, Composing
@ifset ja
@section シグニチャと引用
@end ifset
@ifset en
@section Signature and citation
@end ifset
@vindex mew-signature-file
@vindex mew-signature-as-lastpart
@vindex mew-signature-insert-last
@kindex C-cTAB (Draft)
@kindex C-cC-y (Draft)
@kindex C-cC-t (Draft)
@kindex C-cC-l (Draft)

@ifset ja
ここでは、本文のテキストを便利に処理するコマンドについて述べます。
@end ifset
@ifset en
Next is the explanation of the commands for processing the text in the
body of the message.
@end ifset

@ifset ja
まずシグニチャについてです。カーソルのある場所に "~/.signature" を挿入す
るコマンドは @samp{C-cTAB} です。シグニチャファイルは、
@samp{mew-signature-file} で設定できます。
@samp{mew-signature-as-lastpart} や @samp{mew-signature-insert-last} を
設定することで、@samp{C-cTAB} の動作をカスタマイズできます。
@end ifset
@ifset en
The first one is signature. To insert your signature file
("~/.signature") on the cursor point, type @samp{C-cTAB}. You can define
your own signature file to @samp{mew-signature-file}. Setting
@samp{mew-signature-as-lastpart} and @samp{mew-signature-insert-last},
you can customize the action of @samp{C-cTAB}.
@end ifset

@table @samp
@ifset ja
@item C-cTAB
カーソルの位置に "~/.signature" を挿入する。
@end ifset
@ifset en
@item C-cTAB
Insert "~/.signature" on the cursor point.
@end ifset
@end table

@ifset ja
次に引用についてです。Summary モードの @samp{a} や @samp{A} を使ってメッ
セージに返答するための草稿を用意すると、Emacs が 3 分割されます。上が現在
の Summary モード、中が Message モード、下が Draft モードです。
@end ifset
@ifset en
The next one is citation. If you use @samp{a} or @samp{A} in Summary
mode, a draft for reply is opened up and Emacs is split into three
windows. The top is Summary mode, the middle is Message mode, and the
bottom is Draft mode.
@end ifset

@ifset ja
Message モードのテキストを引用するコマンドを以下に示します。
@end ifset
@ifset en
Here are the commands for citing text from Message mode to Draft mode.
@end ifset

@table @samp
@ifset ja
@item C-cC-y
Message モードからメッセージの一部をコピーし、引用ラベルと引用記号付で貼
り付ける。
@enumerate
@item
おおまかにいえば、Message モードの本文がコピーされる。たとえば、
Text/Plain が表示されていると、Message モード全体がコピーされる。
Message/Rfc822 が表示されている場合は、ヘッダを除いた本文がコピーされる。
@item
@samp{C-uC-cC-y} では、ヘッダがあればヘッダをコピーする。
@item
Emacs のマークがあると、そのマークとカーソルの間が対象となる。
@end enumerate
@item C-cC-t
Message モードからメッセージの一部をコピーし、引用ラベルと引用記号なしで
貼り付ける。
@end ifset
@ifset en
@item C-cC-y
Copy and paste a part of a message from Message mode WITH citation
prefix and label.
@enumerate
@item
Roughly speaking, it copies the body in Message mode. For example, if
Text/Plain is displayed, the entire Message mode is copied. If
Message/Rfc822 is displayed, the body without the header is copied.
@item
If you type @samp{C-uC-cC-y}, the header is also copied if exists.
@item
If an Emacs mark exists, the target is the region between the mark and
the cursor.
@end enumerate
@item C-cC-t
Copy and paste a part of the message from Message mode WITHOUT citation
prefix and label.
@end ifset
@end table

@ifset ja
引用ラベルと引用記号の初期値は、以下のようになります。
@end ifset
@ifset en
The default label and prefix is as follows:
@end ifset

@example
@ifset ja
From: SUMIKAWA Munechika <sumikawa@@ebina.hitachi.co.jp>
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

> おはようからおやすみまでニートでおなじみの角川です。
> 
> さて、とろけるワイン作戦ですが、定石通り '90 のボルドーの
> カベルネ・ソービニョンを狙いたいと思います。
@end ifset
@ifset en
From: SUMIKAWA Munechika <sumikawa@@ebina.hitachi.co.jp>
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

> Hi, it's Sumikawa, the guy who's neat from good morning 
> to good night.
>
> Talking about the wonderful wine party, I would propose 
> Cabernet Sauvignon, Bordeaux, '90. 
@end ifset
@end example

@ifset ja
Draft モードでは Message モードに表示されているものならなんでも引用でき
ます。つまり、複数のメッセージを簡単に引用できるのです。引用したいメッセー
ジを表示させて、本文を引用する手順を、引用したいメッセージの回数だけ繰り
返して下さい。そのための 3 分割です。
@end ifset
@ifset en
In Draft mode, you can cite any text displayed in Message mode. So, you
can cite text from multiple messages easily. Select a message in Summary
mode and display it in Message mode, then cite it in Draft mode. Please
repeat this procedure as you like. Triple windows are opened for this
purpose.
@end ifset


@ifset ja
本文やヘッダの色付けがおかしくなった場合、@samp{C-cC-l} を実行することで、
色付けをやり直すことができます。
@end ifset
@ifset en
When highlighting gets wrong, type @samp{C-cC-l} to re-highlight both
the header and the body
@end ifset

@c %%%%%%%%%%%%%%%%%
@node mime-comp, charset-guess, cite, Composing
@ifset ja
@section マルチパートの作成
@end ifset
@ifset en
@section Composing multipart
@end ifset
@kindex C-cC-a (Draft)
@kindex C-p (Attach)
@kindex C-n (Attach)
@kindex C-f (Attach)
@kindex C-b (Attach)
@kindex c (Attach)
@kindex i (Attach)
@kindex d (Attach)
@kindex m (Attach)
@kindex f (Attach)
@kindex F (Attach)
@kindex y (Attach)
@kindex e (Attach)
@kindex a (Attach)
@kindex p (Attach)
@kindex D (Attach)
@kindex T (Attach)
@kindex t (Attach)
@kindex C (Attach)
@kindex P (Attach)

@ifset ja
さて、ここでマルチパートの作り方を披露しましょう。
@end ifset
@ifset en
Now let's see how to create multipart messages.
@end ifset

@ifset ja
たとえば、+draft/1 でメッセージを書いているときに、@samp{C-cC-a} と入力
すると、草稿の一番下に
@end ifset
@ifset en
When you are writing a message in +draft/1 and type @samp{C-cC-a}, the
following lines are inserted at the bottom of the draft.
@end ifset

@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
     2                                                          .   
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example

@ifset ja
という行が挿入されます。"1/" はマルチパートを構築するための一時的なディ
レクトリで、実体は "~/Mail/attach/1" です。パート 1 の CoverPage は本
文を意味します。ここで Draft モードは次のようになっているでしょう。
@end ifset
@ifset en
"1/" is a temporary directory to create multipart and provides a
location for "~/Mail/attach/1". The part 1, "CoverPage", refers to the
body. Now the entire draft looks like:
@end ifset

@example
@ifset ja
To: mew-dist
Subject: ここがヘッダ
From: Kazu Yamamoto <kazu@@example.org> 
X-Mailer: @value{X-Mailer}
----
本文だよ。

----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
     2                                                          .   
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end ifset
@ifset en
To: mew-dist
Subject: This is header
X-Mailer: @value{X-Mailer}
----
This is the body.

----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
     2                                                          .   
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end ifset
@end example

@ifset ja
3 つの領域を以下のように呼ぶことにします。
@end ifset
@ifset en
Here we designate three regions as follows:
@end ifset

@itemize @bullet
@ifset ja
@item
"----" より上を 「ヘッダ」
@item
"----" から "attachments" までを「本文」
@item
"attachments" より下を「添付領域」
@end ifset
@ifset en
@item
the region above "----" @samp{header}
@item
the region from "----" to "attachments" @samp{body}
@item
the region below "attachments" @samp{attachments}
@end ifset
@end itemize

@ifset ja
Draft モードでは、リージョンによってキー割当が違います。
@end ifset
@ifset en
In Draft mode, the key bindings differ according to the region.
@end ifset

@ifset ja
たとえば、@samp{TAB} は以下のようになります。
@end ifset
@ifset en
To @samp{TAB}, for instance, the following functions are assigned:
@end ifset

@table @asis
@ifset ja
@item ヘッダ
さまざまな補完。
@item 本文
TAB の挿入。
@item 添付領域
なにもしない。
@end ifset
@ifset en
@item header
Completions.
@item body
Insert TAB.
@item attachments
Do nothing.
@end ifset
@end table

@ifset ja
@samp{c} だと以下のようになります。
@end ifset
@ifset en
To @samp{c}, functions are assigned as follows:
@end ifset

@table @asis
@ifset ja
@item ヘッダ
c を挿入。
@item 本文
c を挿入。
@item 添付領域
ファイルのコピー。
@end ifset
@ifset en
@item header
Insert c.
@item body
Insert c.
@item attachments
Copy a file.
@end ifset
@end table

@ifset ja
以下、添付領域でのキー割当です。
@end ifset
@ifset en
The following is a summary of commands in the attachments region.
@end ifset

@table @samp
@ifset ja
@item C-p
現在のディレクトリの前のファイルへ移動。
@item C-n
現在のディレクトリの後のファイルへ移動。
@item C-f
1 番目のサブディレクトリに移動。
@item C-b
親ディレクトリに移動。
@item c
ファイルのコピー。"." 上で有効。ネットワーク経由でも可。リモートのファイ
ルをコピーする場合は、"/[user@@]hostname:/filepath" の形式でファイルを指
定。
@item l
ファイルへシンボッリクリンクを張る。"." 上で有効。添付ファイルを 
@samp{f} を使って読み込んで編集する場合は、実体を編集してしまわないよう
に、@samp{l} ではなく @samp{c} でコピーすべき。
@item d
ファイルとディレクトリの消去。
@item m
サブディレクトリ(つまりマルチパート)の作成。"." 上で有効。
@item f
ファイルをバッファに読み込む。
@item F
新規ファイルをバッファに読み込む。"." 上で有効。
@item y
Message モードに表示されているメッセージにリンクを張る。"." 上で有効。
@item e
external-body の入力。"." 上で有効。
@item a
音をサンプリングしオーディオファイルとして挿入。"." 上で有効。
@item p
入力されたユーザの PGP 公開鍵を取り出す。"." 上で有効。
@item D
ちょっとした説明(Content-Description:)の入力。
@item T
データ型(Content-Type:)の変更。
@item t
データ型に関し、テキストとバイナリを反転させる。
@item I
Text/* 型の入力 coding-system を指定する。
@item C
Text/* 型の出力 coding-system を指定する。
@item P
受信側でこのパートを保存する際のファイル名(Content-Disposition:)の変更。
ファイル名の入力の際に、単に @samp{RET} を押すと値が消える。そして、送信
側のファイル名が @samp{*} と共に表示される。
@end ifset
@ifset en
@item C-p
Go to the previous file in the current directory.
@item C-n
Go to the next file in the current directory.
@item C-f
Go to the first subdirectory.
@item C-b
Go to the parent directory.
@item c
Copy a file (possibly via networks) on ".". To copy a remote file, use
the "/[user@@]hostname:/filepath" syntax.
@item l
Link a file with a symbolic link on ".". If you want to edit the
attached file, you should @samp{c} instead of @samp{l} so that you do not
edit the original file.
@item d
Delete this file or this directory.
@item m
Create a subdirectory (i.e. multipart) on ".".
@item f
Open this file into a buffer.
@item F
Open a new file into a buffer on ".".
@item y
Link the message which is displayed in Message mode on ".".
@item e
Input external-body on ".".
@item a
Sampling voice and insert as audio file on ".".
@item p
Extract the PGP key for the specified user on ".".
@item D
Input a description (Content-Description:).
@item T
Change the data type (Content-Type:).
@item t
Toggle text and binary for the data type.
@item I
Specify input coding-system for a Text/* object.
@item C
Specify output coding-system for a Text/* object.
@item P
Specify a file name (Content-Disposition:) to save this part in the
receiver side. If you type just @samp{RET} without any string, its value
is cleared. Then the file name in the sender side is displayed with
@samp{*}.
@end ifset
@end table

@ifset ja
添付領域では、ファイルの拡張子によってデータを取り扱います。現在サポート
している拡張子は以下の通りです。
@end ifset
@ifset en
In attachments, data types are guessed by suffix. The currently
supported suffixes are as follows:
@end ifset

@example
.txt       Text/Plain
.html      Text/Html
.xml       Text/Xml
.rtf       Text/Enriched
.css       Text/Css
.sgml      Text/Sgml
[0-9]+     Message/Rfc822
.ps        Application/Postscript
.pdf       Application/Pdf
.doc       Application/Msword
.xls       Application/Vnd.Ms-Execl
.ppt       Application/Vnd.Ms-Powerpoint
.vsd       Application/Vnd.Visio
.dat       Application/Ms-Tnef
.tar|.tar.|.gz|.Z|.taz|.tgz|.bz2?|.lzh|.zip|.bin|.pgp|.gpg|.exe|.dll
           Application/Octet-Stream
.gif       Image/Gif
.tiff      Image/Tiff
.jpe?g     Image/Jpeg
.png       Image/Png
.xwd       Image/X-Xwd
.xbm       Image/X-Xbm
.xpm       Image/X-Xpm
.bmp       Image/X-Bmp
.pcx       Image/X-Pcx
.tga       Image/X-Tga
.au        Audio/Basic
.wav       Audio/X-Wav
.aif?f     Auido/X-Aiff
.midi?     Auido/X-Midi
.mpga|.mp[23]  Audio/X-Mpeg
.mpe?g     Video/Mpeg
.mov       Video/Quicktime
.avi       Video/X-Msvideo
@end example

@ifset ja
コピーするときのファイル名は、適切なデータ型を推測できるよう拡張子に気
を付ければなんでもよいです。もし、該当する拡張子がない場合、
@samp{mew-content-type} で指定されるデータ型が選ばれます。初期値は、
Text/Plain(テキスト)です。
@end ifset
@ifset en
Please choose an appropriate suffix for the file name so that Mew can
guess its data type. If there is no matched suffix, the data type
specified by @samp{mew-content-type} is chosen. Its default value is
Text/Plain.
@end ifset


@ifset ja
@samp{c} でファイルをコピーすると、たとえば次のようになります。
@end ifset
@ifset en
For instance, if you copy files with @samp{c}, the part becomes as
follows:
@end ifset

@ifset ja
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
B    2  Image/Gif                    MagicPoint のロゴ          mgp.gif
Q    3  Application/Postscript       資料                       ohp.ps
     4                                                          .
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset
@ifset en
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/   
     1  Text/Plain(guess)                                       CoverPage*
B    2  Image/Gif                    MagicPoint logo            mgp.gif
Q    3  Application/Postscript       Presentation Material      ohp.ps
     4                                                          .
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset

@ifset ja
各行は、

@itemize @minus
@item
マーク (Content-Transfer-Encoding:)
@item
パート番号
@item
データ型 (Content-Type:)
@item
説明 (Content-Description:)
@item
ファイル名 (Content-Disposition:)
@end itemize

から構成されています。
@end ifset
@ifset en
Each line of a multipart message consists of 

@itemize @minus
@item
marks (Content-Transfer-Encoding:)
@item
part number
@item
data type (Content-Type:)
@item
description (Content-Description:)
@item
file name (Content-Disposition:).
@end itemize
@end ifset

@ifset ja
データ型(Content-Type:)は @samp{T} によって変えられます。データ型がテキ
スト(Text/Plain)かバイナリ(Application/Octet-Stream)の場合は、@samp{t} 
によって一方を他方へ反転できます。
@end ifset
@ifset en
You can change data types (Content-Type:) by pressing @samp{T} at any
time. If the data type is either text (Text/Plain) or binary
(Application/Octet-Stream), you can toggle between them using @samp{t}.
@end ifset

@ifset ja
マーク(Content-Transfer-Encoding:)を変更する方法は、@xref{mark-b-comp} 
を参照して下さい。説明(Content-Description:)は @samp{D} で入力できます。
この説明のカラムは、@xref{mark-b-comp} で説明する暗号化の際に上書きされ
ます。
@end ifset
@ifset en
Please refer to @ref{mark-b-comp} for explanation on changing the mark
(Content-Transfer-Encoding:). You can also insert descriptions
(Content-Description:) by @samp{D}. This description column is
overwritten when encrypted as described in @ref{mark-b-comp}.
@end ifset

@ifset ja
第 5 カラムに表示されるのは、実際にはコピーしたファイル名か 
Content-Disposition:、つまり、受信者がそのパートを保存する際のファイル
名です。Content-Disposition: の値があれば、それが表示されます。なけれ
ば、コピーしたファイル名に @samp{*} を付加して表示します。ファイルをコ
ピーした際の Content-Disposition: の値は、コピーしたファイル名が指定さ
れています。ただし、Message/* と Multipart/* には Content-Disposition: 
は設定されません。Message/* の Content-Disposition: を指定するには、
@samp{P} を利用して下さい。
@end ifset
@ifset en
Strictly speaking, the fifth column is the copied file name or the
value of Content-Disposition:, namely the file name to which the
receiver saves the part. If Content-Disposition: exists, Mew displays
it. Otherwise, Mew displays the copied file name with @samp{*}
appended. When you copy a file, the file name is specified as
Content-Disposition:. But this is not true for both Message/* and
Multipart/*. To specify Content-Disposition: for Message/*, use
@samp{P}.
@end ifset

@ifset ja
ファイルはシングルパートに、ディレクトリはマルチパートに対応します。で
すから、ファイル構造を作っていく感覚で複雑なマルチパートを作成できます。
簡単でしょ？
@end ifset
@ifset en
Files are treated as singlepart while directories are treated as being
multipart. Therefore you can create very complex multipart MIME messages
in the same way as you would create a file system. Very easy, isn't it?
@end ifset

@ifset ja
ディレクトリに対するデータ型の初期値は、一般的なマルチパート
(Multipart/Mixed)です。これも @samp{T} によって変更できます。
@end ifset
@ifset en
The default data type for directories is Multipart/Mixed. Of course, you
can change it by pressing @samp{T}.
@end ifset

@ifset ja
お好みのマルチパートが作成できたら、前節で述べたように @samp{C-cC-m} か
@samp{C-cC-c} を利用してメッセージを送信して下さい。
@end ifset
@ifset en
Once you are ready to send a multipart message, type @samp{C-cC-m} or
@samp{C-c C-c} to send it as described the previous subsection.
@end ifset

@ifset ja
パートの実体が外部にある external-body を作成するコマンド @samp{e} につい
て説明しましょう。access-type に ftp か anon-ftp を入力するときは、
ange-ftp のおかげでリモートのファイル名が補完できます。access-type が
local-file の場合は、もちろんファイル名を補完できます。
@end ifset
@ifset en
Next is the explanation of the creation of a Message/External-body by
pressing @samp{e}. If the access-type is "ftp" or "anon-ftp", you can
take advantage of remote filename completion due to the existence of the
native Emacs mode of ange-ftp. Of course file completion is available
for the access-type of "local-file".
@end ifset

@ifset ja
もし、マルチパートの作成途中でやっぱりシングルパートに戻したくなったら、
一番上のマルチパート部分で @samp{d} を押して下さい。
@end ifset
@ifset en
If you want to abort creating multipart and to get back to singlepart,
type @samp{d} in the top level of the multipart message.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node charset-guess, longline, mime-comp, Composing
@ifset ja
@section 文字コードの決定
@end ifset
@ifset en
@section Defining charset
@end ifset
@kindex I (Attach)
@kindex C (Attach)
@kindex C-x RET l

@ifset ja
Mew はシングルパートとマルチパートの両方に対し、配送時の文字コードを決定
する機能を持っています。
@end ifset
@ifset en
Mew has a mechanism for determining the character set of the transfer
form for both singlepart and multipart.
@end ifset

@ifset ja
<シングルパート>
@end ifset
@ifset en
<Singlepart> 
@end ifset

@ifset ja
Draft モードで @samp{C-cC-m} や @samp{C-cC-c} と入力しメッセージを作成す
ると、Mew は本文の内部表現から配送時の文字コードを決定します。バイリンガ
ル Emacs では、7 ビットの文字コードに対し US-ASCII を選び、8 ビットの文字
コードに対し ISO-8859-1 を選択します。国際化 Emacs では、内部表現から 
Mew が定めた規則に従って、配送時の文字コードを決定します。
@end ifset
@ifset en
When you type @samp{C-cC-m} or @samp{C-cC-c} to compose a message in
Draft mode, Mew decides the character set of the transfer based on the
internal representation of its body. On Bilingual Emacs, US-ASCII is
chosen for 7bit character sets while ISO-8859-1 is selected for 8bit
character sets. On Internationalized Emacs, the character set of the
transfer form is chosen based on rules defined by Mew.
@end ifset

@ifset ja
<マルチパート>
@end ifset
@ifset en
<Multipart> 
@end ifset

@ifset ja
マルチパートの一部として添付するデータは、ファイルですからディスク上に存
在します。そこで、メッセージの作成の際に、配送時の文字コードを決定するた
めには、まず Emacs のバッファに取り込み、内部表現に直す必要があります。
内部表現に直した後は、シングルパートと同様の方法で、配送時の文字コードを
決定します。
@end ifset
@ifset en
Since the data to be attached as a part of multipart is a file, it is
stored on disk. Therefore, in order to determine its character set for
the transfer form, it is necessary to load the file into an Emacs buffer
converting it into internal representation. After that, Mew determines
the character set of the transfer form for the file by the same method
as singlepart.
@end ifset

@ifset ja
バイリンガル Emacs では、Mew はファイルをそのままの形式で読み込みます。
ですから、7 ビットのファイルには US-ASCII が、8 ビットのファイルには 
ISO-8859-1 が選ばれます。
@end ifset
@ifset en
On Bilingual Emacs, Mew reads a file as is. So if the file is 7bit,
US-ASCII is chosen. Otherwise ISO-8859-1 is selected.
@end ifset

@ifset ja
国際化 Emacs では、Mew は環境(つまり auto conversion)に従って、文字コー
ドを推測しながらファイルを読み込みます。国際化 Emacs でこの環境を決定す
るコマンドは、@samp{C-x RET l} です。
@end ifset
@ifset en
On Internationalized Emacs, Mew reads a file according to the local
convention (i.e. auto conversion). The command to set a local convention
is @samp{C-x RET l}.
@end ifset

@ifset ja
たとえば、日本語の環境では、国際化 Emacs は ISO-2022-JP、EUC-JP、そして、
Shift_JIS を見事に推測し、日本語用の内部表現に変換してバッファに格納しま
す。Mew はこの内部表現から、配送時の文字コードとして ISO-2022-JP を選択
します。つまり、ファイルの文字コードが EUC-JP や Shift-JIS であっても、
配送用の ISO-2022-JP に自動的に変換されます。そこでユーザは、添付するファ
イルの文字コードを気にすることなしに、ファイルを添付可能です。
@end ifset
@ifset en
For example, in Japan, ISO-2022-JP, EUC-JP, and Shift_JIS is readily
guessed and stored in buffer as internal representations for
Japanese. Mew chooses ISO-2022-JP as the character set of the transfer
form from the internal representation. That is, even if the character
set of the file is EUC-JP or Shift_JIS, it is automatically converted
into ISO-2022-JP, which is the transfer form for Japanese. This means
that you can attach a file without needing to pay attention to its
character set.
@end ifset

@ifset ja
もし、ディスク上のファイルの coding-system を明示的に指定したいなら
@samp{I} を使って下さい。これを入力文字コードと呼ぶことにします。また、
配送時の coding-system を明示的に指示したいなら、@samp{C} を利用して下
さい。
@end ifset
@ifset en
If you want to specify the coding-system of a file to be attached, type
@samp{I}. Let's call the character set "input character set". Also, if
you want to specify the coding-system of the transfer form, use
@samp{C}.
@end ifset

@ifset ja
文字コードの情報は、添付領域において、丸括弧の内側に表示されます。もし、
配送時の文字コードが明示的に指定されていれば、それが表示されます。そうで
なくて、入力文字コードが明示的に指定されていれば、それが "*" と共に表示
されます。そうでなければ、"guess" と表示されます。
@end ifset
@ifset en
Information regarding the character set is displayed in parentheses. If
the character set of the transfer form is specified explicitly, it is
displayed. Otherwise, if the input character set is specified, it is
displayed with "*". Otherwise, "guess" is displayed.
@end ifset

@ifset ja
以下の例の見て下さい。パート 1 は、本文ですからあらかじめバッファ内にあり
ます。"guess" と表示されていますから、配送時の文字コードを Mew が定めた
規則に従って決定します。
@end ifset
@ifset en
Let's look at the following example. Since part 1 is a body, it is
stored in an Emacs buffer. Because "guess" is displayed, it is Mew that
determines the character set of the transfer form according to the rules
that Mew defines.
@end ifset

@ifset ja
パート 2 は、入力文字コードとして iso-8859-1 が指定されていますので、ファ
イルの文字コードを iso-8859-1 であるとして読み込み、内部表現に変換します。
配送時の文字コードは Mew が定めた規則に従って決定します。
@end ifset
@ifset en
Since iso-8859-1 is specified as the input character set, Mew loads the
file considering that its character set is iso-8859-1, and then converts
it into internal representation. The character set of the transfer form
is decided according to rules defined by Mew.
@end ifset

@ifset ja
パート 3 の入力文字コードは、この例だけからだと明示的に指定されているか
分かりません。(しかし、ユーザ自身はは実際に指定したか分かっているはずで
す。) とにかく、ファイルは内部表現に直され、配送時の文字コードに指定され
ている EUC-JP に変換されます。
@end ifset
@ifset en
The input character set in part 3 cannot be identified just from this
example. (But a user certainly knows what it is since he actually
specified it.) In any case, a file will be loaded and be converted into
internal representation, then be converted into EUC-JP which is
specified as the character set of the transfer form.
@end ifset

@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
     2  Text/Plain(*iso-8859-1)                                 text1
B    3  Text/Plain(euc-jp)                                      text2
     4                                                          .    
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example

@ifset ja
バイリンガル Emacs では @samp{C} と @samp{I} は利用できません。
@end ifset
@ifset en
Note that both @samp{C} and @samp{I} are not available on Bilingual
Emacs.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node longline, reply, charset-guess, Composing
@ifset ja
@section 長い行の取り扱い
@end ifset
@ifset en
@section Handling long lines
@end ifset
@vindex mew-use-format-flowed
@vindex mew-flowed-fold-threshold
@vindex mew-flowed-fold-length
@vindex mew-flowed-auto-wrap
@kindex C-cC-f (Draft)
@kindex C-cC-pC-f (Draft)
@kindex _ (Summary)

@ifset ja
長い間、メッセージに書く文章は、自分自身で各行を(英文字で)70文字程度に
折り返すべきだとされてきました。RFC 3676 で Text/Plain が拡張され、
format パラメータに flowed という値が定義されました。
@end ifset
@ifset en
For a long period, when you are writing a message, you should fold
each line around 70 characters by yourself. RFC 3676 extended
Text/Plain and defined "flowed" as a value of the "format" parameter.
@end ifset

@ifset ja
このおかげで、送り側で長い行を目印を付けて折り返し、受け取り側で長い行
に戻せるようになりました。ユーザの目から見れば、メッセージに長い行を気
軽に書いてもよくなったということです。
@end ifset
@ifset en
Thanks to this, long lines can be automatically folded on a sender
side while they can be unfolded on a receiver side. From the point of
user view, you can write long lines casually.
@end ifset

@ifset ja
Mew で、長い行を flowed で折り返すには 2 つの方法があります。
@end ifset
@ifset en
There are two ways to apply the flowed folding.
@end ifset

@ifset ja
1) 明示的に折り返すには、@samp{C-cC-f}を実行します。
@end ifset
@ifset en
1) To apply the flowed folding explicitly, type @samp{C-cC-f}.
@end ifset

@ifset ja
このコマンドは、草稿に長い行があるかを調べます。
@samp{mew-flowed-fold-threshold} を越える行が見つかったら、flowed で
折り返しを実行します。この変数の値は 78 です。
@end ifset
@ifset en
Then, Mew sees if long lines exist in a draft. If long lines whose
length is over @samp{mew-flowed-fold-threshold} are found, Mew applies
the @w{"}flowed" folding. This variable defaults to 78.
@end ifset

@ifset ja
折り返した行が、何文字以内になるかを制御する変数が
@samp{mew-flowed-fold-length}です。初期値は 70 です。
@end ifset
@ifset en
@samp{mew-flowed-fold-length} controls the max length of folded
lines. Its initial value is 70.
@end ifset

@ifset ja
折り返す方法は、文字コードによって変わります。分かち書きをする文字コー
ドでは、既存の空白文字の後に改行文字を入れて折り返します(delsp=no)。分
かち書きをしない文字コードでは、適切な場所に空白文字と改行文字の両方を
挿入して折り返します(delsp=yes)。
@end ifset
@ifset en
Folding method is decided according to character set. If the language
is separated by SPC, the new line characters are inserted after
existing SPCs(delsp=no). Otherwise, pairs of SPC and the new line character 
are inserted in appropriate positions(delsp=yes).
@end ifset

@ifset ja
もう一度 @samp{C-cC-f} を実行すると、折り返された行が元に戻ります。
@end ifset
@ifset en
If you type @samp{C-cC-f} again, the folded lines are unfolded.
@end ifset

@ifset ja
2) @samp{mew-use-format-flowed} が @samp{t} の場合は、@samp{C-cC-c}や
@samp{C-cC-m}でメッセージを作成するときに、この機能が働きます。この変数
の初期値は @samp{nil} です。
@end ifset
@ifset en
2) If @samp{mew-use-format-flowed} is @samp{t}, this functionality is
took into account automatically at composing with @samp{C-cC-c} or
@samp{C-cC-m}. Its default value is @samp{nil}.
@end ifset

@ifset ja
3) @samp{C-cC-pC-f} で、@samp{mew-use-format-flowed} の値を反転できます。
@end ifset
@ifset en
3) You can toggle the value of @samp{mew-use-format-flowed} by
@samp{C-cC-pC-f}.
@end ifset


@ifset ja
なお、メッセージを表示する際は、@samp{mew-use-format-flowed} の値に関係
なく flowed で折り返された行は、元に戻されます。長い行が見にくい場合は、
Summary モードで @samp{_} を利用しましょう。
@end ifset
@ifset en
Note that folded lines with the "flowed" folding are always unfolded
on viewing regardless of the value of @samp{mew-use-format-flowed}.
If you feel it is hard to see long lines, use @samp{_} in Summary
mode.
@end ifset

@ifset ja
@samp{mew-flowed-auto-wrap} が @samp{t} の場合、メッセージを表示すると、
元に戻された行に一回 @samp{_} が実行され、折り返された状態で表示されま
す。@samp{mew-flowed-auto-wrap} のデフォルトの値は @samp{t} です。
@end ifset
@ifset en
If @samp{mew-flowed-auto-wrap} is @samp{t}, at visualizing a message,
@samp{_} is automatically executed so as unfolded lines are folded.
The default value of @samp{mew-flowed-auto-wrap} is @samp{t}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node reply, forward, longline, Composing
@ifset ja
@section メッセージへの返答と宛先の決定
@end ifset
@ifset en
@section Replying to a message and deciding recipients
@end ifset
@vindex mew-mail-address-list
@vindex mew-reply-all-alist
@vindex mew-reply-sender-alist
@vindex mew-reply-fromme-alist
@kindex a (Summary)
@kindex A (Summary)
@kindex C-ua (Summary)
@kindex C-uA (Summary)

@ifset ja
新規にメッセージを書く場合は、To:、Cc:、および Newsgroups: を自分で書く
ことになります。一方 Summary モードで @samp{a} や @samp{A} を使って、あ
るメッセージに返答しようとすると、To:、Cc:、Newsgroups: は自動的に用意さ
れます。
@end ifset
@ifset en
As distinguished from the case of a new message, where the writer
specifies the addresses of the To:, Cc: or Newsgroups: fields, in a
reply message addresses are automatically generated.
@end ifset

@ifset ja
Summary モードで @samp{a} や @samp{A} を使うと、新しい草稿が Draft mode
に用意されます。To:、Cc:、Newsgroups: の値は、以下の三つの alist に従っ
て用意されます。
@end ifset
@ifset en
When @samp{a} and @samp{A} is used in Summary mode, a new draft is
prepared in Draft mode. Values of To:, Cc:, and Newsgroups: are prepared
according to three alists.
@end ifset

@enumerate
@ifset ja
@item
もし @samp{C-u} 付きで呼び出された場合、送信者/投稿者のみに返答する。こ
の場合、@samp{mew-reply-sender-alist} が利用される。
@item
もし対象が自分自身で送ったメッセージなら、そのヘッダを加工せずに返答した
いのであろう。この場合、@samp{mew-reply-fromme-alist} が利用される。
@item
そうでなければ、すべての人に返答する。この場合、
@samp{mew-reply-all-alist} が利用される。
@end ifset
@ifset en
@item
If called with @samp{C-u}, replying to the sender/poster only. In this
case, @samp{mew-reply-sender-alist} is used.
@item
If this message is sent by ME, you probably intend to reply with the
original header. In this case, @samp{mew-reply-fromme-alist} is used.
@item
Otherwise, replying to all people listed. In this case,
@samp{mew-reply-all-alist} is used.
@end ifset
@end enumerate

@ifset ja
@samp{mew-reply-sender-alist} の初期値は以下の通りです。
@end ifset
@ifset en
The default value of @samp{mew-reply-sender-alist} is as follows:
@end ifset

@lisp
'(("Reply-To:"
   ("To:" "Reply-To:" "From:"))
  (t
   ("To:" "From:")))
@end lisp

@ifset ja
これは、次のように解釈します。
@end ifset
@ifset en
This is read as follows:
@end ifset

@enumerate
@ifset ja
@item
Reply-To: が存在すれば、Reply-To: と From: の値を新しい To: へコピーする。
@item
そうでなければ、From: の値を新しい To: へコピーする。
@end ifset
@ifset en
@item
If Reply-To: exists, copy the values of Reply-To: and From: to new To:.
@item
Otherwise, copy the value of From: to To:.
@end ifset
@end enumerate

@ifset ja
もし、Reply-To: で指定されたアドレスのみに返答したい場合は、
@samp{mew-reply-sender-alist} を以下のように設定するとよいでしょう。
@end ifset
@ifset en
If you would like to reply only to the address on Reply-To: (if any),
set @samp{mew-reply-sender-alist} like this:
@end ifset

@lisp
(setq mew-reply-sender-alist
      '(("Reply-To:"
         ("To:" "Reply-To:"))
        (t
         ("To:" "From:"))))
@end lisp

@ifset ja
@samp{mew-reply-fromme-alist} の初期値は以下の通りです。
@end ifset
@ifset en
The default value of @samp{mew-reply-fromme-alist} is as follows:
@end ifset

@lisp
'((t
   ("To:" "To:")
   ("Cc:" "Cc:")
   ("Newsgroups:" "Newsgroups:"))))
@end lisp

@ifset ja
これは、次のように解釈します。
@end ifset
@ifset en
This is read as follows:
@end ifset

@enumerate
@item
@ifset ja
To: の値を新しい To: へ、
Cc: の値を新しい Cc: へ、
Newsgroups: の値を新しい Newsgroups: へコピーする。
@end ifset
@ifset en
Copying the value of To: to new To: and 
copying the value of Cc: to new Cc: and
copying the value of Newsgroups: to new Newsgroups:.
@end ifset
@end enumerate

@ifset ja
@samp{mew-reply-all-alist} の初期値は以下の通りです。
@end ifset
@ifset en
The default value of @samp{mew-reply-all-alist} is as follows:
@end ifset

@lisp
'((("Followup-To:" "poster")
   ("To:" "From:"))
  ("Followup-To:"
   ("Newsgroups:" "Followup-To:" "Newsgroups:"))
  ("Newsgroups:"
   ("Newsgroups:" "Newsgroups:"))
  ("Reply-To:"
   ("To:" "Reply-To:" "From:")
   ("Cc:" "To:" "Cc:" "Apparently-To:"))
  (t
   ("To:" "From:")
   ("Cc:" "To:" "Cc:" "Apparently-To:")))
@end lisp

@ifset ja
これは、次のように解釈します。
@end ifset
@ifset en
This is read as follows:
@end ifset

@enumerate
@ifset ja
@item
Follwup-To: の値が "poster" であれば、From: の値を新しい To: へコピーす
る。
@item
Follwup-To: が存在すれば、Follwup-To: と Newsgroups: の値を新しい
Newsgroups: へコピーする。
@item
Newsgroups: が存在すれば、Newsgroups: の値を新しい Newsgroups: へコピー
する。
@item
Reply-To: が存在すれば、Reply-To: と From: の値を新しい To: へコピーする。
また、To:、Cc:、Apparently-To: の値を新しい Cc: へコピーする。
@item
そうでなければ、From: の値を新しい To: へコピーする。また、To:、Cc:、
Apparently-To: の値を新しい Cc: へコピーする。
@end ifset
@ifset en
@item
If the value of Followup-To: is "poster", copying the value of From: to
new To:.
@item
If Followup-To: exists, copying the values of Followup-To: and
Newsgroups: to new Newsgroups:.
@item
If Newsgroups: exists, copying the value of Newsgroups: to Newsgroups:.
@item
If Reply-To: exists, copying the values of Reply-To: and From: to new
To:. And copying the values of To:, Cc:, and Apparently-To: to new Cc:.
@item
Otherwise, copying the value of From: to new To:. And copying the values
of To:, Cc:, and Apparently-To: to new Cc:.
@end ifset
@end enumerate

@ifset ja
@samp{mew-reply-all-alist} を以下のように設定したいと思う人もいるかもし
れません。
@end ifset
@ifset en
You may want to set @samp{mew-reply-all-alist} like this:
@end ifset

@lisp
(setq mew-reply-all-alist
      '((("Followup-To:" "poster")
         ("To:" "From:"))
        ("Followup-To:"
         ("Newsgroups:" "Followup-To:"))
        ("Newsgroups:"
         ("Newsgroups:" "Newsgroups:"))
        ("Reply-To:"
         ("To:" "Reply-To:"))
        (t
         ("To:" "From:")
         ("Cc:" "To:" "Cc:" "Apparently-To:"))))
@end lisp

@ifset ja
あるアドレスが複数ある場合は、自動的に 1 つになります。また、匿名の宛先
を表す ":;" で終るアドレスも、自動的に消去されます。
@end ifset
@ifset en
If there are multiple entries for a certain address, they are
unified. Addresses ending with ":;", which indicates anonymous
recipients, are automatically removed.
@end ifset

@ifset ja
自分のアドレスは自動的に消去されます。自分のアドレスは、
@samp{mew-config-alist} などから @samp{mew-mail-address-list} に自動設定
されます。この値が気に入らないなら、以下のように明示的に設定することも可
能です。
@end ifset
@ifset en
Your addresses are automatically removed. Your addresses are
automatically defined to @samp{mew-mail-address-list} according to, for
example, @samp{mew-config-alist}. If you dislike this value, you
can also explicitly set it like this:
@end ifset

@lisp
(setq mew-mail-address-list
       '("^pooh@@[a-z]*.example.org$"
         "^pooh@@example.net$"
         "^winnie@@example.jp$"))
@end lisp

@c %%%%%%%%%%%%%%%%%
@node forward, resend, reply, Composing
@ifset ja
@section メッセージの転送
@end ifset
@ifset en
@section Forwarding messages
@end ifset
@vindex mew-field-delete-for-forwarding
@kindex f (Summary)
@kindex F (Summary)

@ifset ja
メッセージを転送するには、Summary モードで @samp{f} や @samp{F} を利用し
ます。すると、Draft モードに移行し、あらかじめメッセージが添付領域に添付
された草稿が準備されます。
@end ifset
@ifset en
To forward messages, type @samp{f} or @samp{F} in Summary mode. Then
Draft mode appears and the messages are already attached in the
attachments region.
@end ifset

@ifset ja
また Draft モードで添付領域を用意し、メッセージをコピー(@samp{c})したり
メッセージにリンク(@samp{l})を張ったりしても、メッセージを転送できます。
ファイル名が数字([0-9]+)の場合は、自動的にメッセージだと判断されます。ま
た、添付領域で @samp{y} を使うと、Message モードに表示しているメッセージ
にリンクを張るので便利です。
@end ifset
@ifset en
Also, you can prepare the attachments region by yourself, then copy
(@samp{c}) the messages or make links (@samp{l}) to the messages. If
the file names of the messages are numeric ([0-9]+), they are
automatically considered as messages. @samp{y} is very convenient
because it make a link to the message displayed in Message mode.
@end ifset

@ifset ja
通常は添付したメッセージの全体が転送されます。もし、ヘッダの一部を削りた
い場合は、@samp{mew-field-delete-for-forwarding} を定義して下さい。以下
に @w{"}Received:" と "Return-Path:" を転送時に削るための設定例を示します。
@end ifset
@ifset en
By default, the entire message is forwarded. If you want to remove some
parts of its header, define @samp{mew-field-delete-for-forwarding}. The
following is an example to remove "Received:" and "Return-Path:" when
forwarded.
@end ifset

@lisp
(setq mew-field-delete-for-forwarding '("Received:" "Return-Path:"))
@end lisp

@c %%%%%%%%%%%%%%%%%
@node resend, shortcut, forward, Composing
@ifset ja
@section メッセージの再送
@end ifset
@ifset en
@section Re-sending messages
@end ifset
@kindex r (Summary)
@kindex W (Summary)
@kindex C-cC-c (Header)
@kindex C-cC-m (Header)

@ifset ja
メッセージのヘッダの一部のみを変更して、送信したい場合があります。
@end ifset
@ifset en
You may occasionally wish to send messages modifying the header of a
message.
@end ifset

@ifset ja
たとえば、同じ内容のメッセージを、複数の宛先に独立して送りたい場合です。
pooh 宛のメッセージを作成して、+queue に入れ、すぐさまそのメッセージをコ
ピーし、宛先だけを piglet に変更したい場合を想像して下さい。これを、メッ
セージの再利用による送信と呼びましょう。
@end ifset
@ifset en
For instance, you may want to send a message with the same body to
multiple receivers independently. Please imagine the case where you put
a created message destined to Pooh in +queue and then you wish to send
an another message to Piglet by copying it and modifying its header.
Let's call this recycle sending.
@end ifset

@ifset ja
また、メッセージに Resent-To: というフィールドを付けて再送したいこともあ
ります。これは、転送の一種です。こちらはヘッダだけ書き直すので、ヘッダ変
換といいます。前節で説明した転送は、メッセージを新規のメッセージに包み込
んで転送するため、カプセル化と呼ばれています。
@end ifset
@ifset en
Also, you occasionally wish to send a message adding the Resent-To:
field to a target message. This is a kind of forwarding. This is called
header conversion because a message header is modified. The forwarding
described the previous subsection is called encapsulation because a
message is embedded into another new message.
@end ifset

@ifset ja
ヘッダの一部だけを編集し、メッセージを送信したり、キューに入れたりするモー
ドとして、Header モードが用意されています。本文が編集できない Draft モー
ドだと思えばいいでしょう。
@end ifset
@ifset en
Header mode exists for this reason, modifying a part of the header,
sending/queuing the created message. You can think this is a kind of
Draft mode which prohibits modifications of its body.
@end ifset

@ifset ja
Header モードに入るために、Summary モードには以下のコマンドが用意されて
います。
@end ifset
@ifset en
The following commands are provided in Summary mode to enter Header
mode.
@end ifset

@table @samp
@ifset ja
@item W
メッセージの再利用による送信。対象となるメッセージの To:、Cc:、From: な
どを書き換えるために、Header モードに移行する。典型的には、+queue または 
+postq に入っているメッセージに対して利用する。
@item r
メッセージの再送。対象となるメッセージのヘッダに、Resent-To:、Resent-Cc:、
Resent-From: などを追加するために、Header モードに移行する。再送によるメッ
セージの転送は、受信者を混乱させることがあるので、よく考えてから利用する
こと。
@end ifset
@ifset en
@item W
Recycle sending. Enter Header mode in order to modify To:, Cc:, From: of
a target message. Typical usage is for messages in +queue or +postq.
@item r
Re-sending. Enter Header mode in order to add Resent-To:, Resent-Cc:,
Resent-From: of a target message. Re-sending may confuse receivers, so
you should think carefully before using it.
@end ifset
@end table

@ifset ja
Header モードでは、Draft モードのように、補完や循環的な補完が利用できま
す。ヘッダの入力が終わったら、以下のどちらかのコマンドを用いて、メッセー
ジを送信して下さい。本文が表示されていないので不安かもしれませんが、ちゃ
んと対象となっているメッセージの本文とヘッダの一部が再利用されます。
@end ifset
@ifset en
In Header mode, you can make use of completion and circular completion
like in Draft mode. When you are finished inputting the header, send the
message using one of the following commands. You may be concerned
because the body of the message is not displayed in your new
message. But you need not worry, since the body and a part of the target
message is certainly used.
@end ifset

@table @samp
@ifset ja
@item C-cC-m
メッセージを作成し +queue または +postq に入れ、送信待ち状態にする。
@item C-cC-c
メッセージを作成し送信する。"Really send this message? (y or n) " と訊か
れる。@samp{y} を押せば送信される。
@end ifset
@ifset en
@item C-cC-m
Compose a message, put it into +queue or +postq, and let it be waiting
to be sent.
@item C-cC-c
Compose a message and send it. You are asked, "Really send this message?
(y or n) ". Type @samp{y} to send it.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node shortcut, mark-b-comp, resend, Composing
@ifset ja
@section 電子署名/暗号メールを作成する
@end ifset
@ifset en
@section Creating signature or cipher message
@end ifset
@vindex mew-draft-privacy-method
@vindex mew-protect-privacy-always
@vindex mew-protect-privacy-always-type
@vindex mew-protect-privacy-encrypted
@vindex mew-protect-privacy-encrypted-type
@vindex mew-use-old-pgp
@vindex mew-protect-privacy-with-old-pgp-signature
@kindex C-cC-s (Draft)
@kindex C-cC-e (Draft)
@kindex C-cC-b (Draft)
@kindex C-cC-r (Draft)
@kindex C-cC-pC-m (Draft)
@kindex C-cC-pC-a (Draft)
@kindex C-cC-pC-e (Draft)

@ifset ja
ここでは、テキストである本文を PGP や S/MIME で署名したり暗号化したりす
る方法について説明します。紹介するコマンドは以下の通りです。
@end ifset
@ifset en
This section explains the method for signing or encrypting "text only"
messages with PGP or S/MIME. The following commands are explained.
@end ifset

@table @samp
@ifset ja
@item C-cC-s
草稿全体を署名する。パスフレーズを入力すること。
@item C-cC-e
草稿全体を暗号化する。
@item C-cC-b
草稿全体を署名後暗号化する。パスフレーズを入力すること。
@item C-cC-r
草稿全体を暗号化後署名する。パスフレーズを入力すること。
@end ifset
@ifset en
@item C-cC-s
Sign the entire draft. Input your pass-phrase.
@item C-cC-e
Encrypt the entire draft.
@item C-cC-b
Sign, and then encrypt the entire draft. Input your pass-phrase.
@item C-cC-r
Encrypt, and then sign the entire draft. Input your pass-phrase.
@end ifset
@end table

@ifset ja
メッセージを暗号化するには受信者の公開鍵を使用します。逆に署名するには
自分の秘密鍵を使います。よって、署名するためにはパスフレーズを入力する
必要があります。ただし、パスフレーズの保存機能やマスターパスワードを使っ
ており、パスフレーズが保存されている場合は、パスフレーズを入力する必要
はありません(@xref{password})。
@end ifset
@ifset en
To encrypt a message, receivers' public keys are used. On the other
hand, your secret key is used to sign a message, and so you need to
input your pass-phrase when applying the signature. Note that if you
are using the pass-phrase cache or the master password mechanism and
there are pass-phrases presently cached, you do not have to type your
pass-phrase (@pxref{password}).
@end ifset

@ifset ja
これらのコマンドは、通常 PGP/MIME を作成します。S/MIME を作成したい場合
は、以下のように設定して下さい。
@end ifset
@ifset en
These commands create a PGP/MIME message by default. If you want to 
use S/MIME, configure as follows:
@end ifset

@lisp
(setq mew-draft-privacy-method 'smime)
@end lisp

@ifset ja
この変数の値は、Draft モードの @samp{C-cC-pC-m} でも変更できます。
@end ifset
@ifset en
You can change this variable with @samp{C-cC-pC-m} in Draft mode.
@end ifset

@ifset ja
上記4つのコマンドは、次節で説明するマークを使った作成方法の省略方法に当
たります。
@end ifset
@ifset en
We can consider that these four commands above are shortcut methods of
mark based composing described in the next section.
@end ifset

@ifset ja
メッセージに署名を施すには、@samp{C-cC-s} と入力します。署名の際には、自
分の秘密鍵を復号化する必要がありますので、パスフレーズがキャッシュされて
いなければ、入力を促されます。署名が施されたメッセージは、+queue または
+postq に格納されます。
@end ifset
@ifset en
To sign a message, type @samp{C-cC-s}. When signing, because your secret
key is needed to be decrypted, you may be asked for your pass-phrase if
it is not cached. Created messages are stored in +queue or +postq.
@end ifset

@ifset ja
自分の秘密鍵は、From: にあるアドレスを元に特定されます。From: がない場
合は、デフォルトの秘密鍵が選択されます。From: にあるアドレスとは違うア
ドレスで秘密鍵を指定したい場合は、@samp{C-uC-cC-s} と入力して下さい。
@end ifset
@ifset en
Your secret key is identified in From: address. If From: does not
exist, your default secret key is selected. When you want to specify a
secret key that is not identified the address of From:, type
@samp{C-uC-cC-s}.

@end ifset

@ifset ja
メッセージを暗号化するには、@samp{C-cC-e} とタイプして下さい。To: や Cc: 
からアドレスを切り出して、その受信者が復号化できるよう暗号化します。暗号
化するだけのなので、パスフレーズを訊かれることはありません。作成されたメッ
セージは、+queue に格納されます。
@end ifset
@ifset en
To encrypt a message, type @samp{C-cC-e}. A message is encrypted with
public keys identified with the addresses on To: and Cc:. Since this is
encryption only, you are not asked for your pass-phrase. Created cipher
messages are stored in +queue.
@end ifset

@ifset ja
このメッセージは、受信者の公開鍵に加えて、自分の公開鍵でも暗号化されてい
ます。ですから、作成したメッセージを復号化できます。たとえば、@samp{g} 
で +queue に移動し、念のため復号化して確認することが可能です。
@end ifset
@ifset en
This message is encrypted with your public key in addition to those of
the receivers. Therefore you can decrypt created messages. For example,
you can go to +queue by @samp{g} and preview a created message to
reconfirm this.
@end ifset

@ifset ja
署名後暗号化するには、@samp{C-cC-b} と入力します。暗号化後署名するには、
@samp{C-cC-r} とタイプします。どちらの場合も作成されたメッセージは、
+queue に蓄えられます。
@end ifset
@ifset en
To sign a draft and then encrypt it, type @samp{C-cC-b}. To encrypt a
draft and then sign it, type @samp{C-cC-r}. In both cases, created
messages are stored in +queue.
@end ifset

@ifset ja
署名を施したり、暗号化したりしてメッセージを送ろうと思っていても、うっ
かり忘れることがあります。これを防ぐために、メッセージを作成するコマン
ド @samp{C-cC-m} や @samp{C-cC-c} を実行すると、自動的に署名や暗号化を
施す機能があります。
@end ifset
@ifset en
It is very likely that you will forget to sign and/or encrypt a draft
even if you intended to do so. To prevent this, Mew provides an
mechanism to automatically sign or encrypt a message when
@samp{C-cC-m} or @samp{C-cC-c} is typed.
@end ifset

@ifset ja
作成するすべてのメッセージのプライバシを保護したいなら、
@samp{mew-protect-privacy-always} を @samp{t} にして、
@samp{mew-protect-privacy-always-type} に利用したいサービスを設定します。
@end ifset
@ifset en
If you want to protect privacy of all drafts, set
@samp{mew-protect-privacy-always} to @samp{t} and set
@samp{mew-protect-privacy-always-type} to one of services.
@end ifset

@ifset ja
暗号化されたメッセージに対する返答メッセージのプライバシを保護したいなら、
@samp{mew-protect-privacy-encrypted} を @samp{t} にして、
@samp{mew-protect-privacy-encrypted-type} に利用したいサービスを設定しま
す。この設定は、暗号化されたメッセージへの返答する場合、上記のすべてのメー
ルに対する設定よりも優先されます。
@end ifset
@ifset en
If you want to protect the privacy of drafts when replying encrypted
messages, set @samp{mew-protect-privacy-encrypted} to @samp{t} and set
@samp{mew-protect-privacy-encrypted-type} to one of the services.
This configuration is preferred to the configuration for all drafts
described above in the case of replying encrypted messages.
@end ifset

@ifset ja
以下に利用できるサービスを示します。かっこ内はそれぞれのサービスを表すシ
ンボルです。@samp{C-cC-m} や @samp{C-cC-c} と入力する際に利用されるサー
ビスは、モードラインに表示されます。
@end ifset
@ifset en
The following services are available. The strings enclosed in braces are
the symbols for each service. The service applied when typing
@samp{C-cC-m} or @samp{C-cC-c} is displayed in the mode line.
@end ifset

@table @asis
@ifset ja
@item pgp-signature (PS)
PGP で署名
@item pgp-encryption (PE)
PGP で暗号化
@item pgp-signature-encryption (PSPE)
PGP で署名後暗号化
@item pgp-encryption-signature (PEPS)
PGP で暗号化後署名
@item smime-signature (SS)
S/MIME で署名
@item smime-encryption (SE)
S/MIME で暗号化
@item smime-signature-encryption (SSSE)
S/MIME で署名後暗号化
@item smime-encryption-signature (SESS)
S/MIME で暗号化後署名
@end ifset
@ifset en
@item pgp-signature (PS)
Sign with PGP
@item pgp-encryption (PE)
Encrypt with PGP
@item pgp-signature-encryption (PSPE)
Sign then encrypt with PGP
@item pgp-encryption-signature (PEPS)
Encrypt then sign with PGP
@item pgp-signature (SS)
Sign with S/MIME
@item pgp-encryption (sE)
Encrypt with S/MIME
@item pgp-signature-encryption (SSSE)
Sign then encrypt with S/MIME
@item pgp-encryption-signature (SESS)
Encrypt then sign with S/MIME
@end ifset
@end table

@ifset ja
以下の例は、すべてのメッセージに対し署名する設定です。
@end ifset
@ifset en
The following example works for signing all drafts.
@end ifset

@lisp
(setq mew-protect-privacy-always t)
(setq mew-protect-privacy-always-type 'pgp-signature)
@end lisp

@ifset ja
以下の例は、暗号化されたメッセージへの返答メッセージに対し、PGP で暗号
化する設定です。
@end ifset
@ifset en
The following example is for encrypting drafts with PGP when replying
encrypted messages.
@end ifset

@lisp
(setq mew-protect-privacy-encrypted t)
(setq mew-protect-privacy-encrypted-type 'pgp-encryption)
@end lisp

@ifset ja
Draft モードでは、@samp{C-cC-pC-a} で @samp{mew-protect-privacy-always}、
@samp{C-cC-pC-e} で @samp{mew-protect-privacy-encrypted} の値を反転でき
ます。
@end ifset
@ifset en
In Draft mode, @samp{C-cC-pC-a} toggles
@samp{mew-protect-privacy-always} and @samp{C-cC-pC-e} toggles
@samp{mew-protect-privacy-encrypted}.
@end ifset

@ifset ja
Draft モードにおいて現在書いている草稿に対してのみあらかじめサービスを指定
しておき、送信時にサービスを施すことを忘れないようにできます。現在の草稿
に対し @samp{C-cC-m} や @samp{C-cC-c} で施されるサービスを指定するには、 
@samp{C-cC-pC-d} に続いて上記のサービスの 1 つを入力して下さい。現在のサー
ビスをキャンセルするには、サービス名の代りに単に @samp{RET} を押して下さ
い。
@end ifset
@ifset en
You can specify privacy services for the current draft in Draft mode
beforehand so that you do not forget to apply the privacy services when
sending. To set privacy services to the current draft evaluated when
typing @samp{C-cC-m} or @samp{C-cC-c}, type @samp{C-cC-pC-d}, and then
input one of privacy services listed above. To cancel the current
privacy service, just type @samp{RET} instead of selecting the privacy
service.
@end ifset

@ifset ja
@samp{C-cC-c} や @samp{C-cC-m} でメッセージを作成する際、署名や暗号化に
失敗したら、草稿に戻ります。このとき指定していたサービスはキャンセルされ
ます。続けて @samp{C-cC-c} や @samp{C-cC-m} でメッセージを作成すると、普
通のメッセージが作成されるので気をつけて下さい。問題を取り除いた後、同じ
サービスを望むなら、明示的に @samp{C-cC-pC-d} でサービスを指定するか、
@samp{C-cC-s}、@samp{C-cC-e} などを用いて下さい。
@end ifset
@ifset en
When you compose a message by @samp{C-cC-c} or @samp{C-cC-m}, and if
signing and/or encryption fails, the cursor gets back to the draft. At
this time, the service that you specified is canceled. If you type
@samp{C-cC-c} or @samp{C-cC-m} in this situation, a plain message is
created, so please be careful. After correcting the cause of the
failure, if you want the same service, type @samp{C-cC-pC-d} to specify
your service explicitly or use @samp{C-cC-s}, @samp{C-cC-e}, etc.
@end ifset


@ifset ja
@samp{mew-use-old-pgp} を @samp{t} に設定すれば(初期値は @samp{nil})、
@samp{C-cC-s} や @samp{C-cC-e} は PGP/MIME の代りに、古い PGP の書式に従っ
てメッセージを生成します。添付領域がある場合は、エラーになります。
@end ifset
@ifset en
If @samp{mew-use-old-pgp} is set to @samp{t} (the default value is
@samp{nil}), @samp{C-cC-s} and @samp{C-cC-e}, etc create old fashioned
PGP message instead of PGP/MIME. If the attachment region exists, an
error occurs.
@end ifset

@ifset ja
上記で説明した @samp{mew-protect-privacy-*} は、PGP/MIME のみに有効であ
り、古い PGP には機能しません。@samp{C-cC-m} や @samp{C-cC-c} で常に
古い PGP の署名を施すには、@samp{mew-protect-privacy-with-old-pgp-signature}
を @samp{t} にして下さい。
@end ifset
@ifset en
@samp{mew-protect-privacy-*} described above are effective only to
PGP/MIME, not to old PGP. If you want to create old PGP signature with
@samp{C-cC-m} or @samp{C-cC-c} always, set
@samp{mew-protect-privacy-with-old-pgp-signature} to @samp{t}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node mark-b-comp, pgp-key, shortcut, Composing
@ifset ja
@section マークを使った電子署名/暗号メールの作成
@end ifset
@ifset en
@section Mark based composer
@end ifset
@kindex B (Attach)
@kindex Q (Attach)
@kindex G (Attach)
@kindex S (Attach)
@kindex E (Attach)
@kindex Z (Attach)
@kindex M-s (Attach)
@kindex M-e (Attach)
@kindex U (Attach)

@ifset ja
PGP/MIME、S/MIME、および ZIP をサポートするために、マークを使った作成方
法が提供されています。以前の例を思い出してみましょう。
@end ifset
@ifset en
To support PGP/MIME, S/MIME and ZIP, mark based composing is
provided. Remember the previous example.
@end ifset

@ifset ja
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/     
     1  Text/Plain(guess)                                       CoverPage*
B    2  Image/Gif                    MagicPoint のロゴ          mgp.gif
Q    3  Application/Postscript       資料                       ohp.ps
     4                                                          . 
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset
@ifset en
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/
     1  Text/Plain(guess)                                       CoverPage*
B    2  Image/Gif                    MagicPoint logo            mgp.gif
Q    3  Application/Postscript       Presentation Material      ohp.ps
     4                                                          .
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset

@ifset ja
行頭に @samp{B} や @samp{Q} といったマークがあります。このマークは符号
化を意味しています。Mew では、新しい概念「符号化」を導入しています。符
号化には、Base64、Quoted-Printable、Gzip64 (Gzip + Base64)、署名、暗号
化などがあります。
@end ifset
@ifset en
You can find the @samp{B} mark and the @samp{Q} mark at the beginning of
the line. Mew provides you with a new concept of "encoding". Encoding
includes Base64, Quoted-Printable, Gzip64 (Gzip + Base64), signature,
encryption.
@end ifset

@ifset ja
現在次の 8 つのマークがサポートされています。
@end ifset
@ifset en
At present, 8 marks are prepared.
@end ifset

@table @samp
@ifset ja
@item " "
符号化しない。ただし、8 ビットのテキストは符号化されるかもしれない。
@item B
Base64
@item Q
Quoted-Printable
@item G
Gzip64(gzip 圧縮し Base64 で符号化する。Mew が実験的に採用している。相手
が Mew を使っていない場合は、使用すべきではない。)
@item PS 
PGP で電子署名。
@item PE
PGP で暗号化。
@item SS
S/MIME で電子署名。
@item SE
S/MIME で暗号化。
@end ifset
@ifset en
@item " "
No encoding. But 8bit text would be encoded.
@item B 
Base64 
@item Q
Quoted-Printable
@item G
Gzip64 (compressed with gzip then encoded with Base64. This is
experimental. Do not use this if receivers do not use Mew.)
@item PS 
Sign with PGP
@item PE
Encrypt with PGP
@item SS 
Sign with S/MIME
@item SE
Encrypt with S/MIME
@end ifset
@end table

@ifset ja
添付領域でのマークに関係する新しいキー割当は以下の通りです。
@end ifset
@ifset en
Additional key binding for marks in attachments is as follows:
@end ifset

@table @samp
@ifset ja
@item B
Base64 で符号化するため @samp{B} マークを付ける。
@item Q
Quoted-Printable で符号化するため @samp{Q} マークを付ける。
@item G
Gzip64 で符号化するため @samp{G} マークを付ける。ただし、Text/Plain と 
Application/Postscript でしか実行できない。これ以外の型には圧縮は無意味
である。なぜなら、jpeg などはあらかじめ圧縮されているから。
@item S
PGP で署名するため @samp{PS} マークを付ける。
@item E 
PGP で暗号化するため @samp{PE} マークを付ける。受信者のアドレスを入力す
る。
@item M-s
S/MIME で署名するため @samp{SS} マークを付ける。
@item M-e
S/MIME で暗号化するため @samp{SE} マークを付ける。受信者のアドレスを入
力する。
@item Z
ZIP で直ちに暗号化する。暗号化された後は、@samp{B}マークが付く。
@item U
符号化を元に戻す。元々のマークに戻る。
@end ifset
@ifset en
@item B
Put the @samp{B} mark to encode with Base64.
@item Q
Put the @samp{Q} mark to encode with Quoted-Printable.
@item G
Put the @samp{G} mark to encode with Gzip64. This is applicable only to
Text/Plain and Application/Postscript since compression is not effective
with other objects. For example, JPEG is already compressed.
@item S
Put the @samp{PS} mark to sign with PGP.
@item E 
Put the @samp{PE} mark to encrypt with PGP. Input decrypters' addresses.
@item M-s
Put the @samp{SS} mark to sign with S/MIME.
@item M-e
Put the @samp{SE} mark to encrypt with S/MIME. Input decrypters'
addresses.
@item Z
Encrypt the part with ZIP immediately. After the encryption, the
@samp{B} mark appears.
@item U 
Unmark. The original mark appears.
@end ifset
@end table

@ifset ja
次の例を考えてみましょう。パート 2 は PGP で署名され、"kazu" 用に PGP で
暗号化されます。安心して下さい。説明の部分は上書きされていますが、保存さ
れています。パート 3 は Gzip64 で符号化されます。
@end ifset
@ifset en
Consider the following example: The second part will be signed with PGP
then encrypted with PGP for "kazu". Don't be alarmed. Its description is
overwritten but saved. The third part will be encoded with Gzip64.
@end ifset

@ifset ja
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/
     1  Text/Plain(guess)                                       CoverPage*
PSPE 2  Image/Gif                    kazu@@example.org          mgp.gif
G    3  Application/Postscript       資料                       ohp.ps
     4                                                          .
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset
@ifset en
@example
----------------------------- attachments -----------------------------
      Multipart/Mixed                                         1/
     1  Text/Plain(guess)                                       CoverPage*
PSPE 2  Image/Gif                    kazu@@example.org          mgp.gif
G    3  Application/Postscript       Presentation Material      ohp.ps
     4                                                          .
--------0-1-2-3-4-5-6-7-8-9--------------------------------------------
@end example
@end ifset

@ifset ja
マークを付けた後は、@samp{C-cC-m} や @samp{C-cC-c} を使って、メッセージ
を作成して下さい。
@end ifset
@ifset en
After applying marks, type @samp{C-cC-m} or @samp{C-cC-c} to create
messages.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node pgp-key, anonymous, mark-b-comp, Composing
@ifset ja
@section PGP の鍵の配布
@end ifset
@ifset en
@section PGP key distribution
@end ifset
@kindex p (Attach)

@ifset ja
PGP の公開鍵を配布するには、Draft モードの添付領域で @samp{p} を押して下
さい。だれの公開鍵を配布するか尋ねられます。自分の公開鍵であれば、単に 
@samp{RET} と入力して下さい。他人の公開鍵であれば、補完を利用しながらそ
の人のアドレスを入力して下さい。PGP の公開鍵は、Application/Pgp-Keys と
いうデータ型で配送されます。
@end ifset
@ifset en
To distribute a PGP public key, please use @samp{p} on attachments in
Draft mode. It asks whose public key you want to distribute. Just type
@samp{RET} if it is yours. If you want to distribute someone else's key,
input his e-mail address with completion. The PGP public key will
distributed as Content-Type: Application/Pgp-Keys.
@end ifset

@ifset ja
Summary モード、あるいは、Virtual モードでメッセージを読んでいる際に、あ
るパートのデータ型が Application/Pgp-Keys であれば、Mew は PGP の公開鍵
リングにそれを登録しようとします。Mew は、「信用度」と「有効性」を全く考
慮しないことに注意して下さい。これらの値を設定するのは、あなた自身です。
設定は Mew が表示する説明に従って下さい。もし、「信用度」と「有効性」
の意味が分からなければ、PGP を使って自分のプライバシを保護しようとする前
に、PGP が提供する「信用の輪」とは何かを学ぶべきです。
@end ifset
@ifset en
If Mew finds that the part is Application/Pgp-keys, it tries to add the
PGP public key onto your PGP public keyring. Remember that Mew is not
responsible for TRUST or VALIDITY. It is YOU who set these
values. Please use the commands described by Mew to set these as
necessary. If you do not know the meaning of TRUST and VALIDITY, you
should learn the web of trust system provided by PGP BEFORE using PGP to
protect your privacy.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node anonymous, Marks, pgp-key, Composing
@ifset ja
@section 宛先を匿名にしたメッセージの送信
@end ifset
@ifset en
@section Sending messages with anonymous receivers
@end ifset

@ifset ja
宛先を匿名にして、複数の受信者にメッセージを送信したいことがあります。
@end ifset
@ifset en
You may occasionally wish to send a message to anonymous receivers.
@end ifset

@ifset ja
たとえば、pooh がパーティーへのお誘いを複数の友達に送ることを考えて下さ
い。パーティーへ参加するという piglet からの返事は、pooh のみに送るべき
です。しかし、To: にたくさんの友達を列挙していると、piglet は誤って多く
の人に返答を送りつけてしまうかもしれません。そもそも、pooh は誰を誘った
のか、当日までふせておきたいこともあるでしょう。
@end ifset
@ifset en
For instance, please imagine that Pooh is trying to invite multiple
friends to a party. Piglet should reply only to Pooh. However, Piglet
might make a mistake of replying to other people if the addresses of all
the invitees are listed in Cc:. Moreover, Pooh does not want to disclose
the names of those who he invited until the day of the party.
@end ifset

@ifset ja
このような要望を実現するために、Mew では匿名の宛先として、":;" を利用し
ます。以下の例を見て下さい。
@end ifset
@ifset en
To handle this, Mew makes use of ":;" for anonymous addresses. Please
look at the following example.
@end ifset

@example
To: party:piglet@@example.org,roo@@example.org;
From: Pooh <winnie-the-pooh@@example.net>
@end example

@ifset ja
"party" という説明文字列の後に ":" があります。そして、いくつかアドレス
が "," で区切られながら列挙され、";" で終端されています。このような形式
でアドレスを書くと、Mew は ":" と ";" のアドレスにメッセージを届けますが、
ヘッダからは削り取ります。この例では、piglet と roo は以下のようなメッセー
ジを受け取ります。
@end ifset
@ifset en
Here, there is a colon (":") after the explanatory comment
@w{"}party". This is followed by some addresses that are delimited by
"," and terminated by ";". If you write addresses in this format, Mew
sends the message to the addresses with them removed form the
header. In this example, Piglet and Roo will receive the following
message.
@end ifset

@example
To: party:;
From: Pooh <winnie-the-pooh@@example.net>
@end example

@ifset ja
受信者はこのヘッダから、送信者は pooh であることは分かりますが、自分以外
の誰に送られたのかは、想像するほかありません。また、"party:;" という文字
列は、アドレスではありませんから、ここに返答することも不可能です。
@end ifset
@ifset en
The receiver knows that the sender is Pooh, but will not know who else
received the message. Also, the string "party:;" is not address, so the
receiver cannot reply to it.
@end ifset

@ifset ja
なお、To: や Cc: にたくさんのアドレスを列挙することは、本質的によいこと
ではありません。特定の人にメッセージを何度も送信する機会があるなら、通常
メーリングリストを作成します。
@end ifset
@ifset en
You should understand that enumerating many addresses on To: or Cc: is
basically not a good practice anyway. If you often have the occasion to
send messages a set group of people, you should create a mailing-list.
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Marks
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Marks, unread mark, anonymous, Top
@ifset ja
@chapter 愉快なマークたち
@end ifset
@ifset en
@chapter Funny marks
@end ifset
@kindex x (Summary)

@ifset ja
ここでは、Summary モードでユーザが付けたり消したりできるマークについて
説明します。このマークは以下のように、行頭に付きます。(Mew が付けるマー
クは日付の左に付くことに注意。)
@end ifset
@ifset en
Here is a listing of marks that a user can use for insertion or
deletion in Summary mode. This mark is displayed in the beginning of a
line as follows: (Note that the marks that Mew inserts are displayed
left side of date.)
@end ifset

@example
@ifset ja
D 03/12 Hidenori Ohta  今週末                    |日曜にストーンマジック
oM03/14 ももちゃん     能登の写真                |この前撮った写真を添付
* 03/15 Neat Sumikawa  Re: ワイン                |じゃぁ、水曜日に例の店
@end ifset
@ifset en
D 03/12 Hidenori Ohta  This weekend              |Let's go to StoneMagic
oM03/14 Momo-chan      The pictures of Noto      |Attached are the pictu
* 03/15 Neat Sumikawa  Re: wine                  |OK. I vote for Wednesd
@end ifset
@end example

@ifset ja
現在利用できるマークは以下の 6 つです。
@end ifset
@ifset en
There are six marks at present.
@end ifset

@table @samp
@ifset ja
@item U
未読マーク。
@item D
消去のマーク。
@item X
消去のマーク。
@item o
整頓、つまり、フォルダを移動させるマーク。
@item *
処理の対象とするマーク。
@item $
マークを一時的に待避するためのマーク。
@end ifset
@ifset en
@item U
The unread mark.
@item D
The delete mark.
@item X
The delete mark.
@item o
The refile mark, that is, to move a message to another folder.
@item *
The target mark.
@item $
The mark to save another mark temporarily.
@end ifset
@end table

@ifset ja
マークを付けるだけでは、メッセージがなくなったりすることはありません。
@samp{o}、@samp{D}、@samp{X} といったマークを実際に処理するコマンドは、
@samp{x} です。マークを付けるのは気軽にできますが、@samp{x} を押すとき
は慎重にお願いします。
@end ifset
@ifset en
Just putting a mark on to a message does NOT process anything at all.
It is typing @samp{x} that processes the marks including @samp{o},
@samp{D}, @samp{X}. So, take it easy to put marks but take care to
type @samp{x}.
@end ifset

@ifset ja
以下それぞれについて説明します。また、Mew が表示するマークについてもま
とめます。
@end ifset
@ifset en
The marks above are explained in sequence. The marks which Mew inserts
are summarized here as well.
@end ifset

@menu
@ifset ja
* unread mark::                 未読 @samp{U}
* delete mark::                 消去 @samp{D}、@samp{X}
* refile mark::                 整頓 @samp{o}
* target mark::                 対象 @samp{*}
* escape mark::                 待避 @samp{$}
* unmark::                      マークの消去
* mark change::                 マークの変換
* sync::                        IMAP サーバとのマークの整合性
* off-line::                    IMAP のためのマークのオフライン処理
* mew-mark::                    Mew が表示するマーク
@end ifset
@ifset en
* unread mark::                 Unread @samp{U}
* delete mark::                 Delete @samp{D} and @samp{X}
* refile mark::                 Refile @samp{o}
* target mark::                 Target @samp{*}
* escape mark::                 Escape @samp{$}
* unmark::                      Deleting marks
* mark change::                 Overwriting marks
* sync::                        Mark consistency against an IMAP server
* off-line::                    Processing marks off-line for IMAP
* mew-mark::                    Marks displayed by Mew
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node unread mark, delete mark, Marks, Marks
@ifset ja
@section 未読 @samp{U}
@end ifset
@ifset en
@section Unread @samp{U}
@end ifset
@kindex zSPC
@kindex M-u
@vindex mew-use-unread-mark
@vindex mew-delete-unread-mark-by-mark

@ifset ja
以下のように設定すると、メッセージを一覧表示する際に、未読マーク
@samp{U} がメッセージに付きます。
@end ifset
@ifset en
With the following configuration, messages are marked with the unread
mark @samp{U} when scanning the messages.
@end ifset

@lisp
(setq mew-use-unread-mark t)
@end lisp

@ifset ja
@samp{SPC}、@samp{n}、および @samp{p} などでメッセージを読むと
@samp{U} マークは消えます。
@end ifset
@ifset en
When you read a message with @samp{SPC}, @samp{n}, or @samp{p} and
etc, the @samp{U} mark disappears.
@end ifset

@ifset ja
この三つのコマンドは、通常 @samp{*} マーク、@samp{U} マーク、およびマー
クの付いていないメッセージを読み進みます。@samp{zSPC} を押すと、これら
は @samp{*} マークと @samp{U} マークの付いたメッセージのみを読み進めま
す。これは、未読のメッセージを読み進める場合に便利です。もう一度
@samp{zSPC} を実行すると、対象とするメッセージが元に戻ります。
@end ifset
@ifset en
These three commands read through messages marked with the @samp{*}
mark, the @samp{U} mark, and non-marked messages. If you type
@samp{zSPC}, they read through messages marked with the @samp{*} mark
and the @samp{U} mark only. This is convenient to read through unread
messages. Typing @samp{zSPC} again gets the target messages back.
@end ifset

@ifset ja
前のメッセージにマークを付けて、現在のメッセージに移動して来ると、
@samp{U} マークは消えます。@samp{SPC}、@samp{n}、および @samp{p} で移動し
て来た場合は、このメッセージを読むことを意図しているはずですが、マーク
を付けることで移動した場合はメッセージを読むことを意図していないかもし
れません。その場合、@samp{U} マークが消えると少し不便です。マークを付け
ることで移動した際に、@samp{U} マークを消したくないのであれば、以下のよ
うに設定するとよいでしょう。
@end ifset
@ifset en
When you move onto the current message by putting a mark on the
previous message, the @samp{U} mark is deleted. It's sure that you
want to read the current message if you move onto it by @samp{SPC},
@samp{n}, and @samp{p}. However, you might not intend to read the
current message when you move onto it by putting a mark. If this is
the case, this spec is inconvenient for you. If you want to retain the
unread mark on the current message when you move onto it by putting a
mark on the previous message, configure as follows:
@end ifset

@lisp
(setq mew-delete-unread-mark-by-mark nil)
@end lisp

@ifset ja
以下に @samp{U} マークに関するコマンドをまとめます。
@end ifset
@ifset en
The followings are summary of commands related to the @samp{U} mark.
@end ifset

@table @samp
@ifset ja
@item zSPC
@samp{SPC}、@samp{n}、および @samp{p} が読み進める対象とするメッセージ
を反転させる。反転とは、「@samp{U} マーク、@samp{*} マーク、およびマー
クなし」と「@samp{U} マークおよび @samp{*} マーク」に対し、一方を他方へ
変えること。
@item M-u
@samp{U} マークを付ける。
@end ifset
@ifset en
@item zSPC
Toggle the target of @samp{SPC}, @samp{n}, and @samp{p}. Toggling means
change one to the other out of ``the @samp{U} mark, the @samp{*} mark,
and non-mark'' and ``the @samp{U} mark and the @samp{*} mark''.
@item M-u
Put the @samp{U} mark to the current message.
@end ifset
@end table


@c %%%%%%%%%%%%%%%%%
@node delete mark, refile mark, unread mark, Marks
@ifset ja
@section 消去 @samp{D}、@samp{X}
@end ifset
@ifset en
@section Delete @samp{D} and @samp{X}
@end ifset
@vindex mew-trash-folder
@vindex mew-trash-folder-list
@vindex mew-imap-trash-folder
@vindex mew-imap-trash-folder-list
@kindex d (Summary)
@kindex M-d (Summary)
@kindex x (Summary)
@kindex mxd (Summary)
@kindex mxM-d (Summary)
@kindex md (Summary)
@kindex mM-d (Summary)
@kindex Md (Summary)
@kindex D (Summary)
@kindex C-uD (Summary)

@ifset ja
メッセージを消去するには、まず Summary モードで @samp{d} を押して、
@samp{D} マークを付けます。マークを付けただけでは何も起こらないので、間
違って @samp{d} を押しても大丈夫です。デフォルトでは、@samp{x} を押すと
@samp{D} マークの付いたメッセージがゴミ箱に移動します。
@end ifset
@ifset en
If you want to delete a message, type @samp{d} in Summary mode to put
the @samp{D} mark on it. Don't be worried about losing the message by
mistake. Since putting the @samp{D} mark has no immediate effect, it
does not result in a serious mistake. By default, typing @samp{x}
moves messages marked with @samp{D} to a trash.
@end ifset

@ifset ja
ローカル・フォルダのためのゴミ箱は +trash です。IMAP のためのゴミ箱は、
%trash です。
@end ifset
@ifset en
For local folders, a trash is +trash. For IMAP, it is %trash.
@end ifset

@ifset ja
ゴミ箱の中のメッセージを実際に消去するには、以下の 2 つの方法があります。
@end ifset
@ifset en
To really delete messages in the trashes, there are two methods:
@end ifset

@enumerate
@ifset ja
@item
Summary モードで @samp{D} を実行する。
@item
ゴミ箱で @samp{D} マークを付けて、@samp{x} を押す。
@end ifset
@ifset en
@item
Type @samp{D} in Summary mode.
@item
Put the @samp{D} mark in the trashes then type @samp{x}.
@end ifset
@end enumerate

@ifset ja
もう少し正確に言うと、ローカル・フォルダでは以下のルールが適用されます。
(@samp{mew-trash-folder} の初期値は +trash。
@samp{mew-trash-folder-list} の初期値は @samp{nil}。)
@end ifset
@ifset en
Exactly speaking, the following rule is applied for local folders.
(@samp{mew-trash-folder} is default to +trash.
@samp{mew-trash-folder-list} is default to @samp{nil}.)
@end ifset

@itemize @minus
@ifset ja
@item @samp{mew-trash-folder} が @samp{nil} なら、@samp{D} マークの付いたメッ
セージは消去される。
@item @samp{mew-trash-folder-list} が定義されていたら、それらのフォルダ
で @samp{D} マークを付けたメッセージは消去される。それ以外のフォルダからは
@samp{mew-trash-folder} へ。
@item @samp{mew-trash-folder-list} が @samp{nil} なら、 
@samp{mew-trash-folder} で @samp{D} マークを付けたメッセージは消去される。そ
れ以外のフォルダからは @samp{mew-trash-folder} へ。(これが初期値。)
@end ifset
@ifset en
@item If @samp{mew-trash-folder} is @samp{nil}, messages marked with
@samp{D} are deleted.
@item If @samp{mew-trash-folder-list} is defined, messages marked with
@samp{D} in one of the folders defined in it are deleted. Otherwise,
they are moved to the trash.
@item If @samp{mew-trash-folder-list} is @samp{nl},
messages marked with @samp{D} in @samp{mew-trash-folder} are deleted.
Otherwise, they are moved to the trash. (This is default.)
@end ifset
@end itemize

@ifset ja
IMAP に対しては、@samp{mew-imap-trash-folder} と
@samp{mew-imap-trash-folder-list} に従って、同じ規則が適用されます。
@end ifset
@ifset en
For IMAP, the same rule is applied according to both
@samp{mew-imap-trash-folder} and @samp{mew-imap-trash-folder-list}
@end ifset

@ifset ja
すべての @samp{*} マークを @samp{D} マークに変換できれば、一度にたくさ
んの @samp{D} マークを付けられて便利です。これには、@samp{md} を利用して
下さい。
@end ifset
@ifset en
It is convenient if you can change the @samp{*} mark to the @samp{D}
mark since you can put many the @samp{D} marks at once. To achieve this,
use @samp{md}.
@end ifset

@ifset ja
また、@samp{Md} を使うと、現在のフォルダ内で同じ Message-Id: を持つメッ
セージがある場合、1 つを残して他のメッセージに @samp{D} が付きます。
@end ifset
@ifset en
Also, typing @samp{Md} put the @samp{D} mark to all duplicated
messages excluding one for each.
@end ifset

@ifset ja
@samp{D} マークに似たものに @samp{X} マークがあります。このマークの付け
られたメッセージは、@samp{x} を押した際に必ず消去されます。@samp{X} マー
クは、@samp{M-d} で付けることができます。
@end ifset
@ifset en
There is also another mark, @samp{X}, which is like the mark @samp{D}.
Messages marked with @samp{X} are deleted when @samp{x} is typed. The
@samp{X} mark can be put by @samp{M-d}.
@end ifset

@ifset ja
@samp{mxM-d} で、@samp{X} マークが付いたメッセージだけを処理できます。
すべての @samp{*} マークを @samp{X} マークに変換するコマンドは、
@samp{mM-d} です。
@end ifset
@ifset en
@samp{mxM-d} processes messages marked with @samp{X} only. Typing
@samp{mM-d} converts all @samp{*} marks to @samp{X}.
@end ifset


@ifset ja
以下に、@samp{D} マークと @samp{X} マークに関するコマンドをまとめます。
@end ifset
@ifset en
The following is a summary regarding with the @samp{D} mark and the
@samp{X} mark.
@end ifset

@table @samp
@ifset ja
@item d 
@samp{D} マークを付ける。
@item M-d
@samp{X} マークを付ける。
@item md
@samp{*} マークを @samp{D} マークへ変換する。
@item mM-d
@samp{*} マークを @samp{X} マークへ変換する。
@item x
マークの付いたメッセージを処理する。
@item mxd
@samp{D} マークの付いたメッセージのみを処理する。
@item mxM-d
@samp{X} マークの付いたメッセージのみを消去する。
@item D
ゴミ箱の中のメッセージを全部消去する。
@item C-uD
指定されたフォルダのメッセージを全部消去する。
@end ifset
@ifset en
@item d
Put the @samp{D} mark.
@item M-d
Put the @samp{X} mark.
@item md
Convert all @samp{*} marks to @samp{D}.
@item mM-d
Convert all @samp{*} marks to @samp{X}.
@item x
Process marked messages.
@item mxd
Process messages marked with @samp{D} only.
@item mxM-d
Delete messages marked with @samp{X} only.
@item D
Delete all messages in a trash.
@item C-uD
Delete all messages in a specified folder.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node refile mark, target mark, delete mark, Marks
@ifset ja
@section 整頓 @samp{o}
@end ifset
@ifset en
@section Refile @samp{o}
@end ifset
@kindex o (Summary)

@ifset ja
メッセージを整頓するには @samp{o} を押して、移動先のフォルダを入力し、
@samp{o} マークを付けます。移動先のフォルダは、賢く推測してくれるので、
ほどんどの場合はフォルダ名を入力する代わりに @samp{RET} を押すだけです。
"," で区切って複数のフォルダを入力することもできます。もちろん、
@samp{TAB} で補完できます。詳しくは @xref{Refile} を参照して下さい。
@end ifset
@ifset en
To refile a message, type @samp{o} and input a folder name, then
@samp{o} is put. A folder is guessed neatly, so most time what you
should to is just type @samp{RET}. For more information, refer to
@ref{Refile}.
@end ifset

@ifset ja
@samp{o} マークの付いたメッセージの上で @samp{o} を押すと、移動先を追加
したり変更したりできます。また、実際の移動は @samp{x} と入力されたときに
実行されます。
@end ifset
@ifset en
If you type @samp{o} on a message marked with @samp{o}, the refile
folder is shown. When typing @samp{x}, messages marked with @samp{o} are
actually refiled.
@end ifset

@ifset ja
複数のフォルダを指定し、移動させたときのことを考えましょう。ハードリンク
の機能を持つファイルシステムを使っている場合、そのメッセージは最初のフォ
ルダに移動され、その他のフォルダからはハードリンクが張られます。そうでな
いファイルシステムの場合は、最初のフォルダに移動後、その他のフォルダへ複
製されます。
@end ifset
@ifset en
Consider that you specify multiple folders and refiles actually. If your
file system has hard link, the message is moved to the first folder, and
hard links are created from the other folders. Otherwise, the message is
moved to the first folder, and it is copied to the other folders.
@end ifset

@ifset ja
指定したフォルダが 1 つで、しかもそれが現在のフォルダである場合、整頓し
てもなにも起こりません。指定したフォルダが複数で、現在のフォルダが含まれ
る場合、現在のフォルダ内での番号を保ったまま、その他のフォルダからハード
リンクが張られるか、その他のフォルダへ複製されます。
@end ifset
@ifset en
If the number of specified folders are 1, and it is the current folder,
refiling means do nothing. If the number is more than two and the
current folder is included, refiling means that the message number in
the current folder remains and hard links are created from the other
folders (or it is copied to the other folders).
@end ifset

@ifset ja
@samp{o} に似ていますが、かならず現在のフォルダも候補として提示する
@samp{c} というコマンドも用意されています。
@end ifset
@ifset en
Mew provides @samp{c} which is very similar to @samp{o}. @samp{c} shows
the current folder as a candidate in addition to guessed folders.
@end ifset

@ifset ja
以下に、@samp{o} マークに関するコマンドをまとめます。
@end ifset
@ifset en
A summary about the @samp{o} mark is here.
@end ifset

@table @samp
@ifset ja
@item o
@samp{o} マークを付ける。
@item c
@samp{o} マークを付ける。推測したフォルダに加えて、現在のフォルダも候補
として提示する。
@item x
@samp{o} マークの付いたメッセージを移動させる。
@item mxo
@samp{o} マークの付いたメッセージのみを移動させる。他のマークは処理しない。
@item C-umxo
@samp{o} マークの付いたメッセージの中で、現在のメッセージと同じ移動先を
持つもののみを移動させる。
@end ifset
@ifset en
@item o
Put the @samp{o} mark.
@item c
Put the @samp{o} mark. Showing the current folder as a candidate in
addition to guessed folders.
@item x
Refile messages marked with @samp{o}.
@item mxo
Refile messages marked with @samp{o} only. This command does not process
other marks.
@item C-umxo
Refile messages marked with @samp{o}, whose destination is the same as
that of the current message.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node target mark, escape mark, refile mark, Marks
@ifset ja
@section 対象 @samp{*}
@end ifset
@ifset en
@section Target @samp{*}
@end ifset
@kindex * (Summary)
@kindex N (Summary)
@kindex P (Summary)
@kindex ma (Summary)
@kindex mr (Summary)
@kindex F (Summary)
@kindex J (Summary)
@kindex mI (Summary)
@kindex C-umI (Summary)
@kindex M-b (Summary)
@kindex M-\ (Summary)
@kindex M-t (Summary)

@ifset ja
後から読み返したいメッセージには、@samp{*} で @samp{*} マークを付けて下
さい。また、選択コマンド @samp{?} を使うと、入力した条件にマッチするメッ
セージに @samp{*} マークが付きます(詳しくは、@xref{search} を参照して下さい)。
@samp{N} や @samp{P} で @samp{*} マークの付いたメッセージに移動し表示で
きます。
@end ifset
@ifset en
Please put the @samp{*} mark onto messages that you want to review
later. @samp{?} also put the @samp{*} mark onto matched messages (for
more information, refer to @ref{search}). Use @samp{N} and @samp{P} to
walk around messages marked with @samp{*}.
@end ifset

@ifset ja
以下に、@samp{*} に関連するコマンドを示します。
@end ifset
@ifset en
Here is a summary for @samp{*} commands.
@end ifset

@table @samp
@ifset ja
@item *
@samp{*} マークを付ける。
@item N
下方向の @samp{*} マークの付いたメッセージへ移動し表示。
@item P
上方向の @samp{*} マークの付いたメッセージへ移動し表示。
@item ma
マークの付いていないメッセージすべてに @samp{*} マークを付ける。
@item mr
入力した正規表現にマッチしたメッセージに @samp{*} マークを付ける。
@end ifset
@ifset en
@item *
Put the @samp{*} mark.
@item N
Jump to the message marked with @samp{*} below and display it.
@item P
Jump to the message marked with @samp{*} above and display it.
@item ma
Put the @samp{*} mark to all unmarked messages.
@item mr
Put the @samp{*} mark to all matching messages with specified regular
expression.
@end ifset
@end table

@ifset ja
@samp{*} マークは、複数のメッセージを処理するためにも利用します。
以下に複数のメッセージを処理するコマンドを示します。
@end ifset
@ifset en
The @samp{*} mark is used to handle multiple messages. The following
is a list of commands which handle multiple messages.
@end ifset

@table @samp
@ifset ja
@item F
@samp{*} マークの付いたメッセージを MIME 形式で転送するための草稿を準備。
@item J
大きなメッセージは Message/Partial として複数に分割されている場合がある。
これらのメッセージには、Mew によって @samp{P} マークが付けられている。こ
こで、ユーザがそれらのメッセージに @samp{*} マークを付け、このコマンド
を実行すれば、元のメッセージが復元される。
@item mI 
@samp{*} マークの付いている一部だけが取得されたメッセージ群(@samp{T})を
取得する。
@item C-umI
@samp{mI} を実行する。
@item M-b
@samp{*} マークの付いたメッセージに格納されているメッセージを取り出す。
@item M-\
@samp{*} マークの付いたメッセージを引数として、外部コマンドを起動する。
@item M-t
@samp{*} マークの付いたメッセージを "uudecode" する。
@end ifset
@ifset en
@item F
Prepare a draft to forward multiple messages marked with @samp{*} in MIME
format.
@item J
A large message is occasionally fragmented into multiple messages whose
Content-Type: is Message/Partial. Mew puts the @samp{P} mark to these
messages. Now a user marks these messages with @samp{*} and executing
this commands results in producing the original message.
@item mI 
Retrieve the rest of truncated(@samp{T}) messages marked with
@samp{*}.
@item C-umI
Perform @samp{mI}.
@item M-b
De-capsulate messages embedded in the messages marked with @samp{*}.
@item M-\
Executing an external command specifying messages marked with @samp{*}
as arguments.
@item M-t
Apply "uudecode" on messages marked with @samp{*}.
@end ifset
@end table

@ifset ja
@samp{M-t} では、@samp{*} マークの付いたメッセージがきちんと分割順になっ
ている必要があります。順番がくるっているなら、@samp{S} でソートするとよ
いかもしれません。
@end ifset
@ifset en
For @samp{M-t}, messages marked with @samp{*} are supposed to be in
the right order. If out of order, sorting with @samp{S} would help.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node escape mark, unmark, target mark, Marks
@ifset ja
@section 待避 @samp{$}
@end ifset
@ifset en
@section Escape @samp{$}
@end ifset
@kindex m$
@kindex m*

@ifset ja
たとえば @samp{/} などを使いパターンに合致したメッセージに @samp{*} を
付けることを考えて下さい。@samp{*} マークの付いたメッセージがすでにある
なら、これらのメッセージは @samp{/} の結果と混ざってしまいます。そこで、
現在の @samp{*} マークを一時的に保存したくなります。
@end ifset
@ifset en
Suppose that you want to put the @samp{*} marks to messages matched to
a pattern specified to the @samp{/} command. If there are messages
marked with @samp{*} already, these messages are merged to the results
of @samp{/}. Thus, you would want to escape the current messages
marked with @samp{*}.
@end ifset

@ifset ja
この目的のために、待避マーク @samp{$} が提供されています。典型的な
使い方は、以下のようになります。
@end ifset
@ifset en
For this sake, the escape mark @samp{$} is provided. A typical usage
is as follows:
@end ifset

@enumerate
@ifset ja
@item
@samp{m$} で @samp{*} マークを一旦 @samp{$} マークに待避
@item
@samp{/} などで @samp{*} マークを付け、@samp{*} マークのついたメッセージを処理
@item
@samp{U*} で @samp{*} マークを消去
@item
@samp{m*} で @samp{$} マークを @samp{*} マークへ戻す
@end ifset
@ifset en
@item
Change the @samp{*} marks to the @samp{$} marks with @samp{m$}.
@item
Put the @samp{*} marks to messages, for instance, with @samp{/} and
process the messages marked with @samp{*}.
@item
Cancel the @samp{*} marks with @samp{U*}.
@item
Get the old @samp{*} marks back with @samp{m*}.
@end ifset
@end enumerate

@ifset ja
@samp{$} マークに関するコマンドを以下にまとめます。
@end ifset
@ifset en
Here is summary of the commands related to the @samp{$} mark.
@end ifset

@table @samp
@ifset ja
@item m$
@samp{*} マークを @samp{$} マークへ変換。
@item m*
@samp{$} マークを @samp{*} マークへ変換。
@end ifset
@ifset en
@item m$
Change the @samp{*} marks to the @samp{$} marks.
@item m*
Change the @samp{$} marks to the @samp{*} marks.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node unmark, mark change, escape mark, Marks
@ifset ja
@section マークの消去
@end ifset
@ifset en
@section Deleting marks
@end ifset
@kindex x (Summary)
@kindex u (Summary)
@kindex U (Summary)
@kindex M* (Summary)

@ifset ja
@samp{o} マークや @samp{D} マークが付いたメッセージは、マーク実行コマン
ド @samp{x} を押さない限り処理されません。よって、@samp{x} を押す前に、
マークを取り止めるコマンド @samp{u} でマークを消せば、誤ってメッセージを
消すことはありません。
@end ifset
@ifset en
Refiling and deleting is not processed unless you type @samp{x}. So, if
you press @samp{u} to unmark before you type @samp{x}, messages do not
disappear accidentally.
@end ifset

@ifset ja
以下にマークを消去するコマンドをまとめます。
@end ifset
@ifset en
Here is a summary for unmark commands.
@end ifset

@table @samp
@ifset ja
@item u
現在のメッセージのマークを消す。
@item U
入力したマークが付いているすべてのメッセージのマークを消す。
@end ifset
@ifset en
@item u
Cancel the mark on this message.
@item U
Cancel all marks according to what you input.
@end ifset
@end table

@ifset ja
@samp{$} マークを使って @samp{*} マークを待避し、なんらかの操作をし、元
に戻す方法は、目に見えるので分りやすいです。しかしながら、@samp{$} マー
クが付いているメッセージは、マークが付いているので目的の操作の対象外に
なるかもしれません。
@end ifset
@ifset en
The method with the @samp{$} mark, that is, preserve the @samp{*}
marks and operate something then get them back, is friendly to users
since it is visible. But since messages are marked, they would not be
the targets of the operation.
@end ifset

@ifset ja
このため @samp{U*} で消去した @samp{*} マークを復活させるコマンドがあり
ます。それは、@samp{M*} です。この方法は、復活できるマークは目に見えな
いので分りにくいかもしれません。しかしながら、マークが消えているので、
そのメッセージは確実に目的の操作の対象になります。
@end ifset
@ifset en
To solve this problem, a method to recover @samp{*} marks is provided.
The command is bound to @samp{M*}. This method would not be friendly
to users since the @samp{*} marks to recover are invisible. But
because the marks are canceled, these message are surely the target of
any operations.
@end ifset

@table @samp
@ifset ja
@item M*
一番最後の @samp{U*} で消した @samp{*} マークを復活させる。
@end ifset
@ifset en
@item M*
Recover the @samp{*} marks which are canceled by the last @samp{U*}.
@end ifset
@end table


@c %%%%%%%%%%%%%%%%%
@node mark change, sync, unmark, Marks
@ifset ja
@section マークの変換
@end ifset
@ifset en
@section Overwriting marks
@end ifset
@kindex m$ (Summary)
@kindex m* (Summary)
@kindex ms (Summary)
@kindex mM-u (Summary)
@kindex md (Summary)
@kindex mM-d (Summary)
@kindex mo (Summary)
@kindex mc (Summary)

@ifset ja
マークには強さのレベルがあります。同じレベルのマークは上書きできます。
強いマークは弱いマークを上書きできます。
@end ifset
@ifset en
Marks have levels of strength. You can override a mark by another
same-level mark weak mark. Also stronger marks can override weaker
marks.
@end ifset

@ifset ja
マークを強い順に示します。
@end ifset
@ifset en
The followings shows the marks in the strong order:
@end ifset

@table @asis
@ifset ja
@item @samp{o}、@samp{D}、@samp{X}
新たにマークしたときは、次のメッセージを表示。上書きした場合は、その行に
留まる。
@item @samp{*} と @samp{$}
マークを付けた後は、その行に留まる。
@item @samp{U}
マークを付けた後は、その行に留まる。
@end ifset
@ifset en
@item @samp{o}, @samp{D}, and @samp{X}
After marking a message newly, the next message is shown. After
overriding another mark, the cursor stays on the message.
@item @samp{*} and @samp{$}
After marking a message, the cursor stays on the message.
@item @samp{U}
After marking a message, the cursor stays on the message.
@end ifset
@end table

@ifset ja
強いマークを付けた後にカーソルが動く方向については、@xref{summary-mode} 
を参照して下さい。
@end ifset
@ifset en
refer to @ref{summary-mode} to know which direction the cursor moves
after putting a strong mark.
@end ifset

@ifset ja
マークは以下のように交換できます。
@end ifset
@ifset en
You can exchange marks as follows:
@end ifset

@table @samp
@ifset ja
@item m$ 
@samp{*} -> @samp{$} :: @samp{*} マークを一時的に保存。
@item m*
@samp{$} -> @samp{*} :: @samp{*} マークを元に戻す。
@item ms
@samp{$} <-> @samp{*}
@item mM-u
@samp{*} -> @samp{U} :: 選択コマンド @samp{?} で選んだメッセージを未読
にするときに便利。
@item md
@samp{*} -> @samp{D} :: 選択コマンド @samp{?} で選んだメッセージを消去す
るときに便利。
@item mM-d
@samp{*} -> @samp{X} :: 選択コマンド @samp{?} で選んだメッセージを消去す
るときに便利。
@item mo
@samp{*} -> @samp{o} :: 選択コマンド @samp{?} で選んだメッセージをあるフォ
ルダに移動させる場合に便利。
@item mc
@samp{*} -> @samp{o} :: 選択コマンド @samp{?} で選んだメッセージをあるフォ
ルダにコピーする場合に便利。
@item e
最初に入力したマークを次に入力したマークへ変換する。ただし、@samp{o} マー
クは対象外。
@end ifset
@ifset en
@item m$ 
@samp{*} -> @samp{$} :: Preserve the @samp{*} marks temporarily.
@item m*
@samp{$} -> @samp{*} :: Get the @samp{*} marks back.
@item ms
@samp{$} <-> @samp{*}
@item mM-u
@samp{*} -> @samp{U} :: It is useful when you put @samp{U} marks to
messages picked by @samp{?}.
@item md
@samp{*} -> @samp{D} :: It is useful when you put @samp{D} marks to
messages picked by @samp{?}.
@item mM-d
@samp{*} -> @samp{X} :: It is useful when you put @samp{X} marks to
messages picked by @samp{?}.
@item mo
@samp{*} -> @samp{o} :: It is useful when you put @samp{o} marks to
messages to be moved picked by @samp{?}.  
@samp{*} -> @samp{o} :: It is useful when you put @samp{o} marks to
messages to be copied picked by @samp{?}.  
@item e
Exchange the first input mark to the second one. The @samp{o} mark is
not exchangeable.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node sync, off-line, mark change, Marks
@ifset ja
@section IMAP サーバとのマークの整合性
@end ifset
@ifset en
@section Mark consistency against an IMAP server
@end ifset

@ifset ja
Mew では、以下のマークに対し、IMAP サーバと整合性を確保できます。
@end ifset
@ifset en
Mew can maintain consistency of the following marks against an IMAP
server:
@end ifset

@table @samp
@ifset ja
@item U
メッセージを読んだか否か。IMAP のフラグは \Seen。通常は %inbox のみで有
効。
@item *
注目しているメッセージ。IMAP のフラグは \Flagged。
@end ifset
@ifset en
@item U
Whether a message is read or not. This IMAP flag is \Seen. This is
usually valid in %inbox only.
@item *
Review mark. This IMAP flag is \Flagged.
@end ifset
@end table

@ifset ja
オフラインの操作を許すために、Mew ではユーザが動作を起こすたびに IMAP
サーバとマークの整合性を取ります。定期的に整合性を取ることはしません。
Mew がマークの整合性を取る方法を以下に示します。
@end ifset
@ifset en
To allow off-line operations, Mew synchronizes marks with an IMAP
server everytime when a user makes an action. Mew does not
automatically synchronize marks repeatedly. The followings are how Mew
synchronizes marks.
@end ifset

@enumerate
@ifset ja
@item
@samp{s} + 'update
@itemize @minus
@item 既存のメッセージに対して変更したマークをサーバ側へ反映
@item 新着メッセージに対しては、サーバ側のフラグをマークへ反映
@end itemize

@item
@samp{x}
@itemize @minus
@item 既存のメッセージに対して変更したマークをサーバ側へ反映
@end itemize

@item
@samp{s} + 'sync
@itemize @minus
@item 既存のメッセージに対して変更したマークをサーバ側へ反映
@item 既存のメッセージの @samp{*},@samp{U}, @samp{$}, @samp{ } マークを一旦クリア
@item サーバ側のフラグを既存のメッセージにマークとして反映
@item サーバ側で削除されたメッセージを削除
@end itemize
@end ifset
@ifset en
@item
@samp{s} + 'update
@itemize @minus
@item Reflecting modified marks of the existing messages to the server
@item For newly arrived messages, reflecting flags of the server to
the messages.
@end itemize

@item
@samp{x}
@itemize @minus
@item Reflecting modified marks of the existing messages to the server
@end itemize

@item
@samp{s} + 'sync
@itemize @minus
@item Reflecting modified marks of the existing messages to the server
@item Clearing @samp{*},@samp{U}, @samp{$}, @samp{ } mark on the existing messages.
@item Reflecting flags of the server to the existing messages
@item Removing messages which were deleted in the server
@end itemize
@end ifset
@end enumerate

@c %%%%%%%%%%%%%%%%%
@node off-line, mew-mark, sync, Marks
@ifset ja
@section IMAP のためのマークのオフライン処理
@end ifset
@ifset en
@section Processing marks off-line for IMAP
@end ifset
@kindex lx
@kindex C-cC-c (Summary)
@kindex s (Summary)

@ifset ja
IMAP ユーザは、フォルダ A のメッセージをキャッシュし、出先で @samp{o}
マークや @samp{D} マークを付け、その場でそれらのマークを処理したくなる
ことがあります。この場合、その後ネットワークに接続したときに、それらの
処理が IMAP サーバに反映されて欲しいと思います。
@end ifset
@ifset en
An IMAP user may want to cache messages in folder A and go out. Then he
may want to put the @samp{o} and/or @samp{D} marks, and process the
marks off-line. In this story, these jobs should be done in his IMAP
server after connecting the Internet.
@end ifset

@ifset ja
通常 IMAP では、メッセージをフォルダ A からフォルダ B へ移動させた場合、
フォルダ A にキャッシュされているそのメッセージを削除し、IMAP サーバから
ネットワークを通じ、フォルダ B へそのメッセージをキャッシュし直す必要が
あります。なぜなら、フォルダ A にキャッシュされているメッセージに付随す
る IMAP の情報は、フォルダ A 内でのみ有効だからです。
@end ifset
@ifset en
If a message in folder A is moved to folder B with IMAP, the cached
message in folder A usually must be deleted and a corresponding message
in folder B must be retrieved from his IMAP server again. This is
because information embedded in a cached message in folder A is valid
only in folder A.
@end ifset

@ifset ja
出先でフォルダ A のメッセージをフォルダ B へ整理したとしましょう。仮に、
そのメッセージをフォルダ B で読むためには、ネットワークに接続してその処
理を IMAP サーバに反映し、IMAP サーバから取り直さないといけないとすると
不便です。欲を言えば、出先でフォルダ B へ整理したメッセージは、IMAP サー
バから取り直さなくとも、フォルダ B へ移動すれば読めるようになっていて欲
しいと思います。
@end ifset
@ifset en
Suppose you refile a message in folder A to folder B off-line. It is
very inconvenient for you to retrieve a corresponding message in folder
B from your IMAP server , in order to read it, after refile jobs are
done online. You may want to read the messages refiled to folder B by
just going to the folder B, without retrieval form the IMAP server.
@end ifset

@ifset ja
Mew では、メッセージ処理を後から IMAP サーバへ反映することと、IMAP サー
バからメッセージを再取得しなくても移動先のフォルダでメッセージを読めるこ
との両方を実現しています。ネットワークに接続していない状況で、マークを処
理するには、@samp{lx} を使用して下さい。@samp{lx} を実行すると、以下の処
理がなされます。
@end ifset
@ifset en
Mew implements delayed jobs processing and viewing refiled messages
without retrieval. If you want to process marks off-line, type @samp{lx}.
@samp{lx} carries out the following jobs.
@end ifset

@enumerate
@ifset ja
@item
@samp{o} マークや @samp{D} マークのついたメッセージがフォルダ A からなく
なる。
@item
この処理はメッセージ形式で、%queue に溜る。
@item
@samp{o} マークのついたメッセージは、ローカルでフォルダ B へ移動され、無
効なメッセージとして扱われる。
@end ifset
@ifset en
@item
Deleting messages marked with @samp{o} and/or @samp{D} from folder A.
@item
Queuing these jobs in %queue.
@item
Moving messages marked with @samp{o} to folder B and marking them
invalid.
@end ifset
@end enumerate

@ifset ja
無効なメッセージとは、読むことはできるが、@samp{o} マークや @samp{D} マー
クをつけられないものをいいます。無効なメッセージには、@samp{#} マークが
付いています。@samp{g} を使って、フォルダ B へ行くと、無効なメッセージ
の一覧が自動的に表示されます。
@end ifset
@ifset en
'invalid' means that you can read it but you cannot put the
@samp{o}/@samp{D} mark on it. Invalid messages are marked with
@samp{#}. When you go to folder B by typing @samp{g}, a list of
invalid messages is displayed automatically.
@end ifset

@ifset ja
ネットワークに接続した後に、%queue に溜っている処理を IMAP サーバに反映さ
せるには、%queue で @samp{C-cC-c} と入力して下さい。
@end ifset
@ifset en
If you want to let your IMAP server process jobs in %queue after you get
back online, type @samp{C-cC-c} in %queue.
@end ifset

@ifset ja
IMAP サーバに処理を反映した後に、フォルダ B で @samp{s} を押すと、無効な
メッセージが削除され、有効なメッセージがキャッシュされます。
@end ifset
@ifset en
Typing @samp{s} in folder B after jobs in %queue are done in your IMAP
server results in deletion of invalid messages and caching valid
messages.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node mew-mark, Refile, off-line, Marks
@ifset ja
@section Mew が表示するマーク
@end ifset
@ifset en
@section Marks displayed by Mew
@end ifset

@ifset ja
以下に Mew が表示するマークをまとめます。
@end ifset
@ifset en
Here is a summary of marks displayed by Mew.
@end ifset

@table @samp
@ifset ja
@item M
マルチパートを表すマーク。@xref{multipart} を参照のこと。
@item -
Multipart/Alternative を表すマーク。@xref{analysis} を参照のこと。
@item T
メッセージが切り詰められたことを表すマーク。@xref{retrieving} を参照のこ
と。
@item S
署名を表すマーク。@xref{cipher-viewing} を参照のこと。
@item E
暗号化を表すマーク。@xref{cipher-viewing} を参照のこと。
@item P
分割されていることを示すマーク。@xref{target mark} を参照のこと。
@item #
メッセージが無効であることを示すマーク。@xref{off-line} を参照のこと。
@end ifset
@ifset en
@item M
This message is a multipart. Please refer to @ref{multipart}.
@item -
This message contains a Multipart/Alternative content. Please refer to
@ref{analysis}.
@item T
This message was truncated by Mew. Please refer to @ref{retrieving}.
@item S
This message is signed. Please refer to @ref{cipher-viewing}.
@item E
This is a cipher message. Please refer to @ref{cipher-viewing}.
@item P
This message is fragmented. Please refer to @ref{target mark}.
@item #
This message is invalid. Please refer to @ref{off-line}.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Refile
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Refile, by-folder, mew-mark, Top
@ifset ja
@chapter 楽々整理整頓
@end ifset
@ifset en
@chapter Happy refiling
@end ifset

@ifset ja
1 日に数百のメッセージを受け取るようになると整理整頓が大変になります(え、
そんなに受け取らないですって？ 幸せですね :) 。Mew では、@samp{o} でメッ
セージを整頓する際に、整頓先を推測し初期値として表示してくれます。たと
えば、次のようになります。
@end ifset
@ifset en
When you come to receive hundreds of messages in a day (do not you
believe it?), refiling messages becomes a very tough job. Mew neatly
guesses default folders where the message is supposed to be refiled when
you type @samp{o}. You can see an example below.
@end ifset

@example
Folder name (+work/mew-dist): +
@end example

@ifset ja
もし、() の中の初期値が自分の希望通りであれば、@samp{RET} を押すだけで
よいのです。整頓先が決定しているメッセージには、@samp{o} マークが付きま
す。
@end ifset
@ifset en
If the default value in () is proper, just type @samp{RET}. The messages
will be marked with @samp{o} if its refiling folders are decided.
@end ifset

@ifset ja
メッセージを移動できるのは、そのメッセージが属している「世界」の中でのみ
です。前述のように世界はケースと修飾子によって定まります。整頓先のフォル
ダを指定する場合には、ケースを付けず、同じ修飾子を持つフォルダ名を入力す
る必要があります。ケースを付けない理由は、そのメッセージのケースはすでに
定まっているからです。ミニバッファからフォルダ名を入力する際、ケースが 
"default" でないにも関わらずケースを明示的に入力しないのは、整頓先を指定
する場合のみです。
@end ifset
@ifset en
You can refile a message to folders of the same world to which the
message belong. As described above, a world is identified by a
combination of "case" and proto. When you input a folder to which the
message is refiled, you must not specify "case" and you must input a
folder whose proto is the same. The reason why you must not specify
@w{"}case" is that the "case" is already known. With other commands, you
have to specify the "case", if necessary, when you input folder name
in minibuffer. This command is only the exception.
@end ifset

@ifset ja
@samp{o} に似たコマンドに @samp{c} があります。両者の違いは、
@xref{refile mark} を参照して下さい。
@end ifset
@ifset en
Mew also provides @samp{c} which is very similar to @samp{o}. To know
the difference, please refer to @ref{refile mark}.
@end ifset

@ifset ja
この整頓先の推測が賢ければ賢い程ユーザは楽になります。Mew では以下のよう
な規則が用意されています。
@end ifset
@ifset en
As you know, the more excellent refiling guess algorithms become, the
less user's job troublesome. Mew provides you with the following rules.
@end ifset

@menu
@ifset ja
* by-folder::                   メーリングリスト用のフォルダから推測
* by-alist::                    指定した規則から推測
* by-thread::                   対話関係から推測
* by-from-folder::              個人用のフォルダから推測
* by-from::                     From: から推測
* by-newsgroups::               Newsgroups: から推測
* by-default::                  デフォルトの規則
* guess-rule::                  規則の制御
* auto-refile::                 自動で整理整頓
* copy-msg::                    世界を越えたメッセージのコピー
@end ifset
@ifset en
* by-folder::                   Guess by mailing-list folders
* by-alist::                    Guess by user defined rules
* by-thread::                   Guess by thread
* by-from-folder::              Guess by private folders
* by-from::                     Guess by From:
* by-newsgroups::               Guess by Newsgroups:
* by-default::                  Guess by default rule
* guess-rule::                  Controlling rules
* auto-refile::                 Auto refile
* copy-msg::                    Copying messages across worlds
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node by-folder, by-alist, Refile, Refile
@ifset ja
@section メーリングリスト用のフォルダから推測
@end ifset
@ifset en
@section Guess by mailing-list folders
@end ifset
@vindex mew-use-fast-refile
@vindex mew-use-node-folder

@ifset ja
あるメーリングリスト宛のメッセージを、そのメーリングリスト名のフォルダに
整理することは多いと思います。Mew ではメーリングリスト宛に届いたメッセー
ジに対して、それ用のフォルダを推測する機能があります。
@end ifset
@ifset en
Many users tend to refile messages destined to a mailing-list to a
folder whose name is the same as the mailing-list. Mew provides a
mechanism to guess a mailing-list folder for messages destined to
mailing-lists.
@end ifset

@ifset ja
たとえば、+misc/pooh-lovers というフォルダがあったとしましょう。次のよう
なメッセージは、このフォルダに整頓すればよい可能性が高いといえます。
@end ifset
@ifset en
Suppose that you have a folder named +misc/pooh-lovers. The following
message is probably to be refiled to this folder.
@end ifset

@example
To: pooh-lovers@@example.org 
@end example

@ifset ja
このように、To: や Cc: のアドレスが、フォルダ名の一番右側にマッチするも
のがないか探すわけです。フォルダを階層化していない人が多いようですが、
Mew を使う限り、階層化しない手はありません。
@end ifset
@ifset en
Likewise, Mew searches a matching folder forward with addresses on To:
and Cc:. There are many people who do not use recursive folders. With
Mew, however, you would not be smart if you do not use it.
@end ifset

@ifset ja
さて、鋭い人は次のように個人のアドレスが To: や Cc: にある場合、困るので
はないかと思うでしょう。
@end ifset
@ifset en
Smart users may wonder that they get a trouble in the following
situation where private addresses are on To: or Cc:.
@end ifset

@example
To: piglet@@example.org
Cc: pooh-lovers@@example.org
@end example

@ifset ja
たとえば、pooh は pooh-lovers の一員ですから、このメッセージが届きます。
しかし、piglet と仲がいいので、+from/piglet にマッチしてしまいます。
@end ifset
@ifset en
Since Pooh is a member of pooh-lovers, he receives this message. But he
has a folder for his friend, Piglet. So, +from/piglet may be chosen.
@end ifset

@ifset ja
そこで、Mew では無視するフォルダを設定できるようになっています。デフォル
トでは、+from 以下を無視します。ですから、個人からのメッセージは +from 
以下に収めて下さい
@end ifset
@ifset en
To avoid this, Mew allows you to specify which folders are to be
ignored. The default is +from. So, please take a convention to refile
personal messages under +from.
@end ifset

@ifset ja
候補が決定できたら
@end ifset
@ifset en
When Mew guesses a candidate by the folders, it asks you:
@end ifset

@example
Folder name (+misc/pooh-lovers): +
@end example

@ifset ja
と訊いてきます。あっていれば @samp{RET} を、違っていればお望みのフォルダ
を入力して下さい。
@end ifset
@ifset en
Just type @samp{RET} if the default is exactly what you want.
@end ifset

@ifset ja
@samp{o} で新しいフォルダを指定すると、そのフォルダが自動的に作成され、
次からは推測用の候補にも加わります。便利でしょ？
@end ifset
@ifset en
If you specify a new folder with @samp{o}, the folder is created and
added to the folder list to be used for guess. Convenient, isn't it?
@end ifset

@ifset ja
この機能を提供する関数は @samp{mew-refile-guess-by-folder} です。
@end ifset
@ifset en
The function name to provide this feature is
@samp{mew-refile-guess-by-folder}.
@end ifset

@ifset ja
もし、フォルダ名に大文字を使っていないなら、以下の設定により、この関数が
高速になります。
@end ifset
@ifset en
If you don't use capital letters for folder names, configure as follows
to make this function faster:
@end ifset

@lisp
(setq mew-use-fast-refile t)
@end lisp

@ifset ja
デフォルトでは、末端のフォルダと中間のフォルダが候補の対象となっていま
す。もし、中間のフォルダではなく、末端のフォルダだけを選びたい場合は、
以下のように設定して下さい。
@end ifset
@ifset en
By default, candidate includes node folders as well as leaf folders.
If you want to not select node folders but leave folders only,
configure as follows:
@end ifset

@lisp
(setq mew-use-node-folder nil)
@end lisp

@c %%%%%%%%%%%%%%%%%
@node by-alist, by-thread, by-folder, Refile
@ifset ja
@section 指定した規則から推測
@end ifset
@ifset en
@section Guess by user defined rules
@end ifset
@vindex mew-refile-guess-alist

@ifset ja
フォルダ名から推測する機能だけでは、思うようなフォルダを推測してくれな
い場合があります。たとえば、To: が staff@@example.jp であるメッセージと
To: が staff@@example.net であるメッセージに対し、フォルダ名からの推測
では同じフォルダ(たとえば、"+net/staff")が選ばれてしまいます。そこで、
Mew では、変数 @samp{mew-refile-guess-alist} に明示的に規則を設定できま
す。(@samp{mew-refile-guess-alist} は、必ず新しい書式で書いて下さい。詳
しくは @xref{config2} を参照のこと。)
@end ifset
@ifset en
There are some cases where the refile guess mechanism by folders does
not work as you wish. For example, for both a message whose To: is
staff@@example.jp and another message whose To: is staff@@example.net,
the same folder would be selected with guess by folders
(e.g. "+net/staff"). So, Mew allows you to define your own rules
explicitly. (You must use the new format for
@samp{mew-refile-guess-alist}.  For more information, see
@end ifset

@ifset ja
1 つ例を挙げてみましょう。
@end ifset
@ifset en
Let's look at an example.
@end ifset

@lisp
(setq mew-refile-guess-alist
  '(("To:"
      ("staff@@example.jp"  "+jp/staff")
      ("staff@@example.net" "+net/staff"))))
@end lisp

@ifset ja
これは、メッセージヘッダ中の To: の横の文字列に staff@@example.jp があ
れば +jp/staff へ、staff@@example.net があれば +net/staff へ整頓すると
いう意味です。
@end ifset
@ifset en
This means that if To: contains staff@@example.jp +jp/staff is
selected and if To: has staff@@example.net +net/staff is chosen.
@end ifset

@ifset ja
規則は、以下のように書きます。
@end ifset
@ifset en
The format of this rule is as follow:
@end ifset

@example
rule ::= '<rule>
<rule> ::= ((<key> <alist>) (<key> <alist>) ... [<special>])
@end example

@ifset ja
全体は (<key> <alist>) のリストです。<key> はフィールド名を書きます。
<alist> は以下のようになります。
@end ifset
@ifset en
The whole is a list of (<key> <alist>). A field name is specified for
<key>. The format for <alist> is as follows:
@end ifset

@example
<alist> ::= (<value> <folder>|<rule>) (<value> <folder>|<rule>) ...
@end example

@ifset ja
<value> は <key> で示したフィールドにくる値です。<folder> は <key> にマッ
チした際にどのフォルダに整頓するかを意味しています。<folder> の代りに
<rule> を再帰的に記述することもできます。
@end ifset
@ifset en
<value> is a field value for <key>. <folder> means a folder to be
chosen if matched. You can write <rule> recursively instead of
<folder>.
(@xref{config2}.)
@end ifset

@ifset ja
特殊な <key> として @samp{nil} と @samp{t} があります。@samp{nil} は、何
も推測できなかった場合に返す <folder> を指定するために用います。@samp{t} 
は、推測した値に加えて返す <folder> を指示するために使います。
@end ifset
@ifset en
There are two special <key>s: @samp{nil} and @samp{t}. @samp{nil} is
used to specify <folder> to be returned when nothing is guessed. @samp{t}
can specify <folder> to be returned in addition to guessed values.
@end ifset

@example
<special> ::= (t <folder>) | (nil <folder>)
@end example

@ifset ja
正規表現を知っている人は、以下のような複雑な規則を設定できます。
@end ifset
@ifset en
If you know regular expression, a more advanced rule can be defined like
this.
@end ifset

@lisp
(setq mew-refile-guess-alist
  '(("Newsgroups:"
    ("^nifty\\.\\([^ ]+\\)" "+Nifty/\\1")
    (".*"                   "+rec/news"))
   ("To:"
    ("\\(inet\\|wide\\)@@wnoc-fuk" "+wide/\\1-wnoc-fuk"))
   ("From:" 
    ("uucp@@"    "+adm/uucp")
    ("ftpsync@@" "+adm/ftpsync"))
   (nil "+unknown")))
@end lisp

@ifset ja
この機能を提供する関数は @samp{mew-refile-guess-by-alist} です。
@end ifset
@ifset en
The function name to provide this feature is
@samp{mew-refile-guess-by-alist}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node by-thread, by-from-folder, by-alist, Refile
@ifset ja
@section 対話関係から推測
@end ifset
@ifset en
@section Guess by thread
@end ifset
@vindex mew-lisp-max-length

@ifset ja
Mew には、整頓しようとしているメッセージの親のメッセージが以前整頓された
フォルダを選択してくれる機能があります。
@end ifset
@ifset en
Mew provides a mechanism to guess a folder where the parent message of a
current message was refiled before.
@end ifset

@ifset ja
たとえば、pooh、piglet、roo との間で、蜂蜜を取りに行こうという話題が盛り
上がったとしましょう。pooh は、+project/honey というフォルダを作って、最
初のメッセージをそこに整頓したとしましょう。以降、3 人の間のメッセージが
きちんとした返答であるかぎり、+project/honey を推測してくれます。
@end ifset
@ifset en
For example, Pooh, Piglet, and Roo had a chat to go and get honey. So,
Pooh made +project/honey then refiled the message to it. The further
messages, if they are properly replied, they are supposed to be refiled
to +project/honey.
@end ifset

@ifset ja
あるメッセージをどこに保存したかという情報は、
@w{"}~/Mail/.mew-refile-msgid-alist" に保存されています。この情報を過去
何通のメッセージに関して保存するかは、@samp{mew-lisp-max-length} で決定
します。初期値は 2000 通です。3000 通にしたい場合は "~/.mew.el" 中で以
下のように設定して下さい。
@end ifset
@ifset en
Information that which folder was chosen for messages is stored to
@w{"}~/Mail/.mew-refile-msgid-alist". @samp{mew-lisp-max-length}
controls the amount of this information. The default value is 2000
messages. If you want limits it to 3000 messages, put the following to
"~/.mew.el".
@end ifset

@lisp
(setq mew-lisp-max-length 3000)
@end lisp

@ifset ja
この機能を提供する関数は @samp{mew-refile-guess-by-thread} です。
@end ifset
@ifset en
The function name to provide this feature is
@samp{mew-refile-guess-by-message-id}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node by-from-folder, by-from, by-thread, Refile
@ifset ja
@section 個人用のフォルダから推測
@end ifset
@ifset en
@section Guess by private folders
@end ifset
@vindex mew-refile-guess-from-me-is-special

@ifset ja
@xref{by-folder} で説明したメーリングリスト用のフォルダを推測するに加え
て、個人用のフォルダを推測する機能があります。個人用のフォルダは +from 
以下にありますから、+from 以下のフォルダを選択する機能だともいえます。以
下の例を考えてみましょう。
@end ifset
@ifset en
In addition to the mechanism to select a mailing-list folder described
in @ref{by-folder}, Mew provides a mechanism to choose a private
folder. Since private folders locate under +from, we can say that this
mechanism select a folder from the folders under +from. Let's see the
following example:
@end ifset

@example
To: pooh@@example.net
From: piglet@@example.org
@end example

@ifset ja
piglet から pooh にメッセージが来ました。pooh がこの機能を使うと、From: 
を手がかりに +from/piglet が選択されます。(+from 以下は階層化されていて
も構いません。また、フォルダ名はユーザ名だけではなくアドレス全体でも OK 
です。)
@end ifset
@ifset en
Pooh received a message from Piglet. If Pooh uses this mechanism,
+from/piglet will be chosen according to From:. (Folders under +from can
be recurse. And you can select the entire address for a folder name
instead of the user part.)
@end ifset

@ifset ja
この機能を提供する関数は、@samp{mew-refile-guess-by-from-folder} といいます。
@end ifset
@ifset en
The function to provide this feature is
@samp{mew-refile-guess-by-from-folder}.
@end ifset

@ifset ja
次に、pooh が piglet に返答した場合を考えましょう。pooh は自分自身に Cc: 
していたので、自分にメッセージが戻ってきました。
@end ifset
@ifset en
Next, let's consider a care where Pooh replied to Piglet. Since Pooh
Cc:ed the message to himself, the message was also delivered to him.
@end ifset

@example
To: piglet@@example.org
Cc: pooh@@example.net
From: pooh@@example.net
@end example

@ifset ja
pooh の立場になって考えてみて下さい。このメッセージを +from/pooh に整頓
するか、あるいは +from/piglet に整頓するのかは、好みが分かれるところで
しょう。そこで、どちらを選択するのかカスタマイズできるようになっていま
す。
@end ifset
@ifset en
How do you feel if you are Pooh? You may want to refile this to
+from/pooh. Also, you may want to move this to +from/piglet. So, it
can be customized.
@end ifset

@ifset ja
@samp{mew-refile-guess-from-me-is-special} が @samp{t} なら、
@samp{mew-refile-guess-by-from-folder} は、From: が自分のアドレスの場合
に、To: と Cc: にあるアドレスをもとに、+from 以下のフォルダを選択します。
@end ifset
@ifset en
If @samp{mew-refile-guess-from-me-is-special} is @samp{t} and if an
address in From: is yourself, @samp{mew-refile-guess-by-from-folder}
select a folder under +from according to To: and/or Cc:.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node by-from, by-newsgroups, by-from-folder, Refile
@ifset ja
@section From: から推測
@end ifset
@ifset en
@section Guess by From:
@end ifset
@vindex mew-lisp-max-length
@vindex mew-refile-guess-from-me-is-special

@ifset ja
From: に同一のアドレスを持つメッセージが、かつてどこに整頓されたかによっ
て推測する機能があります。
@end ifset
@ifset en
Mew also provides a mechanism to guess a folder by the place where a
message that has the same From: field is refiled.
@end ifset

@ifset ja
たとえば、piglet は piglet@@example.org と p-p-p@@example.org の 2 つのア
ドレスを持っているとしましょう。どちらのアドレスからメッセージが届いても、
pooh はそれらを +from/piglet に整頓したいと思っています。もちろん、以下
のように明示的に規則を書けば実現できます。
@end ifset
@ifset en
Suppose that Piglet has two addresses, piglet@@example.org and
p-p-p@@example.org. Pooh wants to refile messages from Piglet to
+from/piglet no matter what his From: is. This policy can, of course, be
implemented if Pooh specifies rules explicitly as follows:
@end ifset

@lisp
(setq mew-refile-guess-alist
  '(("From:"
      ("piglet@@example.org" "+from/piglet")
      ("p-p-p@@example.org"  "+from/piglet"))))
@end lisp

@ifset ja
しかし、いちいち規則を書くのは面倒です。そこで、まず From: が 
piglet@@example.org であるメッセージを +from/piglet に整頓します。これ
でフォルダ +from/piglet が作成されます。次に、From: が p-p-p@@example.org で
あるメッセージを +from/piglet に整頓したとします。ここで Mew は、
p-p-p@@example.org が +from/piglet に整頓されたことを学習します。以後 From: 
が p-p-p@@example.org であるメッセージを整頓しようとすると、+from/piglet を
選択するようになります。
@end ifset
@ifset en
But such a work may bother you. So, first refile a message whose From:
is piglet@@example.org to +from/piglet. At this time, +from/piglet is
created. Next, refile a message whose From: is p-p-p@@example.org to
+from/piglet. Here Mews learns that p-p-p@@example.org was refiled to
+from/piglet. After this, when messages whose From: is p-p-p@@example.org
are refiled, +from/piglet is chosen.
@end ifset

@ifset ja
その他、機械からくるメッセージは、いつも +adm/misc に入れることにしたい
場合なども、明示的な規則を書かずに済ませられます。
@end ifset
@ifset en
For another example, you can refile messages from machinery to +adm/misc
without defining an explicit rule.
@end ifset

@ifset ja
From: とフォルダの情報は、"~/Mail/.mew-refile-from-alist" に保存されてい
ます。この情報を過去何通のメッセージに関して保存するかは、
@xref{by-thread} と同様に @samp{mew-lisp-max-length} で決定します。
@end ifset
@ifset en
Information for relationship between From: and folder is stored to
@w{"}~/Mail/.mew-refile-from-alist". @samp{mew-lisp-max-length}
controls the amount of this information as the same as
@ref{by-thread}.
@end ifset

@ifset ja
この機能を提供する関数は @samp{mew-refile-guess-by-from} です。
@end ifset
@ifset en
The function name to provide this feature is
@samp{mew-refile-guess-by-from}.
@end ifset

@ifset ja
@samp{mew-refile-guess-from-me-is-special} が @samp{t} の場合、
@samp{mew-refile-guess-by-from} は 
@samp{mew-refile-guess-by-from-folder}(@xref{by-from-folder})と同様な動
きをします。
@end ifset
@ifset en
If the value of @samp{mew-refile-guess-from-me-is-special} is @samp{t},
@samp{mew-refile-guess-by-from} acts as
@samp{mew-refile-guess-by-from-folder} (@pxref{by-from-folder}).
@end ifset

@c %%%%%%%%%%%%%%%%%
@node by-newsgroups, by-default, by-from, Refile
@ifset ja
@section Newsgroups: から推測
@end ifset
@ifset en
@section Guess by Newsgroups:
@end ifset

@ifset ja
ニュースをメールとして受信して Mew で読んでいる人のために、Newsgroups: 
からフォルダを推測する機能を用意しました。関数名は 
@samp{mew-refile-guess-by-newsgroups} です。
@end ifset
@ifset en
For those who read articles of NetNews received by e-mail with Mew, Mew
provides a mechanism to guess a folder by Newsgroups:. The function name
to provide this feature is @samp{mew-refile-guess-by-newsgroups}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node by-default, guess-rule, by-newsgroups, Refile
@ifset ja
@section デフォルトの規則
@end ifset
@ifset en
@section Guess by default rule
@end ifset
@vindex mew-refile-guess-strip-domainpart

@ifset ja
デフォルトの規則は、From: からユーザ名を切り出して、@samp{+from/user}
を選ぶようになっています。ただし、
@samp{mew-refile-guess-strip-domainpart} が @samp{nil} ならアドレスを切
り出すので、@samp{+from/user@@domain} が選択されます。
@samp{mew-refile-guess-strip-domainpart} の初期値は @samp{t} です。
@end ifset
@ifset en
The default rule is to extract a user name from From: and to choose
@samp{+from/user}. But if @samp{mew-refile-guess-strip-domainpart} is
@samp{nil}, it extracts the entire address. So,
@samp{+from/user@@domain} is chosen. The default value of
@samp{mew-refile-guess-strip-domainpart} is @samp{t}.
@end ifset

@ifset ja
関数名は、@samp{mew-refile-guess-by-default} です。
@end ifset
@ifset en
The function name is @samp{mew-refile-guess-by-default}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node guess-rule, auto-refile, by-default, Refile
@ifset ja
@section 規則の制御
@end ifset
@ifset en
@section Controlling rules
@end ifset
@vindex mew-refile-guess-control
@vindex mew-refile-ctrl-multi

@ifset ja
Mew では、フォルダ推測の規則を 2 つの変数、@samp{mew-refile-guess-control} 
と @samp{mew-refile-ctrl-multi} で制御します。
@samp{mew-refile-guess-control} は、呼び出す関数を順に定義します。候補を
複数にしたい場合は @samp{mew-refile-ctrl-multi} を @samp{t} に、単数にし
たい場合は @samp{nil} に設定します。
@end ifset
@ifset en
Mew controls guess rules by two variables,
@samp{mew-refile-guess-control} and @samp{mew-refile-ctrl-multi}. If you
want multiple candidates, set @samp{mew-refile-ctrl-multi}
@samp{t}. Otherwise, set it @samp{nil}.
@end ifset

@ifset ja
標準では、@samp{mew-refile-guess-control} は以下のように宣言されています
(宣言なので @samp{defvar} が使われています)。
@end ifset
@ifset en
By default, @samp{mew-refile-guess-control} is declared as follows
(since it is a declaration, @samp{defvar} is used):
@end ifset

@lisp
(defvar mew-refile-guess-control
  '(mew-refile-guess-by-alist
    mew-refile-ctrl-throw
    mew-refile-guess-by-newsgroups
    mew-refile-guess-by-folder
    mew-refile-ctrl-throw
    mew-refile-ctrl-auto-boundary
    mew-refile-guess-by-thread
    mew-refile-ctrl-throw
    mew-refile-guess-by-from-folder
    mew-refile-ctrl-throw
    mew-refile-guess-by-from
    mew-refile-ctrl-throw
    mew-refile-guess-by-default))
@end lisp

@ifset ja
Mew は @samp{mew-refile-guess-control} に並べられた関数を順番にすべて実
行します。各々の関数が複数の候補を推測することがあります。
@end ifset
@ifset en
Mew executes every function defined in @samp{mew-refile-guess-control}
in order. Each function may guess multiple candidates.
@end ifset

@ifset ja
@samp{mew-refile-guess-control} の動作例として以下を考えてみましょう。
@end ifset
@ifset en
Let's see the following example of @samp{mew-refile-guess-control}
action.
@end ifset

@table @samp
@ifset ja
@item mew-refile-guess-by-alist
    が +aaa、+bbb を推測。
@item mew-refile-guess-by-folder
    が +ccc、+ddd を推測。
@item mew-refile-guess-by-default
    が +eee       を推測。
@end ifset
@ifset en
@item mew-refile-guess-by-alist
    guessed +aaa and +bbb.
@item mew-refile-guess-by-folder
    guessed +ccc and +ddd.
@item mew-refile-guess-by-default
    guessed +eee.
@end ifset
@end table

@ifset ja
+aaa 〜 +eee すべてをユーザに提示して欲しい場合は、
@samp{mew-refile-ctrl-multi} を @samp{t} に、+aaa だけを提示して欲しい場
合は、@samp{nil} に設定します。
@end ifset
@ifset en
If you want to provide all candidates, +aaa - +eee, set
@samp{mew-refile-ctrl-multi} @samp{t}. If you want to provide +aaa only,
set it @samp{nil}.
@end ifset

@ifset ja
また、+aaa 〜 +ddd は提示して欲しいけれどもそれ以降はいらない、つまり、
+eee を提示するのは先に実行された関数群が何も推測できなかったときだけに
したい場合は、@samp{mew-refile-ctrl-multi} を @samp{t} にして、
@samp{mew-refile-guess-by-folder} と @samp{mew-refile-guess-by-default} 
の間に @samp{mew-refile-ctrl-throw} を入れて下さい。
@end ifset
@ifset en
If you want +aaa - +ddd but do not want left candidates, in other words,
you want +eee only when no candidate is guessed by functions executed
before, set @samp{mew-refile-ctrl-multi} @samp{t} and insert
@samp{mew-refile-ctrl-throw} between @samp{mew-refile-guess-by-folder}
and @samp{mew-refile-guess-by-default}.
@end ifset

@ifset ja
@samp{C-uo} は、この推測の流れを Message バッファに表示します。
@end ifset
@ifset en
@samp{C-uo} displays the flow of guess rules in Message buffer.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node auto-refile, copy-msg, guess-rule, Refile
@ifset ja
@section 自動で整理整頓
@end ifset
@ifset en
@section Auto refile
@end ifset
@vindex mew-refile-auto-refile-skip-any-mark
@kindex M-o (Summary)
@kindex C-uM-o (Summary)

@ifset ja
毎日メッセージをたくさんもらう人は、まだ整頓していないメッセージを 
+inbox (あるいは %inbox) フォルダに大量に溜めてしまうことがあります。そ
んなときは、「メッセージ達よ、とにかくこのフォルダからどこかに行ってしま
え」と叫びたくなることがあるでしょう。Mew は、そんなわがままな人を満足させ
るための自動整理整頓関数を提供しています。:) @samp{M-o} がその呪文です。
@end ifset
@ifset en
Those who receives many messages everyday is prone to store thousands of
messages in the +inbox (or %inbox) folder. In such a case, they may want
to speak out like this, "Hey messages, get out of the folder to
somewhere". Mew provides a feature to satisfy such laziness. :)
@samp{M-o} is the spell.
@end ifset

@ifset ja
この関数を実行すると、現在のフォルダ内の特定のメッセージに対して、自動的
に @samp{o} マークを付けてくれます。特定のメッセージとは、
@samp{mew-refile-auto-refile-skip-any-mark} が @samp{nil} なら、@samp{o} 
や @samp{D} マークが付いていないメッセージです。
@samp{mew-refile-auto-refile-skip-any-mark} が @samp{t} なら、なにもマー
クが付いてない(既読)メッセージです。
@samp{mew-refile-auto-refile-skip-any-mark} の初期値は @samp{nil} です。
@end ifset
@ifset en
When you execute this function, it marks specific messages with
@samp{o}. The specific messages mean messages which are not marked
with @samp{o} nor @samp{D} if
@samp{mew-refile-auto-refile-skip-any-mark} is @samp{nil}. If
@samp{mew-refile-auto-refile-skip-any-mark} is @samp{t}, they mean
non-marked messages (i.e. read). The default value of
@samp{mew-refile-auto-refile-skip-any-mark} is @samp{nil}.
@end ifset

@ifset ja
@samp{C-uM-o} は、@samp{mew-refile-auto-refile-skip-any-mark} の値とは関
係なく @samp{*} マークの付いたメッセージを対象にします。
@end ifset
@ifset en
@samp{C-uM-o} targets messages marked with @samp{*} regardless the value
of @samp{mew-refile-auto-refile-skip-any-mark}.
@end ifset

@ifset ja
整頓先の決定には、先に説明した推測関数群が働くようになっています。この関
数は、@samp{o} を付けるだけですので、@samp{x} を押さない限り実際にメッセー
ジがどこかに行ってしまうことはありません。
@end ifset
@ifset en
Refile rule is the same described in the previous section. Please note
that what this function does is just mark messages with
@samp{o}. Messages are not refiled until you will press @samp{x}.
@end ifset

@ifset ja
Mew の整頓先推測はあまりにも賢すぎるので、この機能には仇となってしまい
ます。というのは、Mew が推測機能をフルに使って勝手に整頓してしまうと、
大抵のユーザはどこにメッセージが整頓されたか分からなくなってしまうか
らです。:) そのために、Mew が使う推測関数を制限する機能が提供されてい
ます。前に出てきた宣言をもう一度思い出して下さい。
@end ifset
@ifset en
Mew's refile mechanism is so smart that it would be harmful for this
function. That is, most users would not understand where messages have
been refiled if Mew made most use of its guess mechanism. :) For this
reason, break is provided to limit usage of guess functions. Recall the
declaration up above.
@end ifset

@lisp
(defvar mew-refile-guess-control
  '(mew-refile-guess-by-alist
    mew-refile-ctrl-throw
    mew-refile-guess-by-newsgroups
    mew-refile-guess-by-folder
    mew-refile-ctrl-throw
    mew-refile-ctrl-auto-boundary
    mew-refile-guess-by-thread
    mew-refile-ctrl-throw
    mew-refile-guess-by-from-folder
    mew-refile-ctrl-throw
    mew-refile-guess-by-from
    mew-refile-ctrl-throw
    mew-refile-guess-by-default))
@end lisp

@ifset ja
@samp{mew-refile-guess-control} の中に 
@samp{mew-refile-ctrl-auto-boundary} という関数があります。これがその仕
掛です。自動整理整頓のときに限り、Mew はこの関数より下に記述してある推測
を無視します。@samp{mew-refile-ctrl-auto-boundary} より上に記述している
関数が何も推測できなかった場合は、そのメッセージには @samp{o} が付きませ
ん。破滅が訪れる前に @samp{mew-refile-ctrl-auto-boundary} の御札を貼って
下さい。
@end ifset
@ifset en
You can find the @samp{mew-refile-ctrl-auto-boundary} function in
@samp{mew-refile-guess-control}. Only when auto refile is used, Mew
ignores guess functions below this function. If guess functions above
@samp{mew-refile-ctrl-auto-boundary} didn't guess any folder for a
message, the message is not marked with @samp{o}. Insert
@samp{mew-refile-ctrl-auto-boundary} before you ruin.
@end ifset


@c %%%%%%%%%%%%%%%%%
@node copy-msg, Virtual, auto-refile, Refile
@ifset ja
@section 世界を越えたメッセージのコピー
@end ifset
@ifset en
@section Copying messages across worlds
@end ifset
@kindex lc (Summary)
@kindex mlc (Summary)
@kindex li (Summary)
@kindex mli (Summary)

@ifset ja
これまで説明した整頓とは、同じ世界の中でメッセージを移動させることでし
た。これに対し、ある世界から他の世界へメッセージを移動させたいこともあ
るでしょう。これは、ある世界から他の世界へメッセージへコピーし、その後
元のメッセージを削除することで実現できます。ここでは、ある世界から他の
世界へメッセージへコピーする方法について説明します。
@end ifset
@ifset en
"Refile" described above is moving messages in the same world. By
contrast, you may want to move messages from a world to another
world. You can accomplish this by copying messages from a world to
another and deleting the original messages. Here we describe how to
copy messages to another world.
@end ifset

@ifset ja
あるフォルダのメッセージをローカルフォルダへコピーしたくなることがあり
ます。この場合 @samp{lc} を利用して下さい。@samp{lc} は、リモート・フォ
ルダで実行された場合、キャッシュされたメッセージから、そのリモート・フォ
ルダに特有の情報をヘッダから取り除き、ローカル・フォルダへコピーします。
(@samp{lc} は、ローカルフォルダでも実行できます。この場合、同じ世界内で
のコピーになります。)
@end ifset
@ifset en
You may want to copy a message to a local folder. For this, type
@samp{lc}. If you execute @samp{lc} in a remote folder, Mew removes
information related to the remote folder from the cached message and
copy it to a local folder. (You can use @samp{lc} in a local folder,
too. In this case, a message is moved in the same world.)
@end ifset

@ifset ja
あるフォルダのメッセージを IMAP のフォルダ(サーバ側)へコピーするには、
@samp{li} を利用します。
@end ifset
@ifset en
To opy a message in a folder to an IMAP folder (the server side), type
@samp{li}.
@end ifset

@ifset ja
@samp{*} の付いた複数のメッセージをローカル・フォルダへコピーするには
@samp{mlc} を使います。また、@samp{*} の付いた複数のメッセージを IMAP
フォルダへコピーするには @samp{mli} を利用して下さい。
@end ifset
@ifset en
To copy messages marked with @samp{*} to a local folder, use @samp{mlc}.
To copy messages marked with @samp{*} to an IMAP folder, use @samp{mli}.
@end ifset

@ifset ja
ある世界から他の世界へメッセージへコピーするコマンドを以下にまとめます。
@end ifset
@ifset en
Here is a summary of commands which copy messages from a world to
another.
@end ifset

@table @samp
@ifset ja
@item lc
あるフォルダのメッセージをローカルフォルダへコピーする。
@item mlc
@samp{*} の付いた複数のメッセージをローカル・フォルダへコピーする。
@item li
あるフォルダのメッセージを IMAP のフォルダへコピーする。
@item mli
@samp{*} の付いた複数のメッセージを IMAP フォルダへコピーする。
@end ifset
@ifset en
@item lc
Copy a message to a local folder.
@item mlc
Copy messages marked with @samp{*} to a local folder.
@item li
Copy a message to the server side of IMAP.
@item mli
Copy messages marked with @samp{*} to the server side of IMAP.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Virtual
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Virtual, selection, copy-msg, Top
@ifset ja
@chapter 仮想フォルダ
@end ifset
@ifset en
@chapter Virtual folder
@end ifset

@ifset ja
Virtual モードは、必要なメッセージを表示するための仮想的なフォルダであ
り、「セレクション」と「スレッド」の2種類に分類できます。
@end ifset
@ifset en
Virtual mode is a virtual folder and it consists of "selection" and
@w{"}thread".
@end ifset

@table @samp
@ifset ja
@item セレクション
いろいろなフォルダから必要なメッセージだけを集めた仮想フォルダです。フォ
ルダ名の左側に "*" が付きます。
@item スレッド
フォルダ(Summary)やセレクション(Virtual)を基に、対話関係を行頭揃えによっ
て可視化した仮想フォルダです。フォルダ名の両側に "*" が付きます。
@end ifset 
@ifset en
@item Selection
A virtual folder collecting necessary messages from several folders.
Its folder name has "*" on the left side.
@item Thread
A virtual folder to visualize message flow with indentation, created
from a folder or a virtual folder. Its folder name has "*" on the both
sides.
@end ifset 
@end table

@ifset ja
Summary モードで利用できるコマンドの多くが、Virtual モードで利用できま
す。
@end ifset
@ifset en
In Virtual mode, you can use most commands that you can find in
Summary mode.
@end ifset

@ifset ja
Virtual モードでメッセージにマークを付けると、対応する Summary モードが
あれば、そちらのメッセージにもマークが付きます。逆に、Summary モードで
あるメッセージにマークを付けても、Virtual モードの対応するメッセージに
はマークは付きません。
@end ifset
@ifset en
If you put a mark on a message in Virtual mode and if corresponding
Summary mode exists, the mark is also put onto the corresponding
message there.  But if you put a mark on a message in Summary mode,
the mark is not put any corresponding messages in Virtual mode.
@end ifset

@ifset ja
Virtual モードからマークを処理することはできません。@samp{x} を押しマー
クを処理しようとすると、対応する Summary モードがあれば、そちらに移動
し、もう一度 @samp{x} を押すよう促されます。
@end ifset
@ifset en
You cannot process marks in Virtual mode. Even if you type @samp{x} to
process marks in Virtual mode, the cursor moves to corresponding
Summary mode, if exsists, and you are asked to type @samp{x} again.
@end ifset

@ifset ja
仮想フォルダはまさしく仮想であり、ファイルシステムなどには存在しないこ
とに注意して下さい。Emacs を終了すると、仮想フォルダはなくなります。
Virtual モードを消去する方法については、@xref{Quit} を参照して下さい。
@end ifset
@ifset en
You should take note that Virtual folder is really virtual and it does
not exist in file system. If you exit Mew, it then disappears.  To
know how to delete Virtual mode, please refer to @ref{Quit}.
@end ifset

@menu
@ifset ja
* selection::                   セレクション
* sorting::                     ソート
* dialog::                      対話
* search::                      検索
* condition::                   検索条件の入力方法
* dbsearch::                    検索エンジン
* keyword::                     キーワードの強調
* thread::                      スレッド
* thread-op::                   スレッドの操作
@end ifset
@ifset en
* selection::                   Selection
* sorting::                     Sorting
* dialog::                      Dialog
* search::                      Searching
* condition::                   How to input search conditions
* dbsearch::                    Search Engine
* keyword::                     Highlighting a keyword
* thread::                      Thread
* thread-op::                   Thread operations
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node selection, sorting, Virtual, Virtual
@ifset ja
@section セレクション
@end ifset
@ifset en
@section Selection
@end ifset

@ifset ja
セレクションは、いろいろなフォルダから必要なメッセージだけを集めた仮想
フォルダです。セレクションの作り方には、以下の 5 つがあります。
@end ifset
@ifset en
Selection is a virtual folder collecting necessary messages from
several folders. There are five ways to create selection:
@end ifset

@table @samp
@ifset ja
@item m/
あるフォルダで、"*" マークが付いているメッセージのみを表示する。
@item S
あるフォルダで、メッセージをソートして表示する。(元のフォルダには、何の影響もない。) @xref{sorting} を参照のこと。
@item V
現在のメッセージと対話関係にあるメッセージを表示する。@xref{dialog} を参照のこと。
@item /
あるフォルダから、検索条件に合致するメッセージを表示する。@xref{search} を参照のこと。
@item k/
すべてのフォルダから、検索条件に合致するメッセージを表示する。@xref{dbsearch} を参照のこと。
@end ifset
@ifset en
@item m/
Listing messages marked with @samp{*} on a folder. see @ref{sorting}.
@item S
Sorting messages on a folder and display them. (No effect to the
original folder.) see @ref{dialog}.
@item V
Listing messages which have relationship with the current message. See
@ref{dialog}.
@item /
Listing messaged matched to a search condition on a folder. see @ref{search}.
@item k/
Listing messaged matched to a search condition from all folders. See
@ref{search}.
@end ifset
@end table


@c %%%%%%%%%%%%%%%%%
@node sorting, dialog, selection, Virtual
@ifset ja
@section ソート
@end ifset
@ifset en
@section Sorting
@end ifset
@vindex mew-sort-key-alist
@vindex mew-sort-default-key
@vindex mew-sort-default-key-alist
@kindex S (Summary)
@kindex M-s (Summary)

@ifset ja
メッセージをソートしセレクションを作成するには @samp{S} を使います。こ
のとき次のようにどのフィールドでソートするか訊いてくるので、ソートした
いフィールド名を入力して下さい。
@end ifset
@ifset en
To make selection by sorting messages, use @samp{S}. Then you will be
asked to input the field name as follows:
@end ifset

@example
Sort by? (default date): 
@end example

@ifset ja
指定したフィールドに書かれている文字列は単純に文字列比較でソートするべ
きではありません。たとえば、Subject: はテキストと考えてよいのですが、
Date: は日付、X-Mail-Count: は数字と考えてソートすべきです。このように
文字列をどう取り扱うかをモードといいます。ソートによく指定されるフィー
ルド名に対するモードは @samp{mew-sort-key-alist} で設定されています。
@end ifset
@ifset en
There are some cases where strings stored in the specified field should
not be compared as text. For example, while Subject: can be considered
as text, Date: and X-Mail-Count: should be treated as date and number,
respectively. In this way, we call the distinctions in methods of string
sorting "modes". Default modes for typical field names are configured
in @samp{mew-sort-key-alist}.
@end ifset

@ifset ja
ソートのモードを明示的に指定、変更したい場合には @samp{:} で区切って指定
します。たとえば X-Mail-Count: フィールドの内容を(テキストとしてではなく) 
数値とみなしてソートしたい場合には、次のように入力します。
@end ifset
@ifset en
When you want to specify the mode of sorting, the mode is followed by
@samp{:}. For example, to sort with the X-Mail-Count: field as
arithmetic value (not text), input like this:
@end ifset

@example
x-mail-count:num
@end example

@ifset ja
フィールド名やモードは @samp{TAB} で補完できます。
@end ifset
@ifset en
You can complete field names and modes with @samp{TAB}.
@end ifset

@ifset ja
モードには、以下の 4 つがあります。
@end ifset
@ifset en
Mew provides four modes for sorting:
@end ifset

@table @samp
@ifset ja
@item text
先頭の "Re: " や "Fw: " を取り除いた文字列。
@item ml
text と同じであるが、さらにメーリングリスト特有の文字列も取り除く。
@item num
数値。
@item date
日付。
@end ifset
@ifset en
@item text
String with preceding "Re: " and or "Fw: " removed.
@item ml
The same as text but preceding mailing-list-string removed.
@item num
Number.
@item date
Date.
@end ifset
@end table

@ifset ja
"Sort by?" と訊かれる際のフィールド名の初期値は、
@samp{mew-sort-default-key} で設定できます。以下は、初期値である"date"
を @w{"}x-ml-count" に変更する例です。
@end ifset
@ifset en
The default field name, your response to the prompt "Sort by?", can be
specified in @samp{mew-sort-default-key}. The following example changes
the default value from "date" to "x-ml-count".
@end ifset

@lisp
(setq mew-sort-default-key "x-ml-count")
@end lisp

@ifset ja
@samp{mew-sort-default-key-alist} で、フォルダごとにフィールド名の初期
値を設定することもできます。ここで指定しなかったフォルダでは、フィール
ド名の初期値として @samp{mew-sort-default-key} の値が使われます。以下は、
+inbox フォルダでの初期値を "subject" に、+mew-dist フォルダでの初期値
を @w{"}x-mail-count" に変更する例です。
@end ifset
@ifset en
You can also set a default field name for each folder by
@samp{mew-sort-default-key-alist}. For folders not explicitly specified
here, @samp{mew-sort-default-key} is used for their default field name.
The following is an example that specifies "subject" for the +inbox
folder and "x-mail-count" for the +mew-dist folder.
@end ifset

@lisp
(setq mew-sort-default-key-alist
      '(("+inbox" "subject")
        ("+mew-dist" "x-mail-count")))
@end lisp

@ifset ja
なお、ローカル・フォルダでメッセージを本当にソートするためには
@samp{M-s} を使って下さい。このコマンドは、リモート・フォルダでは利用で
きません。
@end ifset
@ifset en
To really sort messages in a local folder, use @samp{M-s}. This
command is not available in remote folders.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node dialog, search, sorting, Virtual
@ifset ja
@section 対話
@end ifset
@ifset en
@section Dialog
@end ifset
@kindex V (Summary)
@kindex kI (Summary)
@kindex C-ukI (Summary)

@ifset ja
Mew では、あるメッセージに関係するメッセージをさまざまなフォルダから集
めて仮想フォルダに一覧表示できます。これを「対話」と呼びましょう。後ほ
ど説明するスレッド(@xref{thread})とは、以下の点で異なります。
@end ifset
@ifset en
Mew can list messages which have relationship with the current
message. Let's call this "dialog". This is different from thread
described later in the following points:
@end ifset

@itemize @minus
@ifset ja

@item
スレッドは、1つのフォルダ/仮想フォルダに対してのみ作成できる。対話は、
関連するメッセージが複数のフォルダに散らばっていてもよい。

@item
スレッドは、行頭揃えによって木構造を可視化する。対話は、日付順に一覧表
示する。
@end ifset
@ifset en
@item
Thread can be made from one folder or one virtual folder. Messages
relating to dialog can ubiquitously exists in several folders.

@item
Thread visualizes tree structres with indentation. while dialog lists
up messages in order of time.
@end ifset
@end itemize

@ifset ja
対話の機能を使うには、まず @samp{kI} を実行し、データベースを作る必要が
あります。新しく届くメッセージはデータベースに入らないので、@samp{kI}
は定期的に実行して下さい。@samp{kI} は、データベースを差分更新します。
この方式は早いのですが、ゴミが残ることは避けられないので、ときどき
@samp{C-ukI} を実行し、データベースを一から作り直して下さい。
@end ifset
@ifset en
To use the feature of dialog, execute @samp{kI} to create
database. New messages are not automatically registered in to the
database, you should periodically execute @samp{kI}. @samp{kI} updates
the database incrementally by default. This method is fast but
garbages are left. So, sometime you should type @samp{C-ukI} to update
the database fully.
@end ifset

@ifset ja
対話を作成するには、注目しているメッセージの上で @samp{V} を押します。
このコマンドは、自分の子孫と、自分の先祖、そして自分だけを表示します。
自分の兄弟などは表示しません。一族全体を表示したいなら、一旦作った仮想
フォルダの一番上にあるメッセージ、すなわち一族の祖の上で、もう一度
@samp{V} を実行して下さい。
@end ifset
@ifset en
To make dialog, type @samp{V} on the current message. This command
displays him, his ancestors, and his children only. His brothers and
so on are not shown. If you display the entire of the family, type
@samp{V} again on the first message of the dialog, which is the origin
of the family.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node search, condition, dialog, Virtual
@ifset ja
@section 検索
@end ifset
@ifset en
@section Searching
@end ifset
@kindex ? (Summary)
@kindex C-u? (Summary)
@kindex / (Summary)
@kindex C-u/ (Summary)
@kindex k? (Summary)
@kindex k/ (Summary)
@kindex C-uk/ (Summary)

@ifset ja
Mew では、以下のようなメッセージの検索機能を提供しています。
@end ifset
@ifset en
Mew provides the following method to search messages:
@end ifset

@table @samp
@ifset ja
@item ?
現在のフォルダで、条件に合致したメッセージに @samp{*} マークを付ける。
入力された条件によって、@samp{mewl} か @samp{grep} のどちらかが呼ばれる。
@item C-u?
リージョンを指定した @samp{?}。
@item /
現在のフォルダで、条件に合致したメッセージからセレクションを作る。入力
された条件によって、@samp{mewl} か @samp{grep} のどちらかが呼ばれる。
@item C-u/
リージョンを指定した @samp{C-u/}。
@end ifset
@ifset en
@item ?
Put the @samp{*} mark onto messages in this folder, which are matched to a
specified pattern. Either @samp{mewl} or @samp{grep} is called
according to the specified pattern.
@item C-u?
@samp{?} with a region specified.
@item /
Make selection with messages in this folder, which are matched to a
specified pattern. Either @samp{mewl} or @samp{grep} is called
according to the specified pattern.
@item C-u/
@samp{/} with a region specified.
@end ifset
@end table

@ifset ja
また、Spotlight や Windows Desktop Search などの検索エンジンを利用した
検索も可能です。これには、以下のコマンドがあります。
@end ifset
@ifset en
We can also search messages with a search engine, including Spotlight,
Windows Desktop Search, etc. This feature is supported by the
following commands.
@end ifset

@table @samp
@ifset ja
@item k?
現在のフォルダで、条件に合致したメッセージに @samp{*} マークを付ける。
@item k/
全フォルダに対し、条件に合致したメッセージからセレクションを作る。
@item C-uk/
指定されたフォルダに対し、条件に合致したメッセージからセレクションを作
る。フォルダを複数指定するには "," で区切る。ワイルドカードとして、"*"
を利用できる。
@end ifset
@ifset en
@item k?
Put the @samp{*} mark onto messages in this folder, which are matched to a
specified pattern. 
@item k/
Make selection with messages in all folders, which are matched to a
specified pattern.
@item C-uk/
Make selection with messages in specified folders, which are matched
to a specified pattern. If you want to specify multiple folders,
separate them with ",". You can also use a wildcar "*".
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node condition, dbsearch, search, Virtual
@ifset ja
@section 検索条件の入力方法
@end ifset
@ifset en
@section How to input search conditions
@end ifset
@vindex mew-pick-pattern-list
@vindex mew-prog-grep
@vindex mew-prog-grep-opts

@ifset ja
@samp{?} や @samp{/} を実行すると、Mew はユーザに対し以下のように検索の
パターンを訊きます。
@end ifset
@ifset en
If you type @samp{?} or @samp{/}, Mew asks you to input search pattern
as follows:
@end ifset

@example
mewl/grep pick pattern: 
@end example

@ifset ja
単純に「文字列」を 1 つ入力すると、Mew は @samp{grep} を呼び出します。ま
た、「条件式」を入力すると、@samp{mewl} を呼び出します。
@end ifset
@ifset en
If you specify just a keyword, Mew executes @samp{grep}.
On the contrast if you type an expression, Mew calls @samp{mewl}.
@end ifset

@ifset ja
条件式の書式を以下に示します。(結合力の強い順に並んでいます。)
@end ifset
@ifset en
Here is a list of expression elements. (In the strong order)
@end ifset

@table @samp
@ifset ja
@item field=string
フィールド field に文字列 string が含まれているときマッチ(大文字小文字を
区別しない)。field に "head" を指定した場合は、ヘッダ全体を意味する。
@item field==string
フィールド field に文字列 string が含まれているときマッチ(大文字小文字を
区別する)。field に "head" を指定した場合は、ヘッダ全体を意味する。
@item field!=string
フィールド field に文字列 string が含まれていないときマッチ(大文字小文字
を区別しない)。field に "head" を指定した場合は、ヘッダ全体を意味する。
@item field!==string
フィールド field に文字列 string が含まれていないときマッチ(大文字小文字
を区別する)。field に "head" を指定した場合は、ヘッダ全体を意味する。
@item ( <pattern> )
<pattern> の内容を先に評価。
@item ! <pattern>
<pattern> でないときマッチ。
@item <pattern1> & <pattern2>
<pattern1> かつ <pattern2> のときマッチ。省略可能。
@item <pattern1> | <pattern2>
<pattern1> または <pattern2> のときマッチ。
@end ifset
@ifset en
@item field=string
Match if the "field" field contains the "string" string
(case-insensitive). If you specify "head", it means the entire header.
@item field==string
Match if the "field" field contains the "string" string
(case-sensitive). If you specify "head", it means the entire header.
@item field!=string
Match if the "field" field does not the "string" string
(case-insensitive). If you specify "head", it means the entire header.
@item field!==string
Match if the "field" field does not the "string" string
(case-sensitive). If you specify "head", it means the entire header.
@item ( <pattern> )
Evaluate <pattern> first.
@item ! <pattern>
Match if not <pattern>.
@item <pattern1> & <pattern2>
Match if <pattern1> AND <pattern2>. You can omit this.
@item <pattern1> | <pattern2>
Match if <pattern1> OR <pattern2>.
@end ifset
@end table

@ifset ja
以下に例を示します。
@end ifset
@ifset en
Some examples are shown below.
@end ifset

@ifset ja
(a) From: に kazu が含まれるメッセージ
@end ifset
@ifset en
(a) Messages whose From: contains "kazu".
@end ifset

@example
from=kazu
@end example

@ifset ja
(b) To: が mew、または、Cc: が mew であるメッセージ
@end ifset
@ifset en
(b) Messages whose To: contains "mew" OR Cc: contains "mew".
@end ifset

@example
to=mew | cc=mew
@end example

@ifset ja
(c) To: が mew、または、Cc: が mew で、かつ、from が kazu である
メッセージ
@end ifset
@ifset en
(c) Messages whose To: contains "mew" OR Cc: contains "mew" AND
From: contains "kazu".
@end ifset

@example
(to=mew | cc=mew) & from=kazu
@end example

@ifset ja
@samp{?} や @samp{/} で、パターンに入力の際に単純に @samp{RET} を押すと、
以下のように利用するコマンドまで入力できるようになります。
@end ifset
@ifset en
When you execute @samp{?} or @samp{/} and if you just type @samp{RET}
to a pattern, you can specify a command to be executed.
@end ifset

@example
Cmd opts pattern: grep -l -e 
@end example

@ifset ja
@samp{k?} や @samp{k/} で検索エンジンを利用する場合は、上記のパターン(文字
列や条件式)が自動的に検索エンジンの書式に変換されます。
@end ifset
@ifset en
When you use an search engine with @samp{k?} or @samp{k/}, the pattern
(including just a keyword and an expression) will be converted to the
syntax of the search engine.
@end ifset

@ifset ja
たとえば、kazu から来たメールで、「wine」を含み、かつ「bordeaux」を含ま
ないという条件式は以下のように書きます。
@end ifset
@ifset en
For example, you can write an expression, that From: is "kazu" and
body contains "wine" but does not contain "bordeaux", as follows:
@end ifset

@example
from=kazu wine ! bordeaux
@end example

@ifset ja
なお、@samp{mew-pick-pattern-list} にパターンのリストを定義しておくと、
@samp{C-cTAB} で各要素を循環的に補完できます。この場合、リストの先頭が
デフォルトとして表示されます。
@end ifset
@ifset en
If you set @samp{mew-pick-pattern-list} to a list of pattern, you can
enjoy circular completion with @samp{C-cTAB}. In this case, the first
member is displayed as a default value.
@end ifset

@ifset ja
日本語の全文検索をしたい場合は、("grep" の代わりに) "mg" をインストール
し、以下のように設定して下さい。

@lisp
(setq mew-prog-grep "mg")
(setq mew-prog-grep-opts '("-j" "jis" "-l" "-e" "-x" "&mime"))
@end lisp
@end ifset

@c %%%%%%%%%%%%%%%%%
@node dbsearch, keyword, condition, Virtual
@ifset ja
@section 検索エンジン
@end ifset
@ifset en
@section Search Engine
@end ifset
@kindex km
@kindex kM
@kindex kc
@vindex mew-search-method

@ifset ja
検索エンジンを操作するために以下のコマンドが用意されています。
@end ifset
@ifset en
To operate search engines, the following commands are provided:
@end ifset

@table @samp
@ifset ja
@item km
そのフォルダのインデックスを作る。
@item kM
全体のフォルダのインデックスを作る。あるいは、作るために初期化する。
@item kc
検索エンジンを切り替える。
@end ifset
@ifset en
@item km
Make index for the current folder.
@item kM
Make index for all folders.
@item kc
Switch one search engine to another.
@end ifset
@end table

@ifset ja
以下に、それぞれの検索エンジンの説明を示します。
@end ifset
@ifset en
The followings are expiation of each search engines.
@end ifset

@table @samp
@ifset ja
@item Hyper Estraier
定期的に @samp{kM} を実行する必要があります。コマンドラインで、
"mewest" を実行しても構いません。あるフォルダのインデックスを急いで更新
したいなら @samp{km} でもよいでしょう。@samp{k?} と@samp{k/} の両方が利
用できます。@samp{C-uk/}でフォルダを指定すると、サブディレクトリも検索
になります。
@item Spotlight
一度だけ @samp{kM} を実行する必要があります。@samp{km} は必要ありません。
@samp{k?} と @samp{k/} の両方が利用できます。
@item Windows Desktop Search
一度だけ @samp{kM} を実行する必要があります。@samp{km} は必要ありません。
@item Google Desktop
一度だけ @samp{kM} を実行する必要があります。@samp{km} は必要ありません。
@samp{k/} のみが利用できます。
@end ifset
@ifset en
@item Hyper Estraier
Type @samp{kM} periodically. It's OK to execute "mewest" on the
command line instead. If you want to update the index for the current
folder quickly, you can use @samp{km}. Both @samp{k?} and @samp{k/}
are available. When you specify folders with @samp{C-uk/},
sub-folders, if any, are included in the target.
@item Spotlight
Type @samp{kM} just once. @samp{km} is not necessary. Both @samp{k?}
and @samp{k/} are available.
@item Windows Desktop Search
Type @samp{kM} just once. @samp{km} is not necessary.
@item Google Desktop
Type @samp{kM} just once. @samp{km} is not necessary. Only @samp{k/}
is available.
@end ifset
@end table

@ifset ja
検索エンジンの初期値は、最初に見つかった利用できるものに自動的に設定さ
れます。明示的に指定したい場合は、@samp{mew-search-method}
に'est、'spotlight、'wds, 'google のどれかを指定して下さい。以下は、
Hyper Estraier に設定する例です。
@end ifset
@ifset en
The default search engine is automatically set to the one found first.
If you explicitly specify it, set @samp{mew-search-method} to one out
of 'est, 'spotlight, 'wds, and 'google. The following is an example to
choose Hyper Estraier.
@end ifset

@lisp
(setq mew-search-method 'est)
@end lisp

@c %%%%%%%%%%%%%%%%%
@node keyword, thread, dbsearch, Virtual
@ifset ja
@section キーワードの強調
@end ifset
@ifset en
@section Highlighting a keyword
@end ifset
@kindex M-n (Summary)
@kindex C-uM-n (Summary)
@kindex M-p (Summary)
@kindex C-uM-p (Summary)

@ifset ja
検索に使ったキーワードは、バッファに保存されています。メッセージを表示
し、さらにキーワードをハイライトすることができます。この機能を提供する
コマンドは以下の通りです。
@end ifset
@ifset en
The keyword which you specified on search is shorted in a buffer. You
can display messages with the keyword highlighted. The commands to
enable this functionality are as follows:
@end ifset

@table @samp
@ifset ja
@item M-n
下方向のメッセージへ移動しキーワードをハイライトして表示。Summary モー
ドでは @samp{*} マークのついたメッセージが、Virtual モードではすべての
メッセージが対象となる。このコマンドを繰り返し利用すると、キーワードの
付近が次々と表示されていく。キーワードが設定されていないなら、ユーザ
にキーワードを訊く。
@item C-uM-n
キーワードを明示的に設定できること以外は、@samp{M-n} に同じ。
@item M-p
@samp{M-n} を逆方向にしたコマンド。
@item C-uM-p
@samp{C-uM-n} を逆方向にしたコマンド。
@end ifset
@ifset en
@item M-n
Display a message in the forward direction and find a keyword and
highlight it. In Summary mode, the target is messages marked with
@samp{*}. In Virtual mode, it is all messages. If you repeat this
command, text around the keyword is displayed from one to another. If
no key word is set to the variable, this command first asks you a
keyword.
@item C-uM-n
The same as @samp{M-n} except that you can change the stored keyword
explicitly.
@item M-p
A reverse version of @samp{M-n}.
@item C-uM-p
A reverse version of @samp{C-uM-n}.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node thread, thread-op, keyword, Virtual
@ifset ja
@section スレッド
@end ifset
@ifset en
@section Thread
@end ifset
@vindex mew-use-thread-separator
@vindex mew-thread-separator
@kindex tt (Summary)
@kindex C-utt (Summary)
@kindex mt (Summary)
@kindex tr (Summary)
@kindex tp (Virtual)
@kindex tn (Virtual)
@kindex ^ (Virtual)
@kindex & (Virtual)
@kindex ( (Virtual)
@kindex ) (Virtual)
@kindex t* (Virtual)
@kindex t@ (Virtual)
@kindex td (Virtual)
@kindex tM-d (Virtual)
@kindex to (Virtual)
@kindex tu (Virtual)
@kindex tSPC (Virtual)
@kindex ta (Virtual)
@kindex tg (Virtual)

@ifset ja
メッセージをやりとりしていると、対話の流れは木構造になります。これを行
頭揃えにより可視化したものをスレッドと呼びます。以下にスレッドの例を示
します。
@end ifset
@ifset en
When in the process of exchanging messages, the relationship of the
messages is presented in a tree structure. Visualization of the structure
with indentation is called thread. Here is an example:
@end ifset

@example
@ifset ja
  03/12 Hidenori Ohta  今週末                    |日曜にストーンマジック
  03/13 かずくん       ┣Re: 今週末              |雨なので、中にしますか
  03/15 Hidenori Ohta  ┃┗Re: 今週末            |それでは、12:00 に集合
  03/14 おだちゃん     ┗Re: 今週末              |いいねぇ。次はあれを落
@end ifset
@ifset en
  03/12 Hidenori Ohta  This weekend              |Let's go to StoneMagic
  03/13 Kazu-kun        +Re: This weekend        |Since it'll be rainy, 
  03/15 Hidenori Ohta   | +Re: This weekend      |OK. Get together at 12
  03/14 Oda-chan        +Re: This weekend        |Sounds lovely. I'd lik
@end ifset
@end example

@ifset ja
スレッドは仮想フォルダとして実現されています。たとえば、+inbox に対しス
レッドを作ると、*+inbox* というバッファが用意されます。
@end ifset
@ifset en
The thread feature is implemented as virtual folder. For instance, if
you make threads for +inbox, a buffer *+inbox* is prepared.
@end ifset

@ifset ja
スレッドを作るために、以下のコマンドが用意されています。
@end ifset
@ifset en
To make thread, the following commands exist.
@end ifset

@table @samp
@ifset ja
@item tt
Summary モード、あるは、セレクションからスレッドを作る。そして、カーソ
ルを現在のメッセージに移動する。もし、対応するスレッドがすでに存在して
いるなら、スレッドに表示を切り替える。スレッドで使用された際は、元のフォ
ルダへ移り、カーソルを現在のメッセージへ移動する。
@item C-utt
リージョンに対し、スレッドを作る。
@item mt
@samp{*} マークの付いているメッセージに対し、スレッドを作る。
@item tr
正規表現に合致したメッセージに対し、スレッドを作る。
@end ifset
@ifset en
@item tt
Make threads from Summary mode or selection and move the cursor to the
current message. If corresponding threads already exist, switch to the
Virtual mode. When this command is executed on threads, switch to the
original folder and move the cursor to the current message.
@item C-utt
Make threads for messages in the region.
@item mt
Make threads for messages marked with @samp{*}.
@item tr
Make threads for messages matched to a regular expression.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node thread-op, Quit, thread, Virtual
@ifset ja
@section スレッドの操作
@end ifset
@ifset en
@section Thread operations
@end ifset

@ifset ja
スレッドに特化した移動コマンドを以下に示します。
@end ifset
@ifset en
Here are the commands used for moving to thread presentation.
@end ifset

@table @samp
@ifset ja
@item tp
現在のスレッドの頭に移動する。もし、あるスレッドの頭にカーソルがある場合
は、前のスレッドの頭に移動する。
@item tn
次のスレッドの頭に移動する。
@item ^
親のメッセージに移動する。(スレッドでなくても利用可能)
@item &
長男のメッセージに移動する。(スレッドでなくても利用可能)
@item (
兄のメッセージに移動する。
@item )
弟のメッセージに移動する。
@end ifset
@ifset en
@item tp
Move to the top of the current thread. If the current message is a top
node, move to the top of the next thread.
@item tn
Move to the top of the next thread.
@item ^
Move to the parent message of the current message. (Available in both
Summary and Virtual)
@item &
Move to the child message of the current message. (Available in both
Summary and Virtual)
@item (
Search backward by one sibling message of the current message.
@item )
Search forward by one sibling message of the current message.
@end ifset
@end table


@ifset ja
スレッドにマークを付けるコマンドを以下に示します。
@end ifset
@ifset en
Here are commands to mark messages in a thread.
@end ifset

@table @samp
@ifset ja
@item t*
現在のメッセージを頭とする部分木に属するメッセージすべてに @samp{*} マー
クを付ける。詳しくは @xref{target mark} を参照のこと。
@item t$
現在のメッセージを頭とする部分木に属するメッセージすべてに @samp{$} マー
クを付ける。詳しくは @xref{escape mark} を参照のこと。
@item td
現在のメッセージを頭とする部分木に属するメッセージすべてに @samp{D} マー
クを付ける。詳しくは @xref{delete mark} を参照のこと。
@item tM-d
現在のメッセージを頭とする部分木に属するメッセージすべてに @samp{X} マー
クを付ける。詳しくは @xref{delete mark} を参照のこと。
@item to
現在のメッセージを頭とする部分木に属するメッセージすべてに @samp{o} マー
クを付ける。詳しくは @xref{refile mark} を参照のこと。
@end ifset
@ifset en
@item t*
Put the @samp{*} mark all messages of the current sub-thread. Please
refer to @ref{target mark} for more information.
@item t$
Put the @samp{$} mark all messages of the current sub-thread. Please
refer to @ref{escape mark} for more information.
@item td
Put the @samp{D} mark all messages of the current sub-thread. Please
refer to @ref{delete mark} for more information.
@item tM-d
Put the @samp{X} mark all messages of the current sub-thread. Please
refer to @ref{delete mark} for more information.
@item to
Put the @samp{o} mark all messages of the current sub-thread. Please
refer to @ref{refile mark} for more information.
@end ifset
@end table

@ifset ja
スレッドからマークを消すコマンドは、@samp{tu} です。
@end ifset
@ifset en
A command to unmark all messages of the current sub-thread is @samp{tu}.
@end ifset


@ifset ja
以下に、スレッドを加工するコマンドを示します。
@end ifset
@ifset en
Here are commands to manipulate a thread:
@end ifset

@table @samp
@ifset ja
@item tSPC
子供以下を隠して親だけにする。子供以下が隠れている親メッセージには、
"+" が付く。また、子供以下が隠れている親メッセージでこのコマンドを実行
すると、子供以下が現れる。
@item ta
すべてのスレッドに対し、子供の表示を反転させる。
@item tg
あるスレッドをあるメッセージに接ぎ木する。接ぎ木するスレッドは、
@samp{C-SPC} で指定する。目的のスレッドの一番上のメッセージで、
@samp{C-SPC} を押すと、そのスレッドが選択されたことになる。そして目的の
メッセージへ移動し、@samp{tg} を押すと、スレッドがこのメッセージの子供
として接ぎ木される。
@end ifset
@ifset en
@item tSPC
Hide children and leave the parent only. If its children are hidden,
"+" is displayed on the parent. Also, if this command is executed on a
message whose children are hidden, they appear.
@item ta
Toggle appearance of children for all threads.
@item tg
Graft a thread to a message. To specify which thread is grafted, type
@samp{C-SPC} on the root of the thread. Then move onto your target
message, and typing @samp{tg} grafts the thread to the target message
as children.
@end ifset
@end table


@ifset ja
なお、@samp{mew-use-thread-separator} を @samp{t} にすると、スレッド間
に境界文字列として @samp{mew-thread-separator} (初期値は "--") が挿入さ
れます。
@end ifset
@ifset en
If @samp{mew-use-thread-separator} is @samp{t}, threads are
distinguished by a separator defined by @samp{mew-thread-separator}
(its default value is @w{"}--").
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Quit
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Quit, Customize, thread-op, Top
@ifset ja
@chapter 一休み
@end ifset
@ifset en
@chapter Give me a break
@end ifset
@kindex q (Summary)
@kindex Q (Summary)
@kindex C-cC-q (Summary)
@kindex C-cC-q (Draft)
@kindex C-cC-q (Header)
@kindex C-cC-q (Addrbook)

@ifset ja
Mew を終了させたり、一時中断させたり、そのモード(正確にはバッファ)を消去
する方法を以下に示します。
@end ifset
@ifset en
Here are how to quit and suspend Mew and how to erase a mode (buffer).
@end ifset

@ifset ja
<Summary モードと Virtual モード>
@end ifset
@ifset en
<Summary mode and Virtual mode>
@end ifset

@table @samp
@ifset ja
@item q
Mew を一時中断し、他のバッファに切り替える。Mew 用のバッファはすべて残っ
ているので、バッファ操作で選べば再開できる。
@item Q
Mew を終了。Mew が使ったすべてのバッファを消去する。
@item C-cC-q
そのモード(正確にはバッファ)を消去する。
@end ifset
@ifset en
@item q
Suspend Mew then switch to another buffer. All buffers of Mew remain, so
you can resume with buffer operations.
@item Q
Quit Mew. All buffers of Mew are erased.
@item C-cC-q
Erase the current mode (buffer).
@end ifset
@end table

@ifset ja
<Draft モードと Header モード>
@end ifset
@ifset en
<Draft mode and Header mode>
@end ifset

@table @samp
@ifset ja
@item C-cC-q
その草稿を消去する。
@end ifset
@ifset en
@item C-cC-q
Erase the draft.
@end ifset
@end table

@ifset ja
<Addrbook モード>
@end ifset
@ifset en
<Addrbook mode>
@end ifset

@table @samp
@ifset ja
@item C-cC-q
そのバッファを消去する。
@end ifset
@ifset en
@item C-cC-q
Erase the buffer.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Customize
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Customize, summary-mode, Quit, Top
@ifset ja
@chapter カスタマイズ
@end ifset
@ifset en
@chapter Customizing Mew
@end ifset

@ifset ja
ここでは、Mew のデフォルトの動作を変更し、自分好みの Mew にする方法を説
明します。主に "~/.mew.el" で設定して下さい。
@end ifset
@ifset en
Here are explained how to change default setting of Mew and make Mew
your favorite. Edit "~/.mew.el" to do it!
@end ifset

@menu
@ifset ja
* summary-mode::                Summary mode
* message-mode::                Message mode
* draft-mode::                  Draft mode
* charset::                     文字コード
* highlight::                   色付け
* hooks::                       フック
* pop::                         POP
* imap::                        IMAP
* nntp::                        NNTP
* smtp::                        SMTP
* config::                      送受信の動作変化
* config2::                     設定の書式
* custom-misc::                 その他
@end ifset
@ifset en
* summary-mode::                Summary mode
* message-mode::                Message mode
* draft-mode::                  Draft mode
* charset::                     Character set
* highlight::                   Highlighting
* hooks::                       Hooks
* pop::                         POP
* imap::                        IMAP
* nntp::                        NNTP
* smtp::                        SMTP
* config::                      Changing receiving/sending behavior
* config2::                     The format of configuration
* custom-misc::                 Miscellaneous
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node summary-mode, message-mode, Customize, Customize
@ifset ja
@section Summary mode
@end ifset
@ifset en
@section Summary mode
@end ifset
@vindex mew-summary-form
@vindex mew-summary-form-from-me-prefix
@vindex mew-summary-form-extract-rule
@vindex mew-summary-form-mark-delete
@vindex mew-summary-form-mark-spam
@vindex mew-summary-form-mark-review
@vindex mew-use-full-window
@vindex mew-summary-show-direction
@vindex mew-summary-mark-direction

@ifset ja
Summary モードの書式は、@samp{mew-summary-form} で指定できます。以下に
初期値を示します。
@end ifset
@ifset en
You can specify the format of Summary mode by @samp{mew-summary-form}.
The default value is as follows:
@end ifset

@lisp
(setq mew-summary-form '(type (5 date) " " (14 from) " " t (30 subj) "|" (0 body)))
@end lisp

@ifset ja
このように、@samp{mew-summary-form} は、リスト、シンボル、文字列のリストで
す。
@end ifset
@ifset en
Like this, @samp{mew-summary-form} is a list of list, symbol, and string.
@end ifset

@enumerate
@ifset ja
@item
文字列はそのまま出力される
@item
リストは、整数とシンボルから構成される。シンボルは、呼び出す関数を意味す
る。関数名は、"mew-summary-form-" とシンボル名を連結することで作られる。
(例： 'date というシンボルは、@samp{mew-summary-form-date} という関数名
になる) あらかじめ定義されているシンボルには、'type、'time、'date、'year、
'size、'from、'subj、'body がある。詳細は、
@samp{mew-summary-form-<symbol>} という名を持つ関数の説明を参照のこと。
整数は、関数が返す文字列が埋めるフィールドの幅を指定する。正の数は、左詰
めを意味する。負の数は、右詰めを意味する。もし、負の数を指定する場合、対
応する関数は ASCII 文字列を返す必要がある。0 は、行の残りを意味し、左詰
めとなる。
@item
@samp{t} 以外のシンボルは、(1 シンボル) に等しい。
@item
@samp{mew-summary-form} は、利用される際に先頭に (mark) が付け加えられる。
@item
@samp{t} は、スレッドの際に段付けする位置を意味する。
@end ifset
@ifset en
@item
A string is printed as it is.
@item
A list consists of an integer and a symbol. The symbol specifies a
function to be called. The name of the function is produced by
concatenating "mew-summary-form-" and the symbol name.
(e.g. @samp{mew-summary-form-date} for the symbol 'date'). Pre-defined
symbols are 'type, 'time, 'date, 'year, 'size, 'from, 'subj and
'body. For more details, see the explanation of the functions called
@samp{mew-summary-form-<symbol>}. The integer specifies the width of
field which will be filled with a return string of the function. A
positive value means padding SPCs on the right if necessary. A negative
value means padding SPCs on the left if necessary. If a negative value
is specified, the corresponding function must return an ASCII string. 0
means the remaining width of the line and is treated as a positive
value.
@item
A symbol is equivalent to (1 symbol).
@item
'(mark) is appended to @samp{mew-summary-form} when used.
@item
@samp{t} means the position of thread indentation.
@end ifset
@end enumerate

@ifset ja
例を以下に示します。
@end ifset
@ifset en
An example is as follows:
@end ifset

@lisp
(setq mew-summary-form
      '(type (5 date) " " (-4 size) " " (14 from) " " t (30 subj) "|" (0 body)))
@end lisp

@ifset ja
@samp{mew-summary-form-from-me-prefix} は、自分から送信されたメッセージの宛
先の先頭に加えられる文字列です。初期値は "To:" です。
@end ifset
@ifset en
@samp{mew-summary-form-from-me-prefix} is the prefix to be prepend to an
destination address if the message is originated by me. The default is
@w{"}To:".
@end ifset

@ifset ja
@samp{mew-summary-form-extract-rule} は、From: フィールドからどの部分を切り
出すか指定するためのリストです。要素は、'name、'comment、'address、
'nickname、あるいは正規表現である必要があります。初期値は '(nickname) で
す。
@end ifset

@ifset en
@samp{mew-summary-form-extract-rule} is a list to specify what part to
extract from the From: field. Each element must be 'name, 'comment,
'address, 'nickname, or appropriate "regex". The default value is
'(nickname).
@end ifset

@ifset ja
次の例を考えて下さい。
@end ifset
@ifset en
Consider the following examples:
@end ifset

@example
A: Kazu Yamamoto <kazu@@example.org>
B: kazu@@example.org (Kazu Yamamoto)
C: Kazuhiko Yamamoto (Kazu) <kazu@@example.org>
@end example

@ifset ja
それぞの要素は、以下のような意味を持ちます。
@end ifset
@ifset en
Each element returns the following value:
@end ifset

@enumerate
@ifset ja
@item
'name:: 名前の部分
@example
A. Kazu Yamamoto
B. (No match)
C. Kazuhiko Yamamoto (Kazu)
@end example
@item
'comment:: コメントの部分
@example
A: (No match)
B: Kazu Yamamoto
C: (Kazu)
@end example
@item
'address:: アドレスの部分
@example
A: kazu@@example.org
B: kazu@@example.org
C: kazu@@example.org
@end example
@item
'nickname:: @samp{mew-addrbook-for-summary} の値に応じたアドレス帳の個人
情報のある要素。@samp{mew-addrbook-for-summary} の初期値は
@samp{'nickname} なので、通常はニックネームに変換される。何が指定できる
かは、@xref{draft-mode} を参照のこと。
@item
(regex):: 最初に合致した文字列
@end ifset
@ifset en
@item
'name:: Name part, if any
@example
A. Kazu Yamamoto
B. (No match)
C. Kazuhiko Yamamoto (Kazu)
@end example
@item
'comment:: Comment part, if any
@example
A: (No match)
B: Kazu Yamamoto
C: (Kazu)
@end example
@item
'address:: Address part
@example
A: kazu@@example.org
B: kazu@@example.org
C: kazu@@example.org
@end example
@item
'nickname:: one element of personal information in Addrbook according to
@samp{mew-addrbook-for-summary}. The default value of
@samp{mew-addrbook-for-summary} is @samp{'nickname}. So, From: is
converted a nickname by default. To know what kind of value can be used,
refer to @ref{draft-mode}.
@item
(regex):: The substring first matched.
@end ifset
@end enumerate

@ifset ja
ある要素が合致しない場合、次の要素が評価されます。どの要素も From: フィー
ルドに合致しない場合か、この値が @samp{nil} の場合、From: フィールド全体
が利用されます。
@end ifset
@ifset en
If a element does not match, the next element is applied. If no element
matches to the From: field, or this value is @samp{nil}, the whole of
the From: field is used.
@end ifset


@ifset ja
@samp{mew-summary-form-mark-delete} が @samp{t} の場合、重複しているメッセー
ジに自動的に @samp{D} マークが付きます。初期値は @samp{nil} です。
@end ifset
@ifset en
If @samp{mew-summary-form-mark-delete} is @samp{t}, the @samp{D} mark
automatically is put onto duplicated messages. The default is
@samp{nil}.
@end ifset


@ifset ja
@samp{mew-summary-form-mark-spam} が @samp{t} の場合、本文の一部に対す
る MD5 チェックサムが一致しているメッセージに自動的に @samp{D} マークが
付きます。初期値は @samp{nil} です。
@end ifset
@ifset en
If @samp{mew-summary-form-mark-spam} is @samp{t}, the @samp{D} mark
automatically is put onto SPAM messages. A message is considered a
SPAM message if the MD5 checksum of its body is duplicated in a
scan. The default is @samp{nil}.
@end ifset

@ifset ja
@samp{mew-summary-form-mark-review} が @samp{t} の場合、自分宛てのメッセー
ジに自動的に @samp{*} マークが付きます。初期値は @samp{nil} です。
@end ifset
@ifset en
If @samp{mew-summary-form-mark-review} is @samp{t}, the @samp{*} mark
automatically is put onto messages destined to me. The default is
@samp{nil}.
@end ifset


@ifset ja
いつも Emacs のフレーム全体で Mew を使いたい人は、以下の設定をして下さい。
@end ifset
@ifset en
If you want to use Mew with full Emacs frame, set like this.
@end ifset

@lisp
(setq mew-use-full-window t)
@end lisp


@ifset ja
Summary モードの @samp{SPC} は、@samp{mew-summary-show-direction} によっ
て、次のメッセージの表示の仕方が変わります。また同様に、強いマークを付け
た後カーソルが動く方向は @samp{mew-summary-mark-direction} により指定で
きます。以下の値を設定できます。
@end ifset
@ifset en
@samp{SPC} in Summary mode decide the next action to view a message
according to @samp{mew-summary-show-direction}. Likewise, you can
specify the cursor direction after putting a strong mark by
@samp{mew-summary-mark-direction}. You can select one from the following
candidates.
@end ifset

@table @samp
@ifset ja
@item up 
上のメッセージを表示する。
@item down 
下のメッセージを表示する。
@item next
読み進めている方向の次のメッセージを表示する。
@item stop
次は表示しない。
@end ifset
@ifset en
@item up 
Display the message above.
@item down 
Display the message below.
@item next
Display the next message in the direction.
@item stop
Do not display the next message.
@end ifset
@end table

@ifset ja
両方とも初期値は @samp{next} です。いつもメッセージを下から読む人は、以
下のようにすればよいでしょう。
@end ifset
@ifset en
The default value for both is @samp{next}. If you read messages from the
bottom, set as follows:
@end ifset

@lisp
(setq mew-summary-show-direction 'up)
@end lisp

@c %%%%%%%%%%%%%%%%%
@node message-mode, draft-mode, summary-mode, Customize
@ifset ja
@section Message mode
@end ifset
@ifset en
@section Message mode
@end ifset
@kindex C-cC-e (Summary)
@kindex C-uC-cC-e (Summary)
@kindex zz (Summary)
@vindex mew-prog-text/html-ext
@vindex mew-prog-msword-ext
@vindex mew-prog-msexcel-ext
@vindex mew-prog-mspowerpoint-ext
@vindex mew-prog-msword
@vindex mew-prog-msexcel
@vindex mew-prog-mspowerpoint
@vindex mew-mime-multipart-alternative-list

@ifset ja
Emacs がサポートしてないデータ型のファイルは、Message バッファに直接表
示できません。そのデータをテキストに整形する外部コマンドをインストール
すれば、Message バッファに表示可能になります。
@end ifset
@ifset en
It is impossible to display a file to the Message buffer if its data
type is not supported by Emacs. Install an external program which
converts the data to text and you can display the file to the Message
buffer.
@end ifset

@ifset ja
@w{"}w3m" と "emacs-w3m" をインストールすると、Text/Html を Message バッ
ファに表示できるようになります。(以下で説明する "wvHtml"、"xlhtml"、
"ppthtml" は、単なる "w3m" ではなく、国際化された "w3m-m17n" が必要で
す。) 両者をインストールしたら、"~/.mew.el" に以下の設定を加えて下さい。
@end ifset
@ifset en
If you install "w3m" and "emacs-w3m", Text/Html can be displayed in
Message mode. (Please note that multilingualized "w3m", not pure
@w{"}w3m", is necessary for "wvHtml", "xlhtml", and "ppthtml"
described below.)  When you install both of them, add the following to
"~/.mew.el'.
@end ifset

@lisp
(condition-case nil
    (require 'mew-w3m)
  (file-error nil))
@end lisp

@ifset ja
これで、あたかも Text/Plain であるかのように、Text/Html を Message バッ
ファに表示できるようになります。この際も、以下で説明する @samp{C-cC-e}
の操作は有効です。
@end ifset
@ifset en
With this, Text/Html can be displayed in Message mode as if it were
Text/Plain. Even in this situation, @samp{C-cC-e} described below is a
valid operation.
@end ifset

@ifset ja
"wvHtml"、"xlhtml"、"ppthtml" というコマンドをインストールすれば、それ
ぞれ WORD、Excel、PowerPoint ファイルのテキスト部分を、Message バッファ
に表示可能です。これらのコマンドは、HTML を利用するので、上記の
Text/Html の設定を完了させて下さい。これで、たとえば WORD ファイルをあ
たかもテキストのように、Message バッファに表示可能になります。
@end ifset
@ifset en
If you install "wvHtml", "xlhtml", and "ppthtml", you can display text
parts of WORD, Excel, and PowerPoint file in Message,
respectively. Since these commands uses HTML, the configuration of
Text/Html above is required. With this, a WORD file, for example, can
be displayed in Message mode as if it were text.
@end ifset

@ifset ja
外部のプログラムの整形結果を Message バッファに表示する代わりに、外部の
プログラム自身にそのデータを表示させることもできます。これには
@samp{C-cC-e} を使います。
@end ifset
@ifset en
You can display the file with an external application itself instead
of displaying it in the Message buffer. For this, type @samp{C-cC-e}.
@end ifset

@ifset ja
Message バッファに画像を表示することもできます。また @samp{C-cC-e} を使
い、外部のプログラムに表示させることも可能です。
@end ifset
@ifset en
You can visualize an image file into the Message buffer. Also, you can
display it with an external application by typing @samp{C-cC-e}, of
course.
@end ifset

@ifset ja
HTML は @samp{C-cC-e} を使って外部のブラウザに表示できます。Windows や
Mac ではデフォルトのブラウザが利用されます。Unix では、以下のように
"mozilla" が初期値となっています。
@end ifset
@ifset en
You can display an HTML file to a browser with @samp{C-cC-e}. A
default browser is used on Windows and Mac. On Unix, "mozilla" is set
to a default browser as follows:
@end ifset

@lisp
(defvar mew-prog-text/html-ext '("mozilla" ("-remote" "openFile(%s)") t))
@end lisp

@ifset ja
たとえば、これを "firefox" に変更するには以下のようにします。
@end ifset
@ifset en
If you want to set it to "firefox", for example, configure like this:
@end ifset

@lisp
(setq mew-prog-text/html-ext
      '("firefox" ("-a" "firefox" "-remote" "openFile(%s)") t))
@end lisp

@ifset ja
Office 関連のファイルも、@samp{C-cC-e} を使えば、それぞれのアプリケーショ
ンで表示可能です。Windows や Mac では、文字通り Office のアプリケーショ
ンが起動されます。Unix では、以下のように "ooffice" が初期値となってい
ます。
@end ifset
@ifset en
You can visualize an Office-family file to each application by typing
@samp{C-cC-e}. On Windows and Mac, an Office-family application is
executed. On Unix, "ooffice" is set to the default application as
follows:
@end ifset

@lisp
(defvar mew-prog-msword-ext "ooffice")
(defvar mew-prog-msexcel-ext "ooffice")
(defvar mew-prog-mspowerpoint-ext "ooffice")
@end lisp

@ifset ja
これを "soffice" に変更するには以下のようにします。
@end ifset
@ifset en
If you want to set it to "soffice", for instace, do like this:
@end ifset

@lisp
(setq mew-prog-msword-ext "soffice")
(setq mew-prog-msexcel-ext "soffice")
(setq mew-prog-mspowerpoint-ext "soffice")
@end lisp

@ifset ja
また Office 関連のアプリケーションに対し、@samp{SPC} などでは内容を表示
せず、@samp{C-cC-e} では "wvHtml" などを使って Message バッファに表示す
るには、以下のように設定します。
@end ifset
@ifset en
If you want to not visualize an Office-family file into the Message
buffer, but want to display it with "wvHtml", configure as follows:
@end ifset

@lisp
(setq mew-prog-msword  '(nil mew-mime-application/msword))
(setq mew-prog-msexcel '(nil mew-mime-application/msexcel))
(setq mew-prog-mspowerpoint '(nil mew-mime-application/mspowerpoint))
@end lisp

@ifset ja
あらかじめ定められているコマンドではなく、任意の外部コマンドを呼び出し
たい場合は、@samp{C-uC-cC-e} と入力して下さい。
@end ifset
@ifset en
If you want to specify an application instead of the pre-defined
application, type @samp{C-uC-cC-e}.
@end ifset

@ifset ja
最近、Multipart/Alternative の中に Text/Plain と Text/Html の両方が入っ
ており、どちらかを選ぶようになっているメッセージを多く見掛けます。Mew
は、標準では Text/Plain の方を優先して表示します。"emacs-w3m" をインス
トールすれば、Text/Html の方を優先したくなるかもしれません。その場合、
以下の設定を "~/.mew.el" に加えて下さい。(ここで @xref{multipart} を読
み、@samp{:} の使い方も思い出しておきましょう。)
@end ifset
@ifset en
Recently there are many message whose have Multipart/Alternative,
which consists of Text/Plain and Text/Html. By default, Mew selects
Text/Plain. When you install "emacs-w3m", you may want to choose
Text/Html. In this case, add the following to "~/.mew.el". (Now, it's
good idea to get back to @ref{multipart} to review how to use
@samp{:}.)
@end ifset

@lisp
(setq mew-mime-multipart-alternative-list
      '("Text/Html" "Text/Plain" ".*"))
@end lisp

@ifset ja
ZIP で暗号化された添付ファイルは、@samp{zz} で復号化し表示できます。
@end ifset
@ifset en
You can decrypt a ZIP attach file and display it with @samp{zz}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node draft-mode, charset, message-mode, Customize
@ifset ja
@section Draft mode
@end ifset
@ifset en
@section Draft mode
@end ifset
@vindex mew-from
@vindex mew-cc
@vindex mew-dcc
@vindex mew-header-alist
@vindex mew-cite-fields
@vindex mew-cite-format
@vindex mew-cite-prefix
@vindex mew-cite-prefix-function
@vindex mew-addrbook-for-cite-label
@vindex mew-addrbook-for-cite-prefix

@ifset ja
自分へ Cc: したい人は @samp{mew-cc} を設定して下さい。返答の際には、対象
のメッセージから、別途 Cc: が用意される場合があります。複数の Cc: がある
場合、送信時に 1 つにまとめられます。
@end ifset
@ifset en
Define @samp{mew-cc} to use Cc:. When replying, another Cc: field may be
prepared from the target message. If there are multiple Cc: fields, they
are combined to one field on sending.
@end ifset

@ifset ja
バックアップのため、自分が送るメッセージを受け取りたいと考え、しかもヘッ
ダに自分のアドレスを残したくないなら、Dcc: を使って下さい。
@samp{mew-dcc} に自分のアドレスを設定しましょう。
@end ifset
@ifset en
If you want to receive your originating messages for backup without
specifying your address, use Dcc:. Set your address to @samp{mew-dcc}.
@end ifset

@ifset ja
いつも入れて欲しいヘッダは、@samp{mew-header-alist} に連想リスト形式で定
義して下さい。以下に例を示します。
@end ifset
@ifset en
Set header fields that you want to insert every time when you write messages
to @samp{mew-header-alist} as an associate list. The following is an
example.
@end ifset

@lisp
(setq mew-header-alist
      '(("X-fingerprint:" "6B 63 38 88 67 5E 96 8E  CE A4 62 73 3F 11 64 94")
        ("X-URL:" "http://www.example.org/~kazu/")))
@end lisp

@ifset ja
引用ラベルは、引用するフィールドを @samp{mew-cite-fields}、ラベルの書式
を @samp{mew-cite-format} に定義します。引用記号は
@samp{mew-cite-prefix} に指定します。初期値は、以下のようになっています。
@end ifset
@ifset en
To customize citation label, define field to cite in
@samp{mew-cite-fields} and format in @samp{mew-cite-format}. Define
citation prefix to @samp{mew-cite-prefix}. The default declaration is as
follows:
@end ifset

@lisp
(defvar mew-cite-fields '("From:" "Subject:" "Date:"))
(defvar mew-cite-format "From: %s\nSubject: %s\nDate: %s\n\n")
(defvar mew-cite-prefix "> ")
@end lisp

@ifset ja
引用ラベルに Message-ID: を加えるには以下のようにします。
@end ifset
@ifset en
To add Message-ID: to citation label, take this way.
@end ifset

@lisp
(setq mew-cite-fields '("From:" "Subject:" "Date:" "Message-ID:"))
(setq mew-cite-format "From: %s\nSubject: %s\nDate: %s\nMessage-ID: %s\n\n")
@end lisp

@ifset ja
引用記号にアドレスのユーザ部分が付くようにするには以下のようにします。
@end ifset
@ifset en
To add a user part of an address to the citation prefix, configure as
follows:
@end ifset

@lisp
(setq mew-cite-prefix-function (function mew-cite-prefix-username))
@end lisp

@ifset ja
これで引用記号は以下のようになります。
@end ifset
@ifset en
With this, the citation prefix becomes like this:
@end ifset

@example
@ifset ja
From: SUMIKAWA Munechika <sumikawa@@ebina.hitachi.co.jp>
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

sumikawa> おはようからおやすみまでニートでおなじみの角川です。
sumikawa> 
sumikawa> さて、とろけるワイン作戦ですが、定石通り '89 のボルドーの
sumikawa> カベルネ・ソービニョンを狙いたいと思います。
@end ifset
@ifset en
From: SUMIKAWA Munechika <sumikawa@@ebina.hitachi.co.jp>
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

sumikawa> Hi, it's Sumikawa, the guy who's neat from good morning 
sumikawa> to good night.
sumikawa>
sumikawa> Talking about the wonderful wine party, I would propose 
sumikawa> Cabernet Sauvignon, Bordeaux, '90. 
@end ifset
@end example

@ifset ja
引用ラベルの From: の部分と、引用記号は、アドレス帳の個人情報の要素に変
換できます。それぞれ、@samp{mew-addrbook-for-cite-label}、
@samp{mew-addrbook-for-cite-prefix} で指定できます。初期値はそれぞれ 
@samp{nil} と @samp{'username} です。以下のような値が設定できます。
@end ifset
@ifset en
Both an address in the citation label and the citation prefix can be
converted to an element of a personal information in Addrbook. They can
be configured by @samp{mew-addrbook-for-cite-label} and
@samp{mew-addrbook-for-cite-prefix}, respectively. The default values are
@samp{nil} and @samp{'username}, respectively. You can set out of the
following values.

@end ifset

@table @asis
@ifset ja
@item 'shortname
短縮名
@item 'address
アドレス
@item 'username
アドレスのユーザ部分
@item 'nickname
ニックネーム
@item 'name
正式な氏名
@end ifset
@ifset en
@item 'shortname
Short name
@item 'address
Address
@item 'username
User part of address
@item 'nickname
Nickname
@item 'name
Full name
@end ifset
@end table

@ifset ja
例として以下のような設定を考えてみましょう。
@end ifset
@ifset en
Let's consider the following example.
@end ifset

@lisp
(setq mew-addrbook-for-cite-label 'nickname)
(setq mew-addrbook-for-cite-prefix 'nickname)
@end lisp

@ifset ja
最初の設定でラベルの中のアドレスがニックネームに変わります。また、次の設
定で引用記号もニックネームに置き換わります。
@end ifset
@ifset en
With the first line, an address in the citation label is replaced with
its nickname. The second line indicates that the cite prefix is replaced
with its nickname.
@end ifset

@example
@ifset ja
From: すみっち
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

すみっち> おはようからおやすみまでニートでおなじみの角川です。
すみっち> 
すみっち> さて、とろけるワイン作戦ですが、定石通り '89 のボルドーの
すみっち> カベルネ・ソービニョンを狙いたいと思います。
@end ifset
@ifset en
From: sumitch
Subject: Wine
Date: Wed, 23 Jul 1997 11:40:50 +0900

sumitch> Hi, it's Sumikawa, the guy who's neat from good morning 
sumitch> to good night.
sumitch>
sumitch> Talking about the wonderful wine party, I would propose 
sumitch> Cabernet Sauvignon, Bordeaux, '90. 
@end ifset
@end example

@c %%%%%%%%%%%%%%%%%
@node charset, highlight, draft-mode, Customize
@ifset ja
@section 文字コード
@end ifset
@ifset en
@section Character set
@end ifset
@vindex mew-charset-m17n
@vindex mew-ask-charset
@vindex mew-charset-latin

@ifset ja
@xref{charset-guess} で説明したように、Mew ではメッセージを作成する際に
適切な文字コードを自動的に選択します。
@end ifset
@ifset en
As described in @ref{charset-guess}, Mew automatically chooses an
appropriate charset for the message when composing.
@end ifset

@ifset ja
もし複数の言語の文字が混在しており、国際化された文字コードを選択する必要
がある場合は、@samp{mew-charset-m17n} の値を利用します。初期値は、
"utf-8" (Unicode と理解してよい)です。"iso-2022-jp-2" にしたい人は、以下
のように設定するとよいでしょう。
@end ifset
@ifset en
If characters of multiple languages exist, and if it is necessary to use
an international charset, @samp{mew-charset-m17n} is used. Its default
value is "utf-8" (equivalent to Unicode). If you want to set it to
@w{"}iso-2022-jp-2", configure like this:
@end ifset

@lisp
(setq mew-charset-m17n "iso-2022-jp-2")
@end lisp

@ifset ja
メッセージを作成した際に、推測された文字コードを確認したい場合は、
@samp{mew-ask-charset} を設定して下さい。
@end ifset
@ifset en
If you want to check a chosen charset when composing, configure
@samp{mew-ask-charset}.
@end ifset

@table @samp
@ifset ja
@item nil
どのような文字コードが利用されても確認なし
@item 文字コードのリスト
このリストに存在しない文字コードが利用された場合に確認
@item t
@samp{mew-charset-m17n} が利用された場合に確認
@end ifset
@ifset en
@item nil
Not ask.
@item A list of charset
Ask if the charset is not a member of the list.
@item t
Ask if @samp{mew-charset-m17n} is used.
@end ifset
@end table

@ifset ja
たとえば、US-ASCII と ISO-2022-JP 以外の文字コードが選ばれた場合確認した
いのであれば、以下のように設定して下さい。

@lisp
(setq mew-ask-charset '("us-ascii" "iso-2022-jp"))
@end lisp
@end ifset
@ifset en
For instance, if you want to check when charset other than US-ASCII,
ISO-8859-1, and ISO-8859-15, configure like this:

@lisp
(setq mew-ask-charset '("us-ascii" "iso-8859-1" "iso-8859-15"))
@end lisp

@end ifset

@ifset ja
こう設定しているとき、たとえば "utf-8" が選択されると、以下のように訊か
れます。
@end ifset
@ifset en
For example, when "utf-8" is chosen for a message with this
configuration, you are asked like this:
@end ifset

@example
utf-8 is used. OK? (y or n) 
@end example

@ifset ja
@samp{y} を押すと、メッセージが送信されます(あるいは、キューに溜ります)。
@samp{n} を押すと、草稿が元の状態に戻ります。
@end ifset
@ifset en
Typing @samp{y} makes the composed message sent (or queued). If you type
@samp{n}, you will go back to the original draft.
@end ifset

@ifset ja
ヨーロッパでは、Latin 1 (ISO-8859-1) の代りに、ユーロ記号を含む Latin 9
(ISO-8859-15、通称 Latin 0) が使われ始めています。草稿に、Latin 1 の文字
と Latin 9 の文字が混在していると、以下の手順によって、文字コードが決定
されます。
@end ifset
@ifset en
In Europe Latin 9 (ISO-8859-15 or Latin 0), which includes the euro
sign, is getting more and more popular instead of Latin 1
(ISO-8859-1). If characters of both Latin 1 and Lain 9 exist in a
draft, Mew takes the following step to decide a charset.
@end ifset

@enumerate
@ifset ja
@item
@samp{unify-8859-on-decoding-mode} を利用している場合：
@enumerate
@item
ISO-8859-1 に収まるなら "iso-8859-1" を利用
@item
そうでないなら "utf-8" を利用
@end enumerate
@item
@samp{unify-8859-on-decoding-mode} を利用していない場合：
@enumerate
@item
ISO-8859-1 と ISO-8859-15 のどちらにも収まる場合、@w{"}ISO-8859-1"
@item
ISO-8859-1 に収まるなら "iso-8859-1" を利用
@item
ISO-8859-15 に収まるなら "iso-8859-15" を利用
@item
そうでないなら、"utf-8" を利用
@end enumerate
@end ifset
@ifset en
@item
If @samp{unify-8859-on-decoding-mode} is used:
@enumerate
@item
Use "iso-8859-1" if no loss.
@item
Otherwise, use "utf-8".
@end enumerate
@item
If @samp{unify-8859-on-decoding-mode} is not used:
@enumerate
@item
If both ISO-8859-1 and ISO-8859-15 can be used with no loss,
@w{"}ISO-8859-1" is used.
@item
Use "iso-8859-1" if no loss.
@item
Use "iso-8859-15" if no loss.
@item
Otherwise, use "utf-8".
@end enumerate
@end ifset
@end enumerate

@ifset ja
@samp{mew-charset-latin} の初期値は、"iso-8859-15" です。"iso-8859-1" に
したい場合は、以下のように設定します。
@end ifset
@ifset en
The default value of @samp{mew-charset-latin} is "iso-8859-15". If you
want to set it to "iso-8859-1", configure like this:
@end ifset

@lisp
(setq mew-charset-latin "iso-8859-1")
@end lisp

@ifset ja
もし、US-ASCII 以外の文字に対し、必ず UTF-8 を使いたいなら、以下のよう
に設定して下さい。
@end ifset
@ifset en
If you want to always use UTF-8 for any characters other than
US-ASCII, configure as follows:
@end ifset

@lisp
(setq mew-cs-database-for-encoding
      `(((ascii) nil "7bit" "7bit")
        (nil utf-8 "base64" "B")))
@end lisp

@c %%%%%%%%%%%%%%%%%
@node highlight, hooks, charset, Customize
@ifset ja
@section 色付け
@end ifset
@ifset en
@section Highlighting
@end ifset
@vindex mew-use-highlight-mark
@vindex mew-use-highlight-header
@vindex mew-use-highlight-body
@vindex mew-highlight-body-max-size
@vindex mew-use-highlight-url
@vindex mew-use-cursor-mark
@vindex mew-cursor-mark
@vindex mew-use-highlight-cursor-line
@vindex mew-use-highlight-mouse-line
@vindex mew-use-highlight-x-face
@vindex mew-theme-file

@ifset ja
@samp{mew-use-highlight-mark} が @samp{t} の場合、マークの付いたメッセー
ジに色が付きます。初期値は @samp{t} です。
@end ifset
@ifset en
If @samp{mew-use-highlight-mark} is @samp{t}, marked message are
highlighted. The default is @samp{t}.
@end ifset

@ifset ja
@samp{mew-use-highlight-header} が @samp{t} の場合、メッセージのヘッダに
色が付きます。初期値は @samp{t} です。
@end ifset
@ifset en
If @samp{mew-use-highlight-header} is @samp{t}, the header of a message
is highlighted. The default is @samp{t}.
@end ifset

@ifset ja
@samp{mew-use-highlight-body} が @samp{t} の場合、メッセージの本文に色が
付きます。初期値は @samp{t} です。色を付ける上限は、
@samp{mew-highlight-body-max-size} で指定できます。初期値は 10000 バイト
です。
@end ifset
@ifset en
If @samp{mew-use-highlight-body} is @samp{t}, the body of a message is
highlighted. The default is @samp{t}. The limit to be highlighted can be
set by @samp{mew-highlight-body-max-size}. The default is 10000 bytes.
@end ifset

@ifset ja
@samp{mew-use-highlight-url} が @samp{t} の場合、メッセージ中の URL に仕
掛けが施されて、マウスを持っていくと光るようになります。初期値は 
@samp{t} です。
@end ifset
@ifset en
If @samp{mew-use-highlight-url} is @samp{t}, a spell is cast to URL
strings in a message. So, when you move the cursor onto the URL, it is
highlighted. The default is @samp{t}.
@end ifset

@ifset ja
@samp{mew-use-cursor-mark} が @samp{t} の場合、Summary モードにおいて、
現在表示しているメッセージの行頭に、@samp{mew-cursor-mark} で指定された
目印が付きます。初期値は @samp{nil} です。@samp{mew-cursor-mark} の初期
値は ">" です。
@end ifset
@ifset en
If @samp{mew-use-cursor-mark} is @samp{t}, the mark specified
@samp{mew-cursor-mark} is putted to the beginning of the current line.
The default is @samp{nil}. The default of @samp{mew-cursor-mark} is ">".
@end ifset

@ifset ja
@samp{mew-use-highlight-cursor-line} が @samp{t} の場合、Summary モード
でカーソルのある行に下線が引かれます。初期値は @samp{t} です。
@end ifset
@ifset en
If @samp{mew-use-highlight-cursor-line} is @samp{t}, underline is put on
the cursor line in Summary mode. The default is @samp{t}.
@end ifset

@ifset ja
@samp{mew-use-highlight-mouse-line} が @samp{t} の場合、Emacs がマウスの
色付けをサポートしていれば、Summary モードでマウスのある行に色がつきます。
真中のボタンをクリックしながら、マウスだけでメッセージを読む際にはとても
便利です。初期値は @samp{nil} になっています。
@end ifset
@ifset en
If @samp{mew-use-highlight-mouse-line} is @samp{t} on Emacs which
supports mouse highlight, the mouse line is painted in Summary
mode. This is very convenient to read messages clicking the middle
button of the mouse. The default value is @samp{nil}.
@end ifset

@ifset ja
@samp{mew-use-highlight-x-face} が @samp{t} で、ヘッダ中の X-Face: が
Message モードでアイコン化されます。初期値は @samp{t} です。この機能を
利用するには、@w{"}netpbm" と "compface" パッケージをインストールして下
さい。
@end ifset
@ifset en
If @samp{mew-use-highlight-x-face} is @samp{t}, X-Face: in a header is
iconified in Message mode. The default value is @samp{t}. To use this
feature, install the "netpbm" package and the "compface" package.
@end ifset

@ifset ja
色を変更するには、Mew のソースと一緒に配布されている "dot.theme" を
適当な名前でコピーし内容を変更します。ここでは、そのファイル名を
"~/.mew-theme.el" としましょう。まず、この名前を ".mew.el" で
@samp{mew-theme-file} に指定して下さい。
@end ifset
@ifset en
To modify colors, copy "dot.theme" contained Mew's source file to
an appropriate place, say "~/.mew-theme.el". First, set
@samp{mew-theme-file} to this file name in ".mew.el" as follows:
@end ifset

@lisp
(setq mew-theme-file "~/.mew-theme.el")
@end lisp

@ifset ja
次に中身を変更します。たとえば、以下のような設定が見つかります。
@end ifset
@ifset en
Then, change the contents. For instance, you can find the following
configuration.
@end ifset

@lisp
(mew-setface-bold header-subject
  :tty "red" :light "Firebrick" :dark "OrangeRed")
@end lisp

@ifset ja
シンボル @samp{header-subject} は、ヘッダの "Subject:" の値を意味してい
ます。:tty は Emacs をカラーの端末で起動した場合、:light と :dark は、
それぞれ Emacs をウインドウで起動したときの背景が白と黒の場合を意味して
います。
@end ifset
@ifset en
The symbol @samp{header-subject} means the value of the "Subject:"
field in a header. :tty is the case where Emacs is executed on a
terminal while :light and :dark indicates the case where the
background of Emacs executed with a window is white and black,
respectively.
@end ifset

@ifset ja
端末では green 、背景が白なら ForestGreen、背景が黒なら LimeGreen と設
定するには、以下のようにします。
@end ifset
@ifset en
If you wish green for a terminal, ForestGreen for the white
background, and LimeGreen for the black background, modify the
configuration as follows:
@end ifset

@lisp
(mew-setface-bold header-subject
  :tty "green" :light "ForestGreen" :dark "LimeGreen")
@end lisp

@ifset ja
シンボルに何があるのかは、"dot.mew" を見て下さい。
@end ifset
@ifset en
To know what kind of symbols are prepared, see the "dot.mew".
@end ifset

@ifset ja
上記の方法では、ヘッダのすべてのフィールド名やフィールド値に対してシン
ボルが定義されている訳ではありません。そこで、どんなフィールドの色でも
簡単に変更できるように、@samp{mew-header-color} と
@samp{mew-header-color-bold} という関数が用意されています。後者を使うと
太字に、前者を使うと普通の文字になります。たとえば、以下のように使いま
す。
@end ifset
@ifset en
The method above does not prepare symbols for all field names and
field value. So, @samp{mew-header-color} and
@samp{mew-header-color-bold} exist to change colors easily. If you use
the latter, characters become bold. The former results in normal.
The following is a typical usage:
@end ifset

@lisp
(mew-header-color-bold "Subject:" "LimeGreen" "OrangeRed")
@end lisp

@ifset ja
この設定では、"Subject:" が LimeGreen の太字に、その値が OrangeRed の太
字になります。
@end ifset
@ifset en
With this configuration, "Subject:" becomes bold LimeGreen and its
value turns into bold OrangeRed.
@end ifset

@ifset ja
この方法では、端末や背景の色を考慮した設定はできません。また、フィール
ド値の色を省略すると、フィールド名と同じ色が使用されます。
@end ifset
@ifset en
The second method cannot specify the cases of terminal or background.
If you omit the field value color, the field name color is used for
the field value.
@end ifset

@node hooks, pop, highlight, Customize
@ifset ja
@section フック
@end ifset
@ifset en
@section Hooks
@end ifset

@ifset ja
Mew で用意されているフックをまとめます。
@end ifset
@ifset en
Here is a summary of hooks used in Mew.
@end ifset

@vtable @samp
@ifset ja
@item mew-env-hook
Mew の起動時の環境が設定される前に評価される。
@item mew-init-hook
Mew の起動時に評価される。
@item mew-status-update-hook
状態の更新(@samp{Z})のときに評価される。
@item mew-summary-mode-hook
Summary モードに入るときに評価される。
@item mew-virtual-mode-hook
Virtual モードに入るときに評価される。
@item mew-thread-display-hook
スレッドが表示された後に評価される。
@item mew-header-mode-hook
Header モードに入るときに評価される。
@item mew-draft-mode-hook
Draft モードに入るときに評価される。
@item mew-draft-mode-newdraft-hook
新しい草稿が用意された際に、Draft モードにおいて評価される。
@item mew-draft-mode-reedit-hook
+draft でないフォルダにある古い草稿を再編集した際に、Draft モードにおい
て評価される。
@item mew-draft-mode-reedit-draft-hook
+draft でないフォルダにある草稿を再編集した際に、Draft モードにおいて評
価される。
@item mew-draft-mode-reedit-queue-hook
+queue または +postq フォルダにあるメッセージを再編集した際に、Draft モー
ドにおいて評価される。
@item mew-draft-mode-edit-again-hook
古い形式で戻ってきたメッセージを再編集した際に、Draft モードにおいて評価
される。
@item mew-message-mode-hook
Message モードに入るときに評価される。
@item mew-message-hook
メッセージが Message モードで表示される度に評価される。
@item mew-make-message-hook
Draft モードで MIME メッセージを作る前、つまり @samp{C-cC-m} の際の最初
に評価される。例：(add-hook 'mew-make-message-hook 'ispell-message)
@item mew-send-hook
メッセージを SMTP で送信/キューイングする前に評価される。メッセージの最
終形が作られる前に評価されることに注意。
@item mew-post-hook
メッセージを NNTP で投稿/キューイングする前に評価される。メッセージの最
終形が作られる前に評価されることに注意。
@item mew-real-send-hook
メッセージを SMTP で送信/キューイングする前に評価される。メッセージの最
終形が作られた後に評価されることに注意。
@item mew-real-post-hook
メッセージを NNTP で送信/キューイングする前に評価される。メッセージの最
終形が作られた後に評価されることに注意。
@item mew-smtp-flush-hook
+queue フォルダにメッセージがある場合に、SMTP が起動される前に評価され
る。
@item mew-nntp2-flush-hook
+postq フォルダにメッセージがある場合に、NNTP が起動される前に評価され
る。
@item mew-smtp-sentinel-hook
SMTP が終了する際に評価される。
@item mew-nntp-sentinel-hook
受信用の NNTP が終了する際に評価される。
@item mew-nntp2-sentinel-hook
送信用の NNTP が終了する際に評価される。
@item mew-pop-sentinel-hook
POP が終了する際に評価される。
@item mew-pop-sentinel-non-biff-hook
Biff ではない POP が終了する際に評価される。
@item mew-imap-sentinel-hook
IMAP が終了する際に評価される。
@item mew-imap-sentinel-non-biff-hook
Biff ではない IMAP が終了する際に評価される。
@item mew-scan-sentinel-hook
Summary モードの @samp{s} が終了する際に評価される。
@item mew-summary-ls-no-scan-hook
Summary モードの @samp{s} がフォルダの一覧を取らなかった場合に評価される。
@item mew-summary-exec-hook
Summary モードの @samp{x} の実行が終了する際に評価される。
@item mew-refile-guess-by-from-learn-hook
mew-refile-guess-by-from-learn が実行される際に評価される。
@item mew-sort-hook
Summary モードの @samp{M-s} の実行が終了する際に評価される。
@item mew-pack-hook
Summary モードの @samp{O} の実行が終了する際に評価される。
@item mew-summary-delete-folder-hook
フォルダが削除されるときに評価される。
@item mew-summary-rename-folder-hook
フォルダ名が変更されるときに評価される。
@item mew-summary-toggle-disp-msg-hook
Summary モードの @samp{v} の実行が終了する際に評価される。
@item mew-syntax-format-hook
マルチパートの書式を作成する関数 @samp{mew-syntax-format} が呼ばれた際に
評価される。
@item mew-addrbook-mode-hook
アドレス帳の登録モードに入るときに評価される。
@item mew-cite-hook
Draft モードで引用する際に呼ばれる。通常 supercite を設定するために使う。
@item mew-before-cite-hook
Draft モードでメッセージを引用する直前に呼ばれる。
@item mew-suspend-hook
Mew を一時中断した際に評価される。
@item mew-quit-hook
Mew の終了時に評価される。
@end ifset
@ifset en
@item mew-env-hook
Hook called at initialize time before setting environment.
@item mew-init-hook
Hook called at initialize time.
@item mew-status-update-hook
Hook called at status update(@samp{Z}).
@item mew-summary-mode-hook
Hook called in Summary mode.
@item mew-virtual-mode-hook
Hook called in Virtual mode.
@item mew-thread-display-hook
Hook called after new threads are displayed.
@item mew-header-mode-hook
Hook called in Header mode.
@item mew-draft-mode-hook
Hook called in Draft mode.
@item mew-draft-mode-newdraft-hook
Hook called in Draft mode only when new draft is prepared.
@item mew-draft-mode-reedit-hook
Hook called in Draft mode when a message not in +draft is re-edited.
@item mew-draft-mode-reedit-draft-hook
Hook called in Draft mode when a message in +draft is re-edited.
@item mew-draft-mode-reedit-queue-hook
Hook called in Draft mode when a message in +queue or +postq is
re-edited.
@item mew-draft-mode-edit-again-hook
Hook called in Draft mode when a message returned with the old style is
edited again.
@item mew-message-mode-hook
Hook called in Message mode.
@item mew-message-hook
Hook called whenever message displayed.
@item mew-make-message-hook
Hook called before making a message in Draft mode. A good example is as
follows: (add-hook 'mew-make-message-hook 'ispell-message)
@item mew-send-hook
Hook called before sending/queuing an e-mail message in Draft mode.
Note that this hook is called before composition of the message
@item mew-post-hook
Hook called before posting/queuing a NetNews message in Draft mode.
Note that this hook is called before composition of the message.
@item mew-real-send-hook
Hook called before sending/queuing an e-mail message in Draft mode.
Note that this hook is called after composition of the message.
@item mew-real-post-hook
Hook called before sending/queuing a NetNews message in Draft mode.
Note that this hook is called after composition of the message.
@item mew-smtp-flush-hook
Hook called before SMTP runs if messages exist in +queue.
@item mew-nntp2-flush-hook
Hook called before NNTP runs if messages exist in +postq.
@item mew-smtp-sentinel-hook
Hook called when a SMTP process finished.
@item mew-nntp-sentinel-hook
Hook called when a NNTP process to receive messages finished.
@item mew-nntp2-sentinel-hook
Hook called when a NNTP process to post messages finished.
@item mew-pop-sentinel-hook
Hook called when a POP process finished.
@item mew-pop-sentinel-non-biff-hook
Hook called when a non-Biff POP process finished.
@item mew-imap-sentinel-hook
Hook called when a NNTP process to post messages finished.
@item mew-imap-sentinel-hook
Hook called when an IMAP process finished.
@item mew-imap-sentinel-non-biff-hook
Hook called when a non-Biff IMAP process finished.
@item mew-scan-sentinel-hook
Hook called when scan finished.
@item mew-summary-ls-no-scan-hook
Hook called when mew-summary-ls does not scan a folder.
@item mew-summary-exec-hook
Hook called when @samp{x} in Summary mode finished.
@item mew-refile-guess-by-from-learn-hook
Hook called in mew-refile-guess-by-from-learn.
@item mew-sort-hook
Hook called when @samp{M-s} in Summary mode finished.
@item mew-pack-hook
Hook called when @samp{O} in Summary mode finished.
@item mew-summary-delete-folder-hook
Hook called when a folder deleted.
@item mew-summary-rename-folder-hook
Hook called when a folder renamed. 
@item mew-summary-toggle-disp-msg-hook
Hook called when @samp{v} in Summary finished.
@item mew-syntax-format-hook
Hook called when mew-syntax-format is called.
@item mew-addrbook-mode-hook
Hook called in Addrbook mode.
@item mew-cite-hook
Hook for an external cite mechanism. If you want to use super-cite, 
(setq mew-cite-hook 'sc-cite-original).
@item mew-before-cite-hook
Called in mew-summary-reply-with-citation before citation.
@item mew-suspend-hook
Hook called on suspend.
@item mew-quit-hook
Hook called on quit.
@end ifset
@end vtable

@ifset ja
以下にフックの設定例を示します。
@end ifset
@ifset en
Here are some example configurations of hook
@end ifset

@ifset ja
Draft モードでは、フックを @samp{text-mode-hook}、
@samp{mew-draft-mode-hook} の順で評価します。@samp{text-mode-hook} で 
@samp{auto-fill-mode} を設定していない人は、 @samp{mew-draft-mode-hook} 
を以下のように設定するのがよいかもしれません。
@end ifset
@ifset en
Draft mode evaluates @samp{text-mode-hook} and
@samp{mew-draft-mode-hook} in order. If you do not set
@samp{auto-fill-mode} to @samp{text-mode-hook}, It would be useful to
define @samp{mew-draft-mode-hook} as follows:
@end ifset

@lisp
(add-hook 'mew-draft-mode-hook
          (lambda ()
            (auto-fill-mode 1)
            (set-fill-column 70)))
@end lisp

@ifset ja
この例では、折り返しのカラム数を70に設定しています。
@end ifset
@ifset en
In this example, the number of fill column is also set to 70.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node pop, imap, hooks, Customize
@ifset ja
@section POP
@end ifset
@ifset en
@section POP
@end ifset

@ifset ja
Mew では、メッセージを受信する際に POP を利用できます。ここでは、POP を
制御するための以下の変数についてまとめます。
@end ifset
@ifset en
Mew can POP to retrieve messages. This section describes following
variables to control POP.
@end ifset

@vtable @samp
@ifset ja
@item mew-pop-server
POP サーバの名前。
@item mew-pop-ssh-server
POP を SSH 経由で取得する場合の SSH サーバの名前。
@item mew-pop-ssl
POP over SSL を使うか否か。
@item mew-pop-ssl-port
POP over SSL のポート番号。
@item mew-pop-user
POP のアカウント名。初期値はログイン名。
@item mew-pop-auth
POP の認証方式。@samp{'pass} は USER/PASS (生パスワード)、@samp{'apop} 
は APOP、@samp{t} は @samp{mew-pop-auth-list} に従った SASL を意味する。
初期値は @samp{'apop}。
@item mew-pop-auth-list
SASL で利用する認証方式のリスト。優先順位の高い順に並べる。現在、
"CRAM-MD5" が利用可能。
@item mew-pop-delete
POP サーバからメッセージを取得後、POP サーバにあるメッセージを削除するか
否か。@samp{t} なら削除。@samp{nil} なら削除しない。数値 N なら、最初の
アクセスから N 日後に削除する。初期値は @samp{t}。
@item mew-pop-size
POP サーバから取得するメッセージの大きさの上限。初期値は 55296 バイト。0 
に設定すると、上限なしの意味になり、すべてのメッセージを取得する。上限に
引っ掛かったメッセージの全体を取得する方法については、@xref{retrieving} 
を参照のこと。
@item mew-pop-body-lines
大きさの上限にひっかかったメッセージの本文を何行取得するかという値。初
期値は 40。
@item mew-pop-header-only
POP でメッセージを取得する際に、ヘッダのみにするか、本文も取得するか。
@samp{nil} でなければ、ヘッダのみを取得。初期値は @samp{nil}。
@end ifset
@ifset en
@item mew-pop-server
The name of your POP server. 
@item mew-pop-ssh-server
The name of SSH server which forwards the POP3 port.
@item mew-pop-ssl
If non-nil, POP connections are made over SSL.
@item mew-pop-ssl-port
The port for POP over SSL.
@item mew-pop-user
The user name on your POP server. The default is your login name.
@item mew-pop-auth
The authentication method for POP3. 'pass means the authentication with
USER/PASS (i.e. plain password). 'apop means the authentication with
APOP. @samp{t} means SASL according to @samp{mew-pop-auth-list}. The
default is 'apop.
@item mew-pop-auth-list
A list of SASL methods in the preferred order. Currently, "CRAM-MD5"
can be used.
@item mew-pop-delete
Whether or not delete messages on a POP server after retrieval by POP.
If @samp{t}, delete the messages. If @samp{nil}, retain the messages.
If number N, delete the messages N days after the first access. The
default is @samp{t}.
@item mew-pop-size
The limit size of messages to be retrieved by POP. The default is 55296
byte. 0 means unlimited, so you can get all messages from the POP
server. To know how to retrieve the rest of a truncated message, please
refer to @ref{retrieving}.
@item mew-pop-body-lines
*The limit of body lines to get when the size of message exceeds
@samp{mew-pop-size}. The default is 40.
@item mew-pop-header-only
Whether or not the body of a message is retrieved by POP. If non-nil,
only header is retrieved. The default is @samp{nil}
@end ifset
@end vtable

@c %%%%%%%%%%%%%%%%%
@node imap, nntp, pop, Customize
@ifset ja
@section IMAP
@end ifset
@ifset en
@section IMAP
@end ifset

@ifset ja
Mew では、メッセージを受信する際に IMAP を利用できます。ここでは、IMAP 
を制御するための以下の変数についてまとめます。
@end ifset
@ifset en
Mew can use IMAP to retrieve messages. This section describes following
variables to control IMAP.
@end ifset

@vtable @samp
@ifset ja
@item mew-imap-server
IMAP サーバの名前。
@item mew-imap-ssh-server
IMAP を SSH 経由で取得する場合の SSH サーバの名前。
@item mew-imap-ssl
IMAP over SSL を使うか否か。
@item mew-imap-ssl-port
IMAP over SSL のポート番号。
@item mew-imap-user
IMAP のアカウント名。初期値はログイン名。
@item mew-imap-auth
IMAP の認証方式。@samp{nil} は LOGIN (生パスワード)、@samp{t} は 
@samp{mew-imap-auth-list} に基づいた SASL を意味する。初期値は @samp{t}。
@item mew-imap-auth-list
SASL で利用する認証方式のリスト。優先順位の高い順に並べる。現在、
"CRAM-MD5" と "LOGIN" が利用可能。
@item mew-imap-delete
IMAP サーバからメッセージを取得後、IMAP サーバにあるメッセージを削除するか
否か。@samp{t} なら削除。@samp{nil} なら削除しない。数値 N なら、最初の
アクセスから N 日後に削除する。初期値は @samp{t}。
@item mew-imap-size
IMAP サーバから取得するメッセージの大きさの上限。初期値は 55296 バイト。
0 に設定すると、上限なしの意味になり、すべてのメッセージを取得する。上限
に引っ掛かったメッセージの全体を取得する方法については、
@xref{retrieving} を参照のこと。
@item mew-imap-header-only
IMAP でメッセージを取得する際に、ヘッダのみにするか、本文も取得するか。
@samp{nil} でなければ、ヘッダのみを取得。初期値は @samp{nil}。
@end ifset
@ifset en
@item mew-imap-server
The name of your IMAP server. 
@item mew-imap-ssh-server
The name of SSH server which forwards the IMAP4 port.
@item mew-imap-ssl
If non-nil, IMAP connections are made over SSL.
@item mew-imap-ssl-port
The port for IMAP over SSL.
@item mew-imap-user
The user name on the IMAP server. The default is your login name.
@item mew-imap-auth
The authentication method for IMAP4. @samp{nil} means the authentication with
LOGIN (i.e. plain password). @samp{t} means SASL according to
@samp{mew-imap-auth-list}. The default is @samp{t}.
@item mew-imap-auth-list
A list of SASL methods in the preferred order.
Currently, "CRAM-MD5" and "LOGIN" can be used.
@item mew-imap-delete
Whether or not delete messages on an IMAP server after retrieval by
IMAP. If @samp{t}, delete the messages. If @samp{nil}, retain the
messages. If number N, delete the messages N days after the first
access. Otherwise they are not deleted. The default is @samp{t}.
@item mew-imap-size
The limit size of messages to be retrieved by IMAP. The default is 55296
byte. 0 means unlimited, so you can get all messages from the IMAP
server. To know how to retrieve the rest of a truncated message, please
refer to @ref{retrieving}.
@item mew-imap-header-only
Whether or not the body of a message is retrieved by IMAP. If non-nil,
only header is retrieved. The default is @samp{nil}
@end ifset
@end vtable

@c %%%%%%%%%%%%%%%%%
@node nntp, smtp, imap, Customize
@ifset ja
@section NNTP
@end ifset
@ifset en
@section NNTP
@end ifset

@ifset ja
Mew では、ニュースを読み書きする際に NNTP を利用します。ここでは、NNTP 
を制御するための以下の変数についてまとめます。
@end ifset
@ifset en
Mew uses NNTP to read/write News articles. This section describes
following variables to control NNTP.
@end ifset

@vtable @samp
@ifset ja
@item mew-nntp-server
NNTP サーバの名前。
@item mew-nntp-ssh-server
NNTP を SSH 経由で取得する場合の SSH サーバの名前。
@item mew-nntp-ssl
NNTP over SSL を使うか否か。
@item mew-nntp-ssl-port
NNTP over SSL のポート番号。
@item mew-nntp-user
NNTP のアカウント名。もし @samp{nil} でなければ、認証の手続きが実行され
る。(mew-nntp-auth という変数はないことに注意。)
@item mew-nntp-newsgroup
ニュースグループ名の初期値。
@item mew-nntp-size
NNTP サーバから取得するメッセージの大きさの上限。初期値は 55296 バイト。
0 に設定すると、上限なしの意味になり、すべてのメッセージを取得する。上限
に引っ掛かったメッセージの全体を取得する方法については、
@xref{retrieving} を参照のこと。
@item mew-nntp-header-only
NNTP でメッセージを取得する際に、ヘッダのみにするか、本文も取得するか。
@samp{nil} でなければ、ヘッダのみを取得。初期値は @samp{nil}。
@item mew-nntp-msgid-user
Message-Id: を作成するためのユーザ名。@samp{nil} であれば 
@samp{mew-user} の値が利用される。初期値は @samp{nil}。
Message-Id: の書式は以下を参照。
@item mew-nntp-msgid-domain
Message-Id: を作成するためのドメイン名。@samp{nil} であれば 
@samp{mew-mail-domain} の値が利用される。初期値は @samp{nil}。
Message-Id: の書式は以下を参照。
@end ifset
@ifset en
@item mew-nntp-server
The name of your NNTP server.
@item mew-nntp-ssh-server
The name of SSH server which forwards the NNTP port.
@item mew-nntp-ssl
If non-nil, NNTP connections are made over SSL.
@item mew-nntp-ssl-port
The port for NNTP over SSL.
@item mew-nntp-user
The user name on the NNTP server. If non-nil, authentication is used.
(Note that mew-nntp-auth does not exist.)
@item mew-nntp-newsgroup
The name of default Newsgroup.
@item mew-nntp-size
The limit size of messages to be retrieved by NNTP. The default is 55296
byte. 0 means unlimited, so you can get all messages from the NNTP
server.
@item mew-nntp-header-only
Whether or not the body of a message is retrieved by NNTP. If non-nil,
only header is retrieved.
@item mew-nntp-msgid-user
A user name for creation of Message-Id:. If @samp{nil}, the value of
@samp{mew-user} is used. The default is @samp{nil}.
@item mew-nntp-msgid-domain
A domain name for creation of Message-Id:. If @samp{nil}, the value of
@samp{mew-mail-domain} is used. The default is @samp{nil}.
@end ifset
@end vtable

@ifset ja
なお、NNTP 用の Message-Id: の値は以下のように作成されます。
@end ifset
@ifset en
A value of Message-Id: for NNTP is created by the following rule:
@end ifset

@example
message-id = *random*.nntp-msgid-user@@nntp-msgid-domain
@end example

@c %%%%%%%%%%%%%%%%%
@node smtp, config, nntp, Customize
@ifset ja
@section SMTP
@end ifset
@ifset en
@section SMTP
@end ifset

@ifset ja
Mew では、メッセージを送信する際に SMTP を利用します。SMTP サーバが認証
を要求した場合、Mew は自動的にユーザにバスワードの入力を求めます。ここ
では、SMTP を制御するための以下の変数についてまとめます。
@end ifset
@ifset en
Mew uses SMTP to send messages. If an SMTP server requires
authentication, Mew automatically asks you to input your
password. This section describes following variables to control SMTP.
@end ifset

@vtable @samp
@ifset ja
@item mew-smtp-server
SMTP サーバの名前。
@item mew-smtp-port
SMTP ポート番号。
@item mew-smtp-ssh-server
SSH 経由でメッセージを送る際の SSH サーバの名前。
@item mew-smtp-ssl
SMTP over SSL を使うか否か。
@item mew-smtp-ssl-port
SMTP over SSL のポート番号。
@item mew-smtp-user
SMTP AUTH で利用されるアカウント名。設定されない場合は、自動的にメール
アドレスに設定される。
@item mew-smtp-auth-list
SMTP AUTH で利用する認証方式のリスト。優先順位の高い順に並べる。初期値
は、'("CRAM-MD5" "PLAIN" "LOGIN")。
@item mew-smtp-helo-domain
SMTP HELO コマンドで使われるサーバ名。初期値は "localhost"。
@item mew-smtp-mail-from
SMTP MAIL FROM コマンドで指定されるアドレス。@samp{nil} の場合は、From: 
フィールドのアドレスが指定される。初期値は @samp{nil}。
@item mew-smtp-msgid-user
Message-Id: を作成するためのユーザ名。@samp{nil} であれば 
@samp{mew-user} の値が利用される。初期値は @samp{nil}。
Message-Id: の書式は以下を参照。
@item mew-smtp-msgid-domain
Message-Id: を作成するためのドメイン名。@samp{nil} であれば 
@samp{mew-mail-domain} の値が利用される。初期値は @samp{nil}。
Message-Id: の書式は以下を参照。
@item mew-use-8bit
8 ビットテキストを符号化せずにそのまま送るか否か。@samp{nil} の場合は、適
切な MIME 符号化が施される。初期値は @samp{nil}。
@end ifset
@ifset en
@item mew-smtp-server
The name of your SMTP server.
@item mew-smtp-port
The port for SMTP.
@item mew-smtp-ssh-server
The name of SSH server which forwards the SMTP port.
@item mew-smtp-ssl
If non-nil, SMTP connections are made over SSL.
@item mew-smtp-ssl-port
The port for SMTP over SSL.
@item mew-smtp-user
The user name on your SMTP server. If not configured, your e-mail
address is automatically set.
@item mew-smtp-auth-list
A list of SMTP AUTH methods in the preferred order.
Currently, "CRAM-MD5", "PLAIN", and "LOGIN" can be used.
@item mew-smtp-helo-domain
An e-mail domain to tell a SMTP server with HELO/EHLO. The default is
"localhost".
@item mew-smtp-mail-from
The default is @samp{nil}. An e-mail address to tell a SMTP server with
MAIL FROM:. If @samp{nil}, an address specified by the From: field is used.
@item mew-smtp-msgid-user
A user name for creation of Message-Id:. If @samp{nil}, the value of
@samp{mew-user} is used. The default is @samp{nil}.
@item mew-smtp-msgid-domain
A domain name for creation of Message-Id:. If @samp{nil}, the value of
@samp{mew-mail-domain} is used. The default is @samp{nil}.
@item mew-use-8bit
Whether or not send 8bit text without MIME encoding. If @samp{nil}, an
appropriate MIME encoding is applied. The default is @samp{nil}.
@end ifset
@end vtable

@ifset ja
なお、SMTP 用の Message-Id: の値は以下のように作成されます。
@end ifset
@ifset en
A value of Message-Id: for SMTP is created by the following rule:
@end ifset

@example
message-id = *random*.smtp-msgid-user@@smtp-msgid-domain
@end example

@ifset ja
Message Submission (ポート番号が 587 である送信用の SMTP)を使いたい場合
は、以下のように設定して下さい。
@end ifset
@ifset en
If you want to use Message Submission (SMTP for submission whose port
number is 587), configure as follows:
@end ifset

@lisp
(setq mew-smtp-port "submission")
@end lisp

@ifset ja
SSL (@xref{SSL})や TLS (@xref{TLS}) の章も参考にして下さい。
@end ifset
@ifset en
Please refer also to SSL (@pxref{SSL}) and TLS (@pxref{TLS}).
@end ifset

@ifset ja
SMTP サーバの中には、認証なし、つまりパスワードを送られるとエラーと見な
す設定であるにも関わらず、認証を要求してくるものがあります。Mew は、
SMTP サーバが認証を要求すると、ユーザにパスワードを尋ねて、入力されたパ
スワードをサーバへ送ります。上記のようなおかしな SMTP サーバに対処する
には、以下のように設定し、認証を要求されてもパスワードを送らなくすればよ
いでしょう。
@end ifset
@ifset en
Some SMTP servers are mis-configured. They requests authentication
though errors occur if passwords are received. Mew automatically ask a
user to input user's password and send it to an SMTP server if it
requires authentication. To get along with such SMTP servers above,
configure as follows:
@end ifset

@lisp
(setq mew-use-smtp-auth nil)
@end lisp

@vtable @samp
@ifset ja
@item mew-use-smtp-auth
SMTP サーバが認証を要求したとき、パスワードを送るかどうか。デフォルトは
@samp{t}。@samp{nil} にすると、SMTP サーバが認証を要求しても無視する。
@end ifset
@ifset en
@item mew-use-smtp-auth
If non-nil, Mew send user's password if an SMTP server requests
authentication. The default value is @samp{t}.
If @samp{nil}, Mew does not send user's password even if
the (mis-configured) SMTP server requests authentication.
@end ifset
@end vtable

@c %%%%%%%%%%%%%%%%%
@node config, config2, smtp, Customize
@ifset ja
@section 送受信の動作変化
@end ifset
@ifset en
@section Changing receiving/sending behavior
@end ifset
@vindex mew-config-alist
@vindex mew-case-guess-alist
@vindex mew-case-guess-when-replied-alist
@vindex mew-mailbox-type
@vindex mew-proto
@kindex C-cC-o (Draft)

@ifset ja
@samp{mew-config-alist} を使うと、メッセージの送受信に関する動作に変化を
つけられます。以下の設定例を使って説明します。
@end ifset
@ifset en
With @samp{mew-config-alist}, you can differ actions of
sending/receiving messages. Let's look at the following example:
@end ifset

@lisp
(setq mew-config-alist
      '((home
         (inbox-folder   "+inbox-home")
         (pop-server     "pop.iij4u.or.jp"))
        (ext
         (pop-ssh-server "ssh.example.org"))
        (default
         (proto          "%")
         (imap-server    "imap.example.org")
         (pop-server     "pop.example.org"))))
@end lisp

@ifset ja
この例では、"home"、"ext"、"default" という 3 つのケースを定めています。
それぞれのケースに対して、いくつかのキーと値の対が設定されています。
@end ifset
@ifset en
This example defines three "cases": "home", "ext", and "default". For each
case, some pair of key and value are defined.
@end ifset

@ifset ja
この例を使って、@samp{mew-config-alist} の意味を説明します。ケースを
"home" にして "pop-server" を索くと、"pop.iij4u.or.jp" が得られます。ケー
スを @w{"}ext" にして "pop-server" を索くと、"ext" には該当するキーがな
いので、@w{"}default" を見て、"pop.example.org" が得られます。ケースを
"default" にして "pop-server" を索くと、"pop.example.org" が得られます。
@end ifset
@ifset en
We explain the semantics of @samp{mew-config-alist} with this example.
If the "case" is "home", looking up "pop-server" results in
@w{"}pop.iij4u.or.jp". If the "case" is "ext", looking up "pop-server"
results in "pop.example.org" since there is no specified key for the
@w{"}case" and the "default" is used. If the "case" is "default",
looking up "pop-server" results in "pop.example.org".
@end ifset

@ifset ja
ケースを "home" にして "inbox-folder" を索くと、"+inbox-home" が得られま
す。ケースを "ext" にして "inbox-folder" を索くと、"ext" には該当するキー
がなく、さらに "default" にもないので、@samp{mew-inbox-folder} という変
数の値が得られます。ケースを "default" にして "inbox-folder" を索いた場
合も、@samp{mew-inbox-folder} の値が得られます。
@end ifset
@ifset en
If the "case" is "home", looking up "inbox-folder" results in
"+inbox-home". If the "case" is "ext", looking up "inbox-folder"
results in the value of @samp{mew-inbox-folder} since there is no
specified key for both "ext" and "default". If the "case" is
"default", looking up "inbox-folder" also results in the value of
@samp{mew-inbox-folder}.
@end ifset

@ifset ja
"proto" (@samp{mew-proto})は、@samp{M-x mew} と入力された際に、どのフォ
ルダに移動するか指定するために使います。(Mew を起動するために
@samp{M-x mew} と入力する場合、"default" ケースの "proto" が利用されま
す。Mew が起動している際に、@samp{M-x mew} と入力するとケースに従って、
"proto" が選ばれます。)
@end ifset
@ifset en
"proto" (@samp{mew-proto}) is used to specify a folder which is
selected when you type @samp{M-x mew}. (If you input @samp{M-x mew}
when Mew is not executed, ""proto" for the "default" "case" is
used. If you type @samp{M-x mew} when Mew is running, "proto" is
chosen according to the value of the "case".
@end ifset

@ifset ja
値の候補は、"+"、"$"、"%"、"-" です。これらは標準では、"+inbox"、
@w{"}$inbox"、"%inbox"、"-fj.mail.reader.mew" を意味します。
@end ifset
@ifset en
Candidates of the value are "+", "$", "%", and "-". These means
@w{"}+inbox", "$inbox", "%inbox", and "-fj.mail.reader.mew" without
any special configuration.
@end ifset

@ifset ja
@samp{mew-config-alist} で設定できるキーは、@samp{mew-"キー"} という変
数に対応しています。以下に設定できる項目を列挙します。
@end ifset
@ifset en
Each key which can be specified in @samp{mew-config-alist} corresponds
to the variable @samp{mew-"key"}. The following list enumerates such
keys.
@end ifset

@example
name, user, mail-domain, 
cc, fcc, dcc, reply-to, organization, header-alist, proto, 
smtp-server, smtp-port, smtp-ssh-server, smtp-ssl, smtp-ssl-port, 
smtp-user, smtp-auth-list, 
smtp-msgid-user, smtp-msgid-domain, smtp-helo-domain, smtp-mail-from, 
pop-server, pop-port, pop-ssh-server, pop-ssl, pop-ssl-port, 
pop-user, pop-auth, pop-auth-list, 
pop-size, pop-header-only, pop-delete, pop-body-lines,
pop-proxy-server, pop-proxy-port,
imap-server, imap-port, imap-ssh-server, imap-ssl, imap-ssl-port, 
imap-user, imap-auth, imap-auth-list, 
imap-size, imap-header-only, imap-delete, 
imap-trash-folder, imap-queue-folder, imap-spam-field, imap-spam-word,
imap-proxy-server, imap-proxy-port,
nntp-server, nntp-port, nntp-ssh-server, nntp-ssl, nntp-ssl-port, 
nntp-user, nntp-size, nntp-header-only, 
nntp-msgid-user, nntp-msgid-domain, 
ssl-cert-directory, ssl-verify-level, 
inbox-folder, queue-folder, postq-folder, 
mailbox-type, mbox-command, mbox-command-arg,
signature-file, content-type, refile-guess-alist, 
spam-prog, spam-prog-args, ham-prog, ham-prog-args, 
use-old-pgp, pgp-signer, smime-signer, privacy-method, 
protect-privacy-always, protect-privacy-always-type, 
protect-privacy-encrypted, protect-privacy-encrypted-type, 
protect-privacy-with-old-pgp-signature,
use-format-flowed
@end example

@ifset ja
name、user、mail-domain は以下の規則にしたがって、From: の値になります。
@end ifset
@ifset en
A value for From: is made of 'name', 'user', and 'mail-domain'
according to the following rule:
@end ifset

@example
from = name <user@@mail-domain>
@end example

@ifset ja
自分で @samp{mew-from-list} を設定していない場合は、上記のルールに従い各
ケースの from を集めて、@samp{mew-from-list} が自動的に設定されます。
@xref{cheader} を参照のこと。
@end ifset
@ifset en
Unless you set @samp{mew-from-list} by yourself, @samp{mew-from-list}
is automatically set collecting 'from' for each "case" according to
the rule above. see @ref{cheader}.
@end ifset

@ifset ja
@samp{mew-config-alist} に設定したケース名をケースに指定できます。Mew
の起動時のケースは、"default" になっています。
@end ifset
@ifset en
Cases configured in @samp{mew-config-alist} can be specified to the
@w{"}case". When Mew boots up, both the "case" is "default".
@end ifset

@ifset ja
Summary モードにおいて、ケースを変更するには @samp{C} を利用します。ケー
スには、@samp{TAB} で補完、@samp{C-cTAB} で循環的な補完が効きます。
@end ifset
@ifset en
If you want to change the "case", type @samp{C}. You can use
completion by @samp{TAB} and circular completion by @samp{C-cTAB}.
@end ifset

@ifset ja
ケースが "default" 以外の値をとった場合は、Summary モードのモードライン
に表示されます。以下はケースが "home" となっている場合の例です。
@end ifset
@ifset en
If the "case" is not "default", they are displayed in the mode line of
Summary mode. The following is an example where the "case" is "home".
@end ifset

@example
(Summary home)
@end example


@ifset ja
Draft モードでは、ケースが "default" でない場合、モードラインにその値が
表示されます。以下は、ケースが "home" である場合の例です。
@end ifset
@ifset en
In Draft mode, if the "case" is not "default", the value is displayed
in mode line. The following is an example that the "case" is "home".
@end ifset

@example
(Draft home)
@end example

@ifset ja
Draft モードにおいて、その草稿のケースを変更するには、@samp{C-cC-o} を
用います。mail-domain キーや header-alist キーに対応する値に応じて、ヘッ
ダが動的に変更されます。なお、このケースは、その Draft モードに固有にな
ります。
@end ifset
@ifset en
To change the "case" of a draft in Draft mode, use @samp{C-cC-o}. Its
header is dynamically modified according to the value of the
'mail-domain' key and the 'header-alist' key. Note that the "case" is
a local variable of the Draft mode.
@end ifset

@ifset ja
Draft モードでは、ケースを自動的に設定することもできます。
@end ifset
@ifset en
You can automatically set the "case" in Draft mode.
@end ifset

@vtable @samp
@ifset ja
@item mew-case-guess-when-prepared
この変数が @samp{t} の場合、草稿が用意されたときに、
@samp{mew-case-guess-alist} に従ってケースが設定される。初期値は
@samp{t}。
@item mew-case-guess-when-composed
この変数が @samp{t} の場合、メッセージが作成されたときに、
@samp{mew-case-guess-alist} に従ってケースが設定される。初期値は
@samp{nil}
@item mew-case-guess-when-replied
この変数が @samp{t} の場合、返答によって草稿が用意されたときに、
@samp{mew-case-guess-when-replied-alist} に従ってケースが設定される。初
期値は @samp{t}。
@end ifset
@ifset en
@item mew-case-guess-when-prepared
If this variable is @samp{t}, the "case" is automatically guessed
according @samp{mew-case-guess-alist} when a draft is prepared. The
default is @samp{t}.
@item mew-case-guess-when-composed
If this variable is @samp{t}, the "case" is automatically guessed
according @samp{mew-case-guess-alist} when a message is composed. The
default is @samp{nil}.
@item mew-case-guess-when-replied
If this variable is @samp{t}, the "case" is automatically guessed
according @samp{mew-case-guess-alist} when a draft is prepared by
replying. The default is @samp{t}.
@end ifset
@end vtable

@ifset ja
@samp{mew-case-guess-alist} と @samp{mew-case-guess-when-replied-alist} 
の書式は、@samp{mew-refile-guess-alist} と同じです。詳しくは、
@xref{by-alist} を参照して下さい。
@end ifset
@ifset en
The syntax of @samp{mew-case-guess-alist} and
@samp{mew-case-guess-when-replied-alist} is the same as
@samp{mew-refile-guess-alist}. For more information, please refer to
@ref{by-alist}.
@end ifset

@ifset ja
Draft モードで草稿を送信するために @samp{C-cC-c} を使うと、Draft モード
のケースが SMTP/NNTP サーバなどを決定するために利用されます。Summary モー
ドで +queue/+postq のメッセージを送り出すために @samp{C-cC-c} を利用す
ると、Summary モードのケースが利用されます。たとえ、そのケースが Draft
モードで指定されていたケースと違ってもです。Summary モードで
@samp{C-uC-cC-c} を使うと、+queue/+postq のメッセージを送り出すためのケー
スが指定できます。
@end ifset
@ifset en
When typing @samp{C-cC-c} in Draft mode to send a draft, the "case" in
Draft mode is used to determine an SMTP/NNTP server, etc. When typing
@samp{C-cC-c} in Summary mode to flush messages in +queue/+postq, the
@w{"}case" in Summary mode is used even if it is different from the
one which was used in Draft mode. @samp{C-uC-cC-c} in Summary mode let
you specify the "case" to flush messages in +queue/postq.
@end ifset


@ifset ja
以下にケースに関するコマンドをまとめます。
@end ifset
@ifset en
The following is a summary of commands concerned with the "case".
@end ifset

@table @samp
@ifset ja
@item C
Summary モードにおいて、ケースを設定する。
@item C-cC-o
Draft モードにおいて、その草稿のケースを設定する。
@end ifset
@ifset en
@item C
In Summary mode, set the "case".
@item C-cC-o
In Draft mode, set the "case" of a draft.
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%
@node config2, custom-misc, config, Customize
@ifset ja
@section 設定の書式
@end ifset
@ifset en
@section The format of configuration
@end ifset
@vindex mew-config-alist

@ifset ja
Mew 6.1 から ".mew.el" の設定方法が改善されました。古い書式も有効ですが、
より簡単な新しい書式も利用できます。
@end ifset
@ifset en
In Mew 6.1, configuration format of "mew.el" is improved. You can use
a new format as well as the old format.
@end ifset

@itemize @minus
@ifset ja
@item
古い書式ではリストの中に "." が現れる場合がありました。新しい書式では、
"." はまったく使われません。たとえば、("foo" . "bar") と書いていたとこ
ろは、("foo" "bar") と書けます。
@item
古い書式では、ポート番号は文字列で書いていました。たとえば、"25" です。
新しい書式では、数値で書いてもよくなりました。たとえば、25 です。文字列
も有効です。たとえば、"smtp" です。
@item
古い書式では、@samp{mew-config-alist} のケースやキーを文字列で書いてい
ました。新しい書式では、シンボルで書けます。
@end ifset
@ifset en
@item
In the old format, sometime "." appears. In the new fomat, no "."
appears at all. For instance, you can write ("foo" "bar") instead of
("foo" . "bar").
@item
In the old format, a numeric port is specified as string. An example
is "25". In the new format, you can write it as integer. An example is
25. The string is still valid. An example is "smtp".
@item
In the old format, the cases and the keys of @samp{mew-config-alist}
are written as string. In the new format, you can specify them as
symbol.
@end ifset
@end itemize

@ifset ja
以下に mew-config-alist を新しい書式で書いた例を示します。
@end ifset
@ifset en
Here is an example of the new format:
@end ifset

@lisp
(setq mew-config-alist
      '((home
         (imap-server       "imap.example.org")
         (imap-ssl          t)
         (imap-ssl-port     993)
         (smtp-server       "smtp.example.org")
         (smtp-port         "submission"))))
@end lisp

@ifset ja
以下の古い書式と見比べて下さい。
@end ifset
@ifset en
Compare this with the following old one:
@end ifset

@lisp
(setq mew-config-alist
      '(("home"
         ("imap-server"   . "imap.example.org")
         ("imap-ssl"      . t)
         ("imap-ssl-port" . "993")
         ("smtp-server"   . "smtp.example.org")
         ("smtp-port"     . "submission"))))
@end lisp

@ifset ja
繰り返しますが、Mew 6.1 では古い書式も有効です。古い書式と新しい書式を
混ぜて書いても構いません。
@end ifset
@ifset en
Again, the old format is still valid. You can also mix the new format
and the old format.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node custom-misc, Tips, config2, Customize
@ifset ja
@section その他
@end ifset
@ifset en
@section Miscellaneous
@end ifset
@vindex mew-use-samba-encoding
@vindex mew-cs-samba
@vindex mew-print-function
@vindex mew-field-for-printing

@ifset ja
環境によっては、添付ファイルをセーブする際に、ファイル名を SAMBA 形式に
すると便利なことがあります。この場合、@samp{mew-use-samba-encoding} を 
@samp{t} にして下さい。ファイル名として、どの文字コードを利用するかは、
@samp{mew-cs-samba} で指定できます。初期値は @samp{shift_jis} です。
@end ifset
@ifset en
In a certain environment, it would be useful to encode a file with SAMBA
encoding when saving an attached file. For this, set
@samp{mew-use-samba-encoding} to @samp{t}. You can set
@samp{mew-cs-samba} to a character set for the file name. The default is
@samp{shift_jis}.
@end ifset

@ifset ja
Summary モードで @samp{#} と押すと、現在のメッセージを印刷できます。印
刷に利用する関数は @samp{mew-print-function} で定義します。初期値は、
@samp{ps-print-buffer} ですから、PostScript に変換されて印刷されます。
自分の作成した関数を利用するには、以下のように設定します。
@end ifset
@ifset en
You can print the current message by typing @samp{#} in Summary mode.
A function for printing can be set to @samp{mew-print-function}.
Since its default value is @samp{ps-print-buffer}, a message is
converted into a PostScript file before sent to a printer. You can set
your own print function as follows:
@end ifset

@lisp
(setq mew-print-function 'my-print-function)
@end lisp

@ifset ja
ヘッダ中のどのフィールドを印刷するかは、@samp{mew-field-for-printing}
で指定できます。初期値は、以下のようになっています。
@end ifset
@ifset en
You can set fields in a header to be printed to
@samp{mew-field-for-printing}. Its default value is as follows:
@end ifset

@lisp
'("Subject:" "From:" "To:" "Cc:" "Date:")
@end lisp

@ifset ja
たとえば、Subject:、From:、Date: のみを印刷するには、以下のように設定し
ましょう。
@end ifset
@ifset en
For instance, if you want to print Subject:, From:, and Date: only,
configure as follows:
@end ifset

@lisp
(setq mew-field-for-printing '("Subject:" "From:" "Date:"))
@end lisp

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Tips
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Tips, region, custom-misc, Top
@ifset ja
@chapter さらなる一歩
@end ifset
@ifset en
@chapter Advanced usage
@end ifset

@menu
@ifset ja
* region::                      リージョン
* visiting::                    移動
* SSH::                         Secure SHell
* SSL::                         Secure Socket Layer
* TLS::                         Transport Layer Security
* spam::                        スパム
* spam2::                       スパム(2)
* addr-warn::                   アドレスの警告
* biff::                        Biff
* edit::                        Edit モード
@end ifset
@ifset en
* region::                      Region
* visiting::                    Visiting another buffer
* SSH::                         Secure SHell
* SSL::                         Secure Socket Layer
* TLS::                         Transport Layer Security
* spam::                        Spam messages
* spam2::                       Spam messages (2)
* addr-warn::                   Warning addresses
* biff::                        Biff
* edit::                        Edit mode
@end ifset
@end menu

@c %%%%%%%%%%%%%%%%%
@node region, visiting, Tips, Tips
@ifset ja
@section リージョン
@end ifset
@ifset en
@section Region
@end ifset

@ifset ja
Summary モードには、@samp{C-u} 付きで呼び出すと、リージョンに作用するコ
マンドがあります。これらのコマンドは、ビジブルなリージョンが指定されて
いる場合は、@samp{C-u} なしでもそのリージョンに作用します。
@end ifset
@ifset en
In Summary mode, there are commands which work for a region if called
with @samp{C-u}. If a visible region is specified, these commands work
for the region without @samp{C-u}.
@end ifset

@ifset ja
Emacs では、以下の設定を "~/.emacs" に入れると、ビジブルなリージョンが
利用できるようになります。
@end ifset
@ifset en
For Emacs, you can use the visible region feature by putting the
following into your "~/.emacs".
@end ifset

@lisp
(transient-mark-mode 1)
@end lisp

@ifset ja
以下に、該当するコマンドを列挙しておきます。
@end ifset
@ifset en
Here is a summary of such commands.
@end ifset

@example
@samp{?}, @samp{/}, @samp{tt}, @samp{x}, @samp{lx}, @samp{ma}, @samp{Md}, @samp{S}, @samp{mlc}, @samp{mli}, @samp{*}, @samp{$}, @samp{d}, @samp{u}
@end example

@ifset ja
@samp{*}, @samp{$}, @samp{d}, @samp{u} は、直前に数字を入力することで、
繰り返しの回数を指定することもできます。たとえば、@samp{3*} は 3 つのメー
ルに @samp{*} マークを付けます。数字の前に @samp{C-u} は不要です。
@end ifset
@ifset en
Also you can specify a repeat count before you call @samp{*},
@samp{$}, @samp{d}, and @samp{u}. For example, typing @samp{3d} puts the
@samp{*} mark onto three messages. You don't have to type @samp{C-u}
before the number.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node visiting, SSH, region, Tips
@ifset ja
@section 移動
@end ifset
@ifset en
@section Visiting another buffer
@end ifset
@vindex mew-visit-queue-after-sending
@vindex mew-visit-inbox-after-setting-case
@kindex C-cC-o (Summary)

@ifset ja
Draft モードにおいて、@samp{C-cC-m} でメッセージを作成し送信キューに入
れた後、+queue に移動したい場合は、
@samp{mew-visit-queue-after-sending} を @samp{t} に設定して下さい。
@end ifset
@ifset en
If you want to move to +queue after making a message and putting it to
+queue with @samp{C-cC-m} in Draft mode, set
@samp{mew-visit-queue-after-sending} to @samp{t}.
@end ifset

@ifset ja
Summary モードにおいて、@samp{C} でケースを設定した後に、各 inbox に移
動したい場合は、@samp{mew-visit-inbox-after-setting-case} を @samp{t}
に設定しましょう。
@end ifset
@ifset en
If you want to visit to an appropriate inbox after setting the "case"
with @samp{C} in Summary mode, set
@samp{mew-visit-inbox-after-setting-case} to @samp{t}.
@end ifset

@ifset ja
Summary モードから、一番数字の小さい草稿(Draft モード)に移動するには、
@samp{C-cC-o} が利用できます。
@end ifset
@ifset en
If you want to move from Summary mode to a draft (Draft mode) whose
name is the smallest number, type @samp{C-cC-o}.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node SSH, SSL, visiting, Tips
@ifset ja
@section Secure SHell
@end ifset
@ifset en
@section Secure SHell
@end ifset
@vindex mew-pop-ssh-server

@ifset ja
Mew は SSH として、SSH バージョン 1、2 および OpenSSH をサポートしてい
ます。Mew から SSH を利用する前に、必ずコマンド・ラインで "ssh" を実行
し、SSH サーバの公開鍵を取得して下さい。すなわち、ユーザのパスワードか、
ローカルのマシンの秘密鍵を復号化するためのパスワードを入力すれば、サー
バにログインできる状態にして下さい。なお、"ssh-agent" を利用すれば、秘
密鍵を復号化するためのパスワードの入力を省略できます。
@end ifset
@ifset en
Mew supports SSH version 1 and version 2 and OpenSSH for SSH. You must
execute "ssh" on the command and obtain server's public key before you
use Mew with SSH. That is, you should set up so that you can login the
server with your user password or with the password to decrypt the
secret key of the local machine. Of source, you can omit the password
to decrypt the secret key if you use "ssh-agent".
@end ifset

@ifset ja
後は、各プロトコルの SSH に関する変数を設定して下さい。たとえば、POP
over SSH を利用する場合は、@samp{mew-pop-ssh-server} に SSH サーバの名
前を設定しましょう。
@end ifset
@ifset en
After that, you should configure SSH variables relating to each
protocol. For example, if you want to use POP over SSH, set
@samp{mew-pop-ssh-server} to your SSH server name.
@end ifset

@ifset ja
SSH で通信が保護されている場合、モードラインに錠前の絵が表示されます。
@end ifset
@ifset en
While a connection is protected by SSH, a picture of a lock is shown
in the mode line.
@end ifset

@ifset ja
Mew の実装では、SSH と SSL/TLS を同時には使えません。SSH トンネルの中で
SSL/TLS を使う必要がある場合、Mew では SSL/TLS だけを設定し、SSH トンネ
ルはコマンドラインから張るようにして下さい。
@end ifset
@ifset en
The implementation of Mew does not allow to use both SSH and SSL/TLS
at the same time. If you need to use SSL/TLS over an SSH tunnel,
please configure SSL/TLS only with Mew and set up an SSH tunnel on a
command line.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node SSL, TLS, SSH, Tips
@ifset ja
@section Secure Socket Layer
@end ifset
@ifset en
@section Secure Socket Layer
@end ifset
@vindex mew-ssl-cert-directory
@vindex mew-ssl-verify-level
@vindex mew-pop-ssl
@vindex mew-pop-ssl-port
@vindex mew-smtp-ssl

@ifset ja
SSL を使うには、認証局方式の信用モデルを理解している必要があります。現
在、Mew は SSL のために "stunnel" バージョン 3 とバージョン 4 をサポー
トしています。
@end ifset
@ifset en
Before you use SSL, you should understand the trust model of
certificate authorities (CA). Currently, Mew supports "stunnel" version
3 and version 4 for SSL.
@end ifset

@ifset ja
Mew で利用する前に、SSL サーバに対して "stunnel" で SSL のコネクション
が張れるか確かめて下さい。"stunnel" は、"openssl" のライブラリをリンク
しているので、"openssl" の知識が必要です。
@end ifset
@ifset en
Before you use Mew with SSL, you must be sure that an SSL connection
can be established to your SSL server. Since "stunnel" is linked to
the "openssl" library, you should understand "openssl".
@end ifset

@ifset ja
信用する証明書を保存しておくディレクトリを "~/.certs" だとしましょう。
ここに "openssl" の "certs" ディレクトリに付いてくる PEM 形式の証明書を
"<ハッシュ>.0" という名前でコピーします。
@end ifset
@ifset en
Suppose we use "~/.certs" as a directory where certificates of trusted
CAs are contained. You need to copy PEM-format certificates embedded
in the source of "openssl" to this director. Each name should be
@w{"}<hash>.0".
@end ifset

@ifset ja
ここでは、PEM 形式の証明書のファイル名を "ca.pem" だとしましょう。「<ハッ
シュ>」は以下のように計算できます。
@end ifset
@ifset en
Here we call a sample CA certificate "ca.pem". You can calculate
<hash> as follows:
@end ifset

@example
% openssl x509 -hash -noout -in ca.pem
@end example

@ifset ja
"~/.certs/" へコピーするには、以下のようにします。
@end ifset
@ifset en
To copy the certificate, do as follows:
@end ifset

@example
% cp ca.pem ~/.certs/`openssl x509 -hash -noout -in ca.pem`.0
@end example

@ifset ja
"openssl" に付いてくる証明書は、世の中で使われている CA すべてを網羅で
きていません。あなたが利用するサーバの証明書が、他の CA から発行された
場合、その CA の証明書を同様にコピーしておく必要があります。以下のペー
ジに CA の証明書がたくさん置いてあります。
@end ifset
@ifset en
The certificates in the source of "openssl" do not cover all CAs. If
the certificate of your SSL server is signed by another CA, you must
copy the certificate of the CA to the directory. You may be able to
find appropriate certificate from the following page:
@end ifset

@example
http://www.columbia.edu/~ariel/good-certs/ns45/
@end example

@ifset ja
Mew で "stunnel" を制御する重要な変数は 2 つです。
@samp{mew-ssl-cert-directory} は、信用する CA の証明書を置いておくディ
レクトリであり、初期値は "~/.certs" です。また、
@samp{mew-ssl-verify-level} で、証明書を検証するレベルを指定できます。
レベルの初期値は 1 です。この意味は、以下の通りです。
@end ifset
@ifset en
There are two important Mew variables to control "stunnel".
@samp{mew-ssl-cert-directory} is the directory where you install
certificates of trusted CAs. It's default value if "~/.certs". Also,
you can set the verification level with @samp{mew-ssl-verify-level}.
It's default to 1. The meanings of the values are as follows:
@end ifset

@table @asis
@ifset ja
@item 0
検証しない
@item 1
サーバの証明書があれば検証する。検証結果が失敗なら、SSL/TSL コネクショ
ンは作られない。証明書がなければ、SSL/TLS コネクションを作成する。
@item 2
サーバの証明書を検証する。検証結果が失敗なら、SSL/TSL コネクションは作
られない。証明書がなければ、SSL/TLS コネクションを作成しない。
@item 3
サーバが送ってきたものではなく、ローカルにインストールされている証明書
で検証する。
@end ifset
@ifset en
@item 0
No verification.
@item 1
Verify server's certificate if present. If verification failed, an
SSL/TLS connection is not created. If not present, an SSL/TLS
connection is created.
@item 2
Verify server's certificate. If verification failed, an SSL/TLS
connection is not created. If not present, an SSL/TLS connection is
not created.
@item 3 
Verify server's certificate which locally installed (not one from the
server).
@end ifset
@end table

@ifset ja
後は各プロトコルの SSL に関する変数を設定して下しさい。たとえば、POP
over SSL を利用するには、@samp{mew-pop-ssl} を @samp{t} にします。また、
ポート番号が標準と異なる場合には、@samp{mew-pop-ssl-port} を設定して下
さい。
@end ifset
@ifset en
Then configure SSL-related variables of each protocol. For example, if
you want to use POP over SSL, set @samp{mew-pop-ssl} to @samp{t}.
Also, if its port is not a standard one, configure
@samp{mew-pop-ssl-port}.
@end ifset

@lisp
(setq mew-pop-ssl t)
@end lisp

@ifset ja
SMTP で SSL を利用する場合は、以下のようにします。
@end ifset
@ifset en
To use SSL for SMTP, configure as follows:
@end ifset

@lisp
(setq mew-smtp-ssl t)
@end lisp

@ifset ja
SSL で通信が保護されている場合、モードラインに錠前の絵が表示されます。
@end ifset
@ifset en
While a connection is protected by SSL, a picture of a lock is shown
in the mode line.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node TLS, spam, SSL, Tips
@ifset ja
@section Transport Layer Security
@end ifset
@ifset en
@section Transport Layer Security
@end ifset

@ifset ja
Mew では SSL の代りに TLS を利用することもできます。TLS の実現は、SSL
と同様 "stunnel" に頼っています。ですので、TLS を利用する際には、
@xref{SSL} の説明に従って設定して下さい。
@end ifset
@ifset en
Mew can use TLS instead of SSL. To enable TLS, Mew relies on
@w{"}stunnel", too. So, before using TLS, you should configure
according to the explanations in @ref{SSL}.
@end ifset

@ifset ja
次に、SSL のポート番号を守りたいプロトコルと同じポート番号に設定します。
たとえば、POP では以下のようにします。
@end ifset
@ifset en
Then, set the SSL port to the same one of the protocol to be
protected. For instance, configure as follows for POP:
@end ifset

@lisp
;; mew-pop-port is default to "pop3" (110)
(setq mew-pop-ssl t)
(setq mew-pop-ssl-port mew-pop-port) ;; The default is "pop3s" (995)
@end lisp

@ifset ja
すなわち、SSL のポート番号と保護したいプロトコルのポートが同じであれば
TLS、異なれば SSL が利用されます。
@end ifset
@ifset en
That is, if the SSL port is the same as the port of the protocol to be
protected, TLS is used. Otherwise, SSL is used.
@end ifset

@ifset ja
以下は、Message Submission を TLS で守るための設定例です。
@end ifset
@ifset en
The following is an example to protect Message Submission with TLS.
@end ifset

@lisp
(setq mew-smtp-port "submission") ;; The default is "smtp" (25)
(setq mew-smtp-ssl t)
(setq mew-smtp-ssl-port mew-smtp-port) ;; The default is 465
@end lisp

@c %%%%%%%%%%%%%%%%%
@node spam, spam2, TLS, Tips
@ifset ja
@section スパム
@end ifset
@ifset en
@section Spam messages
@end ifset
@vindex mew-spam
@vindex mew-inbox-action-alist
@vindex mew-imap-spam-field
@vindex mew-imap-spam-word
@vindex mew-imap-spam-folder

@ifset ja
(1) スパムのフィルタが POP サーバや IMAP サーバ側で動いている場合：

POP で +inbox にメッセージを取得したり、$inbox や %inbox でメッセージの
一覧を取ったりする場合に、スパムに自動的に @samp{D} マークを付けること
ができます。
@end ifset
@ifset en
(1) In the case where a spam filter is running on your POP server or
your IMAP server.

You can put the @samp{D} mark to spam messages while you are
retrieving messages in +inbox or you are scanning messages in
$inbox/%inbox.
@end ifset

@ifset ja
Bogofilter を利用している場合は、以下の設定を "~/.mew.el" に入れて下さ
い。
@end ifset
@ifset en
If you use "bogofilter", put the following to your "~/.mew.el".
@end ifset

@lisp
(defun mew-spam-bogofilter (val)
  (let ((case-fold-search t))
    (if (string-match "yes" val) ?D)))

(setq mew-inbox-action-alist
      '(("X-Bogosity:" mew-spam-bogofilter)))
@end lisp

@ifset ja
@samp{D} マークを付ける代わりに、+spam フォルダへリファイルするように @samp{o} マー
クを付けるようにするには、関数を以下のように記述します。
@end ifset
@ifset en
If you want to put the @samp{o} mark so as to be refiled to the +spam
folder, instead of putting to th @samp{D} mark, you should program the
function as follows:
@end ifset

@lisp
(defun mew-spam-bogofilter (val)
  (let ((case-fold-search t))
    (if (string-match "yes" val) "+spam")))
@end lisp

@ifset ja
Spamassassin の場合は、以下の設定を "~/.mew.el" に入れて下さい。
@end ifset
@ifset en
If you use "spamassassin", put the following to your "~/.mew.el".
@end ifset

@lisp
(setq mew-spam: "X-Spam-Flag:")
(defun mew-spam-assassin (val)
  (let ((case-fold-search t))
    (if (string-match "yes" val) ?D)))

(setq mew-inbox-action-alist
      '(("X-Spam-Flag:" mew-spam-assassin)))
@end lisp

@ifset ja
bsfilter を使う場合は、bsfilter に含まれているマニュアルを参照して下さ
い。
@end ifset
@ifset en
In the case where you want to use bsfilter, see a document in the
bsfilter package.
@end ifset


@ifset ja
(2) スパムのフィルタが IMAP サーバ側で動いている場合：

%inbox でメッセージの一覧を取る際に、IMAP サーバの中でスパムを消去、ま
たは、他のフォルダへ移動させることができます。Bogofilter を利用している
場合は、以下のような設定を "~/.mew.el" に加えて下さい。
@end ifset
@ifset en
(2) In the case where a spam filter is running in your IMAP server.

You can delete or move spam messages while you are scanning %inbox.
If you use "bogofilter", put the following to your "~/.mew.el".
@end ifset

@lisp
(setq mew-imap-spam-field "X-Bogosity")
(setq mew-imap-spam-word "Yes")
@end lisp

@ifset ja
@samp{mew-imap-spam-folder} あるいは @samp{mew-imap-trash-folder} が定
義されていれば、そのフォルダへスパムが移動します。そうでなければ、スパ
ムは消去されます。
@end ifset
@ifset en
If @samp{mew-imap-spam-folder} or @samp{mew-imap-trash-folder} is
defined, spam messages are moved to the folder. Otherwise, they are
removed.
@end ifset

@ifset ja
(3) ローカルで bogofilter を動かして、一括して @samp{*} マークを付ける
方法もあります。まず、以下のスクリプトをインストールして下さい。
@end ifset
@ifset en
(3) In the case where you installed "bogofilter" in your local machine,
you can put the @samp{*} mark to spam messages. First you need to install
the following script, say "bogo":
@end ifset

@example
#!/bin/sh

bogofilter -v -T -B $* | grep S
@end example

@ifset ja
このスクリプト名を "bogo" だとしましょう。Summary モードで @samp{?} を
実行し、@samp{RET} を入力し、コマンド名に "bogo" を指定すれば、スパムに
@samp{*} マークが付きます。あとは、@samp{md} + @samp{x} などで処理する
といいでしょう。
@end ifset
@ifset en
Type @samp{?} and @samp{RET}, then specify "bogo", and spam messages
are marked with @samp{*}. After that, you may want to process them
with @samp{md} + @samp{x}.
@end ifset

@ifset ja
(4) POP サーバを利用しており、サーバ側ではスパムのフィルタを動かせないが、
メッセージの取得時にマークを付けたい場合：
@end ifset
@ifset en
(4) In the case where you use POP and a spam filter does not run on
the POP server but you want to mark spam messages when retrieving
@end ifset

@ifset ja
bsfilter は、POP の代理サーバとなる機能があるので、これを実現できます。
詳しくは bsfilter に含まれているマニュアルを参照して下さい。
@end ifset
@ifset en
Since bsfilter can be a POP proxy server, you can implement your
policy. See a document in the bsfilter package.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node spam2, addr-warn, spam, Tips
@ifset ja
@section スパム(2)
@end ifset
@ifset en
@section Spam messages(2)
@end ifset
@kindex lh (Summary)
@kindex ls (Summary)
@vindex mew-spam-prog
@vindex mew-spam-prog-args
@vindex mew-ham-prog
@vindex mew-ham-prog-args

@ifset ja
Summary モードで読んでいる現在のメッセージを、フィルターにスパムとして
学習させるには @samp{ls} を使います。同様に、ハム(スパムでないメッセー
ジ)として学習させるには @samp{lh} を利用して下さい。
@end ifset
@ifset en
If you want to let your filter learn the current message in Summary as
a spam, type @samp{ls}. Likewise type @samp{lh} to let your filter
learn it as a ham (non-spam).
@end ifset

@ifset ja
両者のコマンドを使用するためには、4 つの変数を設定しておく必要があります。
ここでは bogofilter を例題にとり、3 つの場合について説明します。
@end ifset
@ifset en
To use these commands, you need to configure four variables in advance.
We consider bogofilter as an example and see three cases.
@end ifset

@ifset ja
(1) ローカルのフィルターに学習させる場合：
@end ifset
@ifset en
(2) To let your local filter learn:
@end ifset

@lisp
(setq mew-spam-prog "bogofilter")
(setq mew-spam-prog-args '("-s" "-N" "-v"))
(setq mew-ham-prog "bogofilter")
(setq mew-ham-prog-args '("-n" "-S" "-v")))
@end lisp

@ifset ja
(2) サーバ(<server>)側のフィルターに SSH 経由で学習させる場合：
@end ifset
@ifset en
(2) To let your filter on your <server> learn via SSH:
@end ifset

@lisp
(setq mew-spam-prog "ssh")
(setq mew-spam-prog-args '("<server>" "bogofilter" "-s" "-N" "-v"))
(setq mew-ham-prog "ssh")
(setq mew-ham-prog-args '("<server>" "bogofilter" "-n" "-S" "-v")))
@end lisp

@ifset ja
(3) ファイアウォール(<firewall>)の先のサーバ(<server>)のフィルターに
多段の SSH 経由で学習させる場合：
@end ifset
@ifset en
(3) To pass through your <firewall> with SSH and to let your filter on
your <server> learn via SSH:
@end ifset

@lisp
(setq mew-spam-prog "ssh")
(setq mew-spam-prog-args '("-A" "<firewall>" "ssh" "<server>" "bogofilter" "-s" "-N" "-v"))
(setq mew-ham-prog "ssh")
(setq mew-ham-prog-args '("-A" "<firewall>" "ssh" "<server>" "bogofilter" "-n" "-S" "-v")))
@end lisp

@ifset ja
なお SSH を利用する場合、関連するホストには、パスワードなしでログインで
きるように設定しておく必要があります。
@end ifset
@ifset en
If you use SSH, you need to configure related hosts so that you can
login them without passwords.
@end ifset

@c %%%%%%%%%%%%%%%%%
@node addr-warn, biff, spam2, Tips
@ifset ja
@section アドレスの警告
@end ifset
@ifset en
@section Warning addresses
@end ifset
@vindex mew-safe-addresses
@vindex mew-warn-addresses
@vindex mew-safe-domains
@vindex mew-warn-domains

@ifset ja
社内で閉じるべきメッセージの宛先に、うっかり社外の人のアドレスを書いて
しまうことがあります。Mew では、たとえば社内のドメイン名を列挙しておく
と、社外のアドレスを赤色にして警告してくれます。
@end ifset
@ifset en
Suppose you are writing a message which must be closed in your
company. You might write an non-employee's address by mistake. If you
tells your company's domains, for instance, to Mew, it turns
non-employee's addresses to red.
@end ifset

@ifset ja
どのアドレスを警告するのかを決定する変数は 4 つあり、すべて文字列のリス
トになります。Mew は以下のルールに従って、警告するアドレスを決めます。
@end ifset
@ifset en
There are four variables to decide which address should trun red.
They are all a list of strings. Mew takes the following rules:
@end ifset

@enumerate
@ifset ja
@item
アドレスが @samp{mew-safe-addresses} で指定されていれば警告しない。
@item
アドレスが @samp{mew-warn-addresses} で指定されていれば警告する。
@item
ドメインが @samp{mew-safe-domains} で指定されていれば警告しない。
@item
ドメインが @samp{mew-warn-domains} で指定されていれば警告する。
@item
@samp{mew-warn-addresses} か @samp{mew-safe-domains} が定義されていれば
警告する。
@item
警告しない。
@end ifset
@ifset en
@item
If an address is specified in @samp{mew-safe-addresses}, no warning.
@item
If the address is specified in @samp{mew-warn-addresses}, warning.
@item
If its domain is specified in @samp{mew-safe-domains}, no warning.
@item
If its domain is specified in @samp{mew-warn-domains}, warning.
@item
If either @samp{mew-warn-addresses} or @samp{mew-safe-domains} defined,
warning.
@item
No warning.
@end ifset
@end enumerate

@ifset ja
以下に "@@example.org" 以外のドメインを持つアドレスを警告する例を示します。
@end ifset
@ifset en
Here is an example that an address whose domain is not "@@example.org"
turns red.
@end ifset

@lisp
(setq mew-safe-domains '("example.org"))
@end lisp

@ifset ja
ドメインは "@@example.org" ですが、"customers@@example.org" は警告したい場合は、
さらに以下のように設定します。
@end ifset
@ifset en
If you want "customers@@example.org" to turn red even its domain is 
@w{"}@@example.org", add the following line.
@end ifset

@lisp
(setq mew-warn-addresses '("customers@@example.org"))
@end lisp

@c %%%%%%%%%%%%%%%%%
@node biff, edit, addr-warn, Tips
@ifset ja
@section Biff
@end ifset
@ifset en
@section Biff
@end ifset
@vindex mew-use-biff
@vindex mew-use-biff-bell
@vindex mew-biff-interval

@ifset ja
メッセージが到着したか定期的に調べる機能を biff といいます。Mew では、
以下の設定をすると、5 分ごとに新規メッセージが何個あるか調べるようにな
ります。
@end ifset
@ifset en
The functionality to check new messages is called biff. With the
following configuration Mew sees how many new messages have arrived
every 5 minutes.
@end ifset

@lisp
(setq mew-use-biff t)
@end lisp

@ifset ja
新規メッセージがあれば、その数がモードラインに表示されます。
@end ifset
@ifset en
If one or more new messages exist, the total number is displayed in
the mode line.
@end ifset

@ifset ja
Biff の対象となるサーバとプロトコルは、Mew の起動時に @samp{mew-proto}
とケース(@samp{mew-case})から決定されます。
@end ifset
@ifset en
The server and the protocol, which Mew checks, are decided according
to @samp{mew-proto} and the "case" (@samp{mew-case}) on boot time.
@end ifset

@ifset ja
以下の設定をすると、新規メッセージがない状態からある状態に変った際に、
ビープ音が鳴ります。
@end ifset
@ifset en
With the following configuration, Mew beeps when the number of new
messages changes from zero to one or more.
@end ifset

@lisp
(setq mew-use-biff-bell t)
@end lisp

@ifset ja
メッセージの到着を調べる間隔を変えるには、@samp{mew-biff-interval} を設
定して下さい。以下は、10 分にする例です。
@end ifset
@ifset en
To change the interval time of biff, set @samp{mew-biff-interval}.
Below is an example to set it to 10 minutes.
@end ifset

@lisp
(setq mew-biff-interval 10)
@end lisp

@c %%%%%%%%%%%%%%%%%
@node edit, Convention, biff, Tips
@ifset ja
@section Edit モード
@end ifset
@ifset en
@section Edit
@end ifset
@kindex M-e
@kindex C-cC-c (Edit)
@kindex C-cC-m (Edit)

@ifset ja
Edit モードは、既存のメッセージを編集し、新しいメッセージを作成するため
のモードです。用途の典型例を以下に示します。
@end ifset
@ifset en
Edit mode is a mode to edit a message to generate another new message.
The followings are typical examples:
@end ifset

@itemize @minus
@ifset ja
@item
大きな添付ファイルを削除して保存する
@item
PGP/MIME や S/MIME で暗号化されたメッセージを復号化した状態で保存する
@end ifset
@ifset en
@item
Saving a new message with big attachments removed
@item
Saving a decrypted message whose original one is encrypted with
PGP/MIME or S/MIME
@end ifset
@end itemize

@ifset ja
現在のメッセージを Edit モードで編集するには、@samp{M-e}を押します。す
ると、Draft モードに似た形で草稿が用意されます。Edit モードでは、Draft
モードと同様の操作で、メッセージを編集できます。
@end ifset
@ifset en
To edit a current message in Edit mode, type @samp{M-e}. Then, a new
draft is prepared like Draft mode. In Edit mode, you can edit a
message as if you were in Draft mode.
@end ifset

@ifset ja
編集したメッセージを新しいメッセージとして保存するには、@samp{C-cC-c}か
@samp{C-cC-m}を使います。両者は、まったく同じコマンドです。これらのコマ
ンドを実行すると、どのフォルダに保存するかを訊いてきます。
@end ifset
@ifset en
To save edited message to a new message, type @samp{C-cC-c} or
@samp{C-cC-m}. They are the exactly same command. To execute one of
them, you are asked a folder to save the new message.
@end ifset

@ifset ja
なお、この機能は再編集(@xref{sum-write})と混同しやすいので注意して下さ
い。再編集は編集後に送信するのに対し、Edit モードでは編集の後に保存しま
す。
@end ifset
@ifset en
Please take care that you may confuse this command as retry
sending (@pxref{sum-write}). Retry seinding is to send a message after
editing while Edit mode is to save a message after modifying.
@end ifset

@ifset ja
以下に Edit モードのまとめを示します。Summary モードから Edit モードに
入るには以下のコマンドを使います。
@end ifset
@ifset en
The following is summary of commands relating to Edit mode. To enter
Edit mode from Summary mode, use the following command.
@end ifset

@table @samp
@ifset ja
@item M-e
現在のメッセージを元に Edit モードに入る。
@end ifset
@ifset en
@item M-e
Entering Edit mode with the current message.
@end ifset
@end table

@ifset ja
Edit モードでのコマンドをまとめます。
@end ifset
@ifset en
The following is a summary of commands in Edit mode.
@end ifset

@table @samp
@ifset ja
@item C-cC-c
編集したメッセージを新しいメッセージに保存。
@item C-cC-m
@samp{C-cC-c}に同じ。
@item その他
Draft モードと同じ。
@end ifset
@ifset en
@item C-cC-c
Saving the edited message to a new message.
@item C-cC-m
The same as @samp{C-cC-c}
@item Other commands
The same as the other commands in Edit mode
@end ifset
@end table

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Message Convention
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Convention, Implementation, edit, Top
@ifset ja
@chapter メッセージの作法
@end ifset
@ifset en
@chapter E-mail convention
@end ifset

@ifset ja
メッセージをやりとりする際には、最低限のマナーがあります。マナーを守って
いないメッセージは読みにくいため、大変損します。簡潔かつ適切な文章を書き、
なるべく相手に理解してもらえるよう努力しましょう。
@end ifset
@ifset en
When you exchange messages with other people, you should obey minimum
manner. It gives a bad impression to the people if you violate the
manner since such messages are hard to read. We always should try to
write concise yet comprehensive explanations and make an effort to make
receivers well-understood.
@end ifset

@ifset ja
メッセージを書く際に気を付けるべき項目を以下に示します。
@end ifset
@ifset en
We should take good care of the following items.
@end ifset

@table @asis
@ifset ja
@item To: と Cc: を正しく書く
To: が目的の人で、Cc: は参考までに送り付ける人です。自分のアドレスが Cc: 
の場合は、読み飛ばす人がいますから注意して下さい。また、不必要なアドレス
を To: や Cc: に書いて、相手に迷惑をかけてしまうことがないようにしましょ
う。

@item To: と Cc: に書くアドレスの数は少なくする
アドレスをたくさん To: や Cc: に書くのはよくないことです。面倒でもメーリ
ングリストを作りましょう。あるいは、必要に応じて宛先を匿名にしましょう
(@xref{anonymous})。

@item Subject: には本文の内容を的確に短く書く
Subject: を見て読むか決める人がいますから、不適切な Subject: だと読んで
もらえないかもしれません。長い Subject: は読みにくいので止めましょう。

@item 必要な部分だけを引用する
面倒でも不要な部分は削りましょう。Mew を使っていれば、引用は楽勝のはずで
す。

@item シグニチャは簡素にする
長いシグニチャは単なる自己満足です。

@item いたずらメッセージを送らない
こんなことは注意したくありませんが、それでも不幸のメッセージなどを送って
くる人がいます。人格を疑われることを理解すべきです。

@item 相手の読めるデータのみを添付する
なんの合意もなしに送ってよいデータはテキストのみです。それ以外のデータを
送る場合は、あらかじめ相手に送ってよいか確認をとりましょう。メーリングリ
ストには、テキストのみを投稿するのが無難でしょう。
@end ifset
@ifset en
@item Fill To: and Cc: fields precisely
To: is for target receivers and Cc: is for those who are received for
their information. If his address is not on To:, he might skip to read
the message. We should take care not to deliver to wrong people by
mistaking the addresses.

@item The number of addresses To: and Cc: should be small
It is discouraged to specify a lot of mail addresses on To: and Cc:. You
should create a mailing-list instead. Or, if necessary, you should make
the destination anonymous (@pxref{anonymous}).

@item Write a short and clear summary of body in Subject:
There are people who decide to read contents from their Subject:. So,
they might skip messages with improper Subject:. We should not write a
long subject since it is hard to read.

@item Cite only necessary sentences
You should not bother to remove unnecessary sentences. With Mew,
citation must be a piece of cake.

@item Make your signature simple
A long signature is just self-satisfaction.

@item Do not send prank messages
I do not want to warn this kind of stuff. Nonetheless, someone sends
Happy or Unhappy messages to others. You should understand that people
doubt your character.

@item Attach data files that the receivers can read
It is text only that you can send without any agreement with the
receivers. If you want to send data files other than text, you should
make an agreement with the receivers. To mailing-list, you should send
text only.
@end ifset
@end table

@ifset ja
また、インターネットのマナーは RFC1855 を読むといいでしょう。
@end ifset
@ifset en
If you wish to learn manner on the Internet more comprehensively, please
refer to RFC1855.
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Implementation
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Implementation, Avail, Convention, Top
@ifset ja
@chapter 実装について
@end ifset
@ifset en
@chapter Implementation Issues
@end ifset

@table @asis
@ifset ja
@item "mewl" と "mewencode" が必要なのはなぜ？
Mew では、Summary mode でメッセージを取得している間や、一覧を再表示して
いる間に、メッセージを読み進めることができます。これは、プログラムの制御
の流れが複数必要であることを意味しています。Emacs で制御の流れを複数にす
るには、サブプロセスを作るか、TCP コネクションを張るしか方法がありません
(Emacs Lisp には light weight process がありません)。POP や SMTP には、
TCP コネクションを使うので問題ありません。しかし、Summary mode の一覧を
再表示するためには、何かコマンドを起動しないといけません。これが、
"mewl" が存在する理由です。"mewencode" が存在する理由は、単に速度のため
です。MIME の符号化を Emacs Lisp で実装したところ、使い物にならないぐら
い遅かったので、"mewencode" を使い続けています。(ただし、Base64 が Emacs 
で実装されていれば、そちらを使います。)

@item 文字列検索(@samp{C-s}、@samp{C-r})すると、行末にカーソルが飛ぶのはなぜ？
Summary mode において、スレッド情報は表示されません。これは、Summary
mode で表示されている行に関しては、表示する瞬間にスレッド情報に非表示
の属性を付けるからです。非表示の属性がついている部分は文字列検索の対象
にはなりません。しかし、Summary mode に表示されていない行のスレッド情
報は、非表示の属性がついていないため、検索の対象となります。そして、合
致した行が表示される際に非表示の属性がついて、あたかも行末に合致したか
のような錯覚を受けます。Summary mode 全体の行のスレッド情報には、キー
の入力がない時間に非表示の属性が付きます。全体に非表示の属性が付くと、
Summary mode のモードラインの右端にある @samp{*} マークが消えます。こ
の状態では、文字列検索が直感通りに働きます。

@item Mew 4.3 でファイルを添付すると MS のメールリーダでファイル名が認識できるようになりました
MS のメールリーダは、ファイル名を符号化する際に、標準化されてない独自の
方法を使います。MS のメールリーダが、標準化されている符号化方式に移行す
ればいいのですが、何度お願いしても無理でした。そこで、Mew では以下のよ
うな方法で、この問題を解決しました。すなわち、Mew は基本的には標準化さ
れている方法で、ファイル名を符号化します。それに加えて、MS のメールリー
ダが参照する標準化されてないパラメータに対して、ファイル名を MS 独自の
方法で符号化し、付加します。

@end ifset
@ifset en
@item Why are "mewl" and "mewencode" necessary?
With Mew, you can read throw messages in Summary mode while you are
retrieving messages or listing the messages again. This means that
multiple control flows of program are necessary. To make multiple
control flows by Emacs, the only way is to make a TCP connection or to
execute sub-process (Emacs Lisp does NOT provide a feature of light
weight process). For POP and SMTP, Mew makes a TCP connection, so they
are not a problem. However, to list the messages in Summary mode again,
we have to execute a command. This is why "mewl" exists. The reason why
"mewencode" exists is just for speed. When I programmed MIME encoding by
Emacs Lisp in several ways, they are too slow to use. So, I decided to
continue to use "mewencode". (If Base64 is implemented by Emacs, Mew
uses the native function.)

@item Why does the cursor jump onto the end of line when searching(@samp{C-s}, @samp{C-r})?
Thread informations are not displayed in Summary mode. This is because
the "invisible" property is dynamically put onto them when
displayed. Strings with this property is not a target of the string
search. But, thread informations of undisplayed lines do not have this
property, so the string search targets them. Then a matched line is
displayed and the "invisible" property is put. So, it seems to you that
the string search matches the end of the line. Mew puts the "invisible"
property for all lines in Summary mode in background while there are no
user key inputs. When this word is finished, the @samp{*} mark in the
right side of the mode line in Summary mode disappears. In this
situation, string search works exactly as you expect.

@item MS's mailers can handle file names well if I attach files with Mew 4.3
MS's mailers use "non-standard MS original" encoding to encode file
names.  MS mailers should migrate to the standard encoding. I
repeatedly asked MS to do so, but they did not. So, Mew took the
following workaround: Mew basically uses the standard encoding. In
addition, Mew add "MS original parameter" with file names encoded
with "MS original" encoding.

@end ifset
@end table

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Avail
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Avail, obtain, Implementation, Top
@ifset ja
@chapter 入手方法とメーリングリスト
@end ifset
@ifset en
@chapter Availability and mailing-list
@end ifset

@ifset ja
ここでは、Mew の入手方法とメーリングリストについて触れます。
@end ifset
@ifset en
This chapter describes how to get Mew and related mailing-lists.
@end ifset

@menu
@ifset ja
* obtain::                      Mew の入手方法
* ml::                          メーリングリスト
@end ifset
@ifset en
* obtain::                      How to get Mew?
* ml::                          Mailing list
@end ifset
@end menu 

@c %%%%%%%%%%%%%%%%%
@node obtain, ml, Avail, Avail
@ifset ja
@section Mew の入手方法
@end ifset
@ifset en
@section How to get Mew?
@end ifset

@ifset ja
Mew の最新バージョンは以下から入手できます。
@end ifset
@ifset en
The latest Mew is available from the following repository.
@end ifset

@example
http://www.Mew.org/Release/
@end example

@ifset ja
Mew の CVS 版について知りたければ、以下を参照して下さい。
@end ifset
@ifset en
If you want to know about CVS versions of Mew, please refer to:
@end ifset

@example
http://www.mew.org/anoncvs/
@end example

@c %%%%%%%%%%%%%%%%%
@node ml, Copyright, obtain, Avail
@ifset ja
@section メーリングリスト
@end ifset
@ifset en
@section Mailing list
@end ifset

@ifset ja
Mew に関するメーリングリストについては、以下を参照して下さい。

@example
http://www.mew.org/mailman/listinfo
@end example
@end ifset

@ifset en
If you want to receive release announcement, please
subscribe yourself to mew-release.

@example
http://www.mew.org/mailman/listinfo/mew-release
@end example

If you want to ask questions and/or discuss features in English,
please subscribe yourself to mew-int.

@example
http://www.mew.org/mailman/listinfo/mew-int
@end example
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Copyright
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Copyright, Variable Index, ml, Top
@ifset ja
@chapter 著作権について
@end ifset
@ifset en
@chapter Copyright
@end ifset

@ifset ja
Mew は以下の著作権に従います。

Copyright (C) 1994-2011 Mew developing team.@*
All rights reserved.

変更の有無にかかわらず、ソースおよびバイナリ形式の再配布および利用は、以
下の条件を満たしていれば、これを許可する。

@enumerate
@item
ソース・コードの再配布は、上記の著作権表示、この条件項目、および、以下の
免責事項を保存しなければならない。
@item
バイナリ形式の再配布は、上記の著作権表示、この条件項目、および、以下の免
責事項を、その配布に付随する説明書、あるいはその他の資料のいずれかに明記
しなければならない。
@item
前もって特別に許諾を得ない限り、このソフトウェアから派生した製品の推奨や
販売促進のために、このチーム名と貢献者達の名前を利用してはならない。
@end enumerate

このソフトウェアは「このままの形で」提供され、明示的あるいは言外の保証
は、商用利用および特定目的への適合に対する言外の保証も含み、またこれら
だけに限らず、存在しない。たとえ以下のような損害の可能性を示唆されてい
たとしても、どのような形にしろこのソフトウェアの利用から発生した問題に
おいて、このチームと貢献者達は、(代替製品やサービスの調達; 利用権、デー
タ、あるいは利益の損失; あるいは営業の中断を含む、またこれらだけに限ら
ず)直接的に、間接的に、偶然に、特別に、懲罰上、あるいは、必然的に生じ
てしまった損害に対し責任はなく、いかなる責任理論上でも契約の有無に係わ
らず厳密な責任はなく、また(過失あるいはその他を含む)不法行為に対しても
責任はない。
@end ifset
@ifset en
Mew conforms the following copyright.

Copyright (C) 1994-2011 Mew developing team.@*
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:

@enumerate
@item
Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.
@item
Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in the
documentation and/or other materials provided with the distribution.
@item
Neither the name of the team nor the names of its contributors
may be used to endorse or promote products derived from this software
without specific prior written permission.
@end enumerate

THIS SOFTWARE IS PROVIDED BY THE TEAM AND CONTRIBUTORS ``AS IS'' AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE TEAM OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@end ifset

@ifset ja
CD ROM に入れて配布したいという方は、できるだけ教えて下さい。教えてくれ
なくても怒りませんが、教えて頂けるとありがたいです。配布を断ったことは
ありません。
@end ifset
@ifset en
If you wish to distribute Mew in CD or something, please let me know. I
do not go mad even if you do not tell me but I'm very glad if you do so.
I never have declined requirements.
@end ifset

@ifset ja
このマニュアルの著作権は、著者に属します。複製、改変、再配布は自由です
が、無保証です。また、このマニュアルから発生した被害に対し、著者は一切
責任を負いません。
@end ifset
@ifset en
The copyright of this manual belongs to the author. Permission is
granted to copy, modify, redistribute this manual but no warranty.
@end ifset

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Variable Index
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Variable Index, Key Index, Copyright, Top
@ifset ja
@chapter 変数索引
@end ifset
@ifset en
@chapter Variable Index
@end ifset

@printindex vr

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Key Index
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@node Key Index, , Variable Index, Top
@ifset ja
@chapter キー索引
@end ifset
@ifset en
@chapter Key Index
@end ifset

@printindex ky

@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
@c      Tailer
@c %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

@shortcontents
@contents
@bye
